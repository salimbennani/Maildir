Return-Path: <kvm-owner@vger.kernel.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (124.160.105.205:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 22 Nov 2018 00:33:52 -0000
Received: from icoremail.net (unknown [209.85.214.178])
	by mail-app2 (Coremail) with SMTP id by_KCgDHH7bhcPVb0c_IAQ--.58568S3;
	Wed, 21 Nov 2018 22:51:13 +0800 (CST)
Received: from mail-pl1-f178.google.com (unknown [209.85.214.178])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwCnjkrecPVb_PdjAA--.1943S3;
	Wed, 21 Nov 2018 22:51:10 +0800 (CST)
Received: by mail-pl1-f178.google.com with SMTP id t13so5847786ply.13
        for <xuliker@zju.edu.cn>; Wed, 21 Nov 2018 06:51:10 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-original-authentication-results:x-gm-message-state:delivered-to
         :from:to:cc:subject:thread-topic:thread-index:date:message-id
         :accept-language:content-language:content-transfer-encoding
         :mime-version:sender:precedence:list-id;
        bh=OsOhb7o+5wuO14uOsU2slG1MPqxqYIFX3bjmZ1usfj0=;
        b=mJcXO/TyFkPUXkzDeiv+aAUTfqBNbZEpl7xGo98E/0aF0Jj8/sihw3wXuVb3vq9PdU
         +BysibTxacy88jePN/z2ydBQE17d+XkmkL5rwDF+XHx48ZbYDzuMTSzZ6kc5z/YgsqmH
         9HG3NycFJDhWClW7kEUVexBFbNKI0im9eiMVlGZcpVhZ5q3ZziiNm0lxt8GGdf8iTHzi
         M/9KaF89dGT29FozklKH8KOhxBry/h+Hm+5j10UbZ3AzxP0P4CrJ2W+fL5MQdiSbPJG6
         AOI/Y1oGvZnCN+mG7zEmvZoPny9zIcnYF3yDQ0rZeQolRRUp5eLGSA6BOk1+LwRkTjlz
         Gn/A==
X-Original-Authentication-Results: mx.google.com;       spf=pass (google.com: best guess record for domain of kvm-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=kvm-owner@vger.kernel.org
X-Gm-Message-State: AA+aEWbZQMAbbSkbrosMbveAO1iVVoWBLdF2WpWrG5Wy0ED90DOf6QQm
	aOYSun+S/FDR7O3K/ASzywiSqWbH+DVgNlzW0npFJaOMfwi0Uz4=
X-Received: by 2002:a17:902:166:: with SMTP id 93-v6mr6973817plb.68.1542811870443;
        Wed, 21 Nov 2018 06:51:10 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:d106:0:0:0:0 with SMTP id l6-v6csp2049933pju;
        Wed, 21 Nov 2018 06:51:08 -0800 (PST)
X-Google-Smtp-Source: AJdET5e7b2lSnW0c82lzkrRXII/OZ0hgIxi8cKhEEh3P1GXVMPgEkb468LZkrzhNKwExadHS+vz8
X-Received: by 2002:a62:6d07:: with SMTP id i7-v6mr7386349pfc.146.1542811868666;
        Wed, 21 Nov 2018 06:51:08 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1542811868; cv=none;
        d=google.com; s=arc-20160816;
        b=S0Bj2DykgnWPEKW6JxSwoZl5q/IaIh14WFaxVxRaeg3yHmBikXRNKBdRzOmfcl1SXP
         u9AEqhi8OAI58ixONvTCITBvQNZjMzP6CJwXBRNwTtR6esPl1H03j1yDxLcRhqoLis+A
         ukwY8mMKIDMRPZv9DI4axGyqZjVwTV2CNB53tJSztwj44pLJrgwx8NWU7u9/rj3txpP2
         XbKYcVZnNJ1nyJM6Fl9WPxa924ESOJgrfldnwqKRbIjLbLFbgbmA4lTt/aIKp8W+9VG8
         rF918Vne7q2VkexRG1w9X83w/oMUdVlLVhH3COB1CgOg2vSQ08WjgJ5xlldoLqESuo+J
         1a9w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:mime-version:content-transfer-encoding
         :content-language:accept-language:message-id:date:thread-index
         :thread-topic:subject:cc:to:from;
        bh=OsOhb7o+5wuO14uOsU2slG1MPqxqYIFX3bjmZ1usfj0=;
        b=LHHdWh+Lvb8lfHaUPhEFOO5DIM0l9Ty8J2zMBGbHbnZ0G2ij6IyWd2iHMUsKBgNT4x
         q17D/e16jufDnK5IeT0iJGTalZBcdYwxp0K2WdhppFyaVDup/dT2TeLvdh9cfoYtc4HR
         r+SFjFETelHHfzTjsXYuJ0CTnikwXvJKsC8Wuue4GhhSNI9pvfhqa6+3OsuVkTS0DuS3
         P2KLLaqwwJlY0QGabVVJNT2pHQcX1gP5JbNhFFttFYNfyvSD6FFNumYGLsfcwGcqI5pn
         64v9RoeYc4sWVLx9dJGWM5eixvWF7BT2SPOHOLNNxksz3IY7ASQwdb2A0dNUaF0oqMKK
         iCiA==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: best guess record for domain of kvm-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=kvm-owner@vger.kernel.org
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id u11si13160109plq.287.2018.11.21.06.50.44;
        Wed, 21 Nov 2018 06:51:08 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of kvm-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1730632AbeKVBIw (ORCPT <rfc822;alpcanarslan95@gmail.com>
        + 99 others); Wed, 21 Nov 2018 20:08:52 -0500
Received: from szxga03-in.huawei.com ([45.249.212.189]:6061 "EHLO huawei.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726778AbeKVBIw (ORCPT <rfc822;kvm@vger.kernel.org>);
        Wed, 21 Nov 2018 20:08:52 -0500
Received: from DGGEMA402-HUB.china.huawei.com (unknown [172.30.72.54])
        by Forcepoint Email with ESMTP id BA7AF6DE6B8C0;
        Wed, 21 Nov 2018 22:34:04 +0800 (CST)
Received: from DGGEMA503-MBX.china.huawei.com ([169.254.1.15]) by
 DGGEMA402-HUB.china.huawei.com ([10.3.20.43]) with mapi id 14.03.0415.000;
 Wed, 21 Nov 2018 22:33:58 +0800
From: gengdongjiu <gengdongjiu@huawei.com>
To: Peter Maydell <peter.maydell@linaro.org>
CC: Igor Mammedov <imammedo@redhat.com>,
        "Michael S. Tsirkin" <mst@redhat.com>,
        Laszlo Ersek <lersek@redhat.com>,
        Marc Zyngier <marc.zyngier@arm.com>,
        James Morse <james.morse@arm.com>,
        Paolo Bonzini <pbonzini@redhat.com>,
        Marcelo Tosatti <mtosatti@redhat.com>,
        "Richard Henderson" <rth@twiddle.net>,
        "zhengxiang (A)" <zhengxiang9@huawei.com>,
        Eduardo Habkost <ehabkost@redhat.com>,
        kvm-devel <kvm@vger.kernel.org>,
        Shannon Zhao <shannon.zhaosl@gmail.com>,
        QEMU Developers <qemu-devel@nongnu.org>,
        qemu-arm <qemu-arm@nongnu.org>
Subject: Re: [PATCH RESEND v15 08/10] target-arm: kvm64: inject synchronous
 External Abort
Thread-Topic: [PATCH RESEND v15 08/10] target-arm: kvm64: inject synchronous
 External Abort
Thread-Index: AdSBpzrXBkutX89ZTkCnTtqKu+dqng==
Date: Wed, 21 Nov 2018 14:33:58 +0000
Message-ID: <0184EA26B2509940AA629AE1405DD7F201F7BBE8@DGGEMA503-MBX.china.huawei.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.45.80.233]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-CFilter-Loop: Reflected
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
Precedence: bulk
List-ID: <kvm.vger.kernel.org>
X-Mailing-List: kvm@vger.kernel.org
X-CM-TRANSID: AQAAfwCnjkrecPVb_PdjAA--.1943S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvJXoW3Cw4kuF4rtryUZw48Jr4UCFg_yoWDXw1rpr
	9xGFy3WrW8XFy7A34Sya1UCr1rA3y09FnrCFWfJr1rAF4jvwn5Jr4Dt3yfCFy5CryxG340
	vF1jvryY9F45Z3DanT9S1TB71UUUUU7qnTZGkaVYY2UrUUUU0bIjqfuFe4nvWSU8nxnvy2
	9KBjDU0xBIdaVrnRJUUUdIb7Iv0xC_Kw4lb4IE77IF4wAFF20E14v26r1j6r4UM7CIcVAF
	z4kK6r1j6r18M28lY4IEw2IIxxk0rwA2F7IY1VAKz4vEj48ve4kI8wA2z4x0Y4vE2Ix0cI
	8IcVAFwI0_Ar0_tr1l84ACjcxK6xIIjxv20xvEc7CjxVAFwI0_Cr0_Gr1UM28EF7xvwVC2
	z280aVAFwI0_GcCE3s1l84ACjcxK6I8E87Iv6xkF7I0E14v26rxl6s0DM2vj6VCEFcxC0V
	AYjxAxZF0EFcxC0VAYjxAxZF0Ew4CEw7xC0VCjxxvEa2IrM2AIxVAIcxkEcVAq07x20xvE
	ncxIr21l5I8CrVACY4xI64kE6c02F40Ex7xfMcIj6xIIjxv20xvE14v26r1Y6r17McIj6I
	8E87Iv67AKxVWxJVW8Jr1lOx8S6xCaFVCjc4AY6r1j6r4UM4xvF2IEb7IF0Fy264kE64k0
	F24l7I0Y6sxI4wCY1x0264kExVAvwVAq07x20xylc7Ca8VAvwVCFzxkY4VCF77xAMxkIec
	xEwVCI4VW5XwCY0x0Ix7I2Y4AK64vIr41lcIIF0xvE2Ix0cI8IcVAFwI0_Xr0_Ar1lcIIF
	0xvE2Ix0cI8IcVCY1x0267AKxVW8JVWxJwCYIxAIcVC2z280aVAFwI0_GcCE3s1lcIIF0x
	vEx4A2jsIEc7CjxVAFwI0_GcCE3s1l42xK82IYc2Ij64vIr41l42xK82IY64kExVAvwVAq
	07x20xyl4x8a6x804xWl4I8I3I0E4IkC6x0Yz7v_Jr0_Gr1lx2IqxVAqx4xG67AKxVWUJV
	WUGwC20s026x8GjcxK67AKxVWUGVWUWwC2zVAF1VAY17CE14v26r4a6rW5MIIYrxkI7VAK
	I48JMIIF0xvE42xK8VAvwI8IcIk0rVW3JVWrJr1l6VACY4xI67k04243AbIYCTnIWIevJa
	73UjIFyTuYvjxU9Y0PDUUUU

SGkgUGV0ZXIsDQogIFRoYW5rcyBmb3IgdGhlIHJldmlldyBhbmQgY29tbWVudHMuDQoNCj4gDQo+
IE9uIDggTm92ZW1iZXIgMjAxOCBhdCAxMDoyOSwgRG9uZ2ppdSBHZW5nIDxnZW5nZG9uZ2ppdUBo
dWF3ZWkuY29tPiB3cm90ZToNCj4gPiBBZGQgc3luY2hyb25vdXMgZXh0ZXJuYWwgYWJvcnQgaW5q
ZWN0aW9uIGxvZ2ljLCBzZXR1cCBleGNlcHRpb24gdHlwZQ0KPiA+IGFuZCBzeW5kcm9tZSB2YWx1
ZS4gV2hlbiBzd2l0Y2ggdG8gZ3Vlc3QsIGd1ZXN0IHdpbGwganVtcCB0byB0aGUNCj4gPiBzeW5j
aHJvbm91cyBleHRlcm5hbCBhYm9ydCB2ZWN0b3IgdGFibGUgZW50cnkuDQo+ID4NCj4gPiBUaGUg
RVNSX0VMeC5ERlNDIGlzIHNldCB0byBzeW5jaHJvbm91cyBleHRlcm5hbCBhYm9ydCgweDEwKSwg
YW5kDQo+ID4gRVNSX0VMeC5GblYgaXMgc2V0IHRvIG5vdCB2YWxpZCgweDEpLCB3aGljaCB3aWxs
IHRlbGwgZ3Vlc3QgdGhhdCBGQVINCj4gPiBpcyBub3QgdmFsaWQgYW5kIGhvbGRzIGFuIFVOS05P
V04gdmFsdWUuDQo+ID4gVGhlc2UgdmFsdWUgd2lsbCBiZSBzZXQgdG8gS1ZNIHJlZ2lzdGVyIHN0
cnVjdHVyZXMgdGhyb3VnaA0KPiA+IEtWTV9TRVRfT05FX1JFRyBJT0NUTC4NCj4gPg0KPiA+IFNp
Z25lZC1vZmYtYnk6IERvbmdqaXUgR2VuZyA8Z2VuZ2RvbmdqaXVAaHVhd2VpLmNvbT4NCj4gPiAt
LS0NCj4gPiBNYXJjIGlzIGFnYWluc3QgdGhhdCBLVk0gaW5qZWN0IHRoZSBzeW5jaHJvbm91cyBl
eHRlcm5hbCBhYm9ydChTRUEpIGluDQo+ID4gWzFdLCBzbyB1c2VyIHNwYWNlIGhvdyB0byBpbmpl
Y3QgaXQuIFRoZSB0ZXN0IHJlc3VsdCB0aGF0IGluamVjdGlvbg0KPiA+IFNFQSB0byBndWVzdCBi
eSBRZW11IGlzIHNob3duIGluIFsyXS4NCj4gPg0KPiA+IFsxXTogaHR0cHM6Ly9sa21sLm9yZy9s
a21sLzIwMTcvMy8yLzExMA0KPiA+IFsyXToNCj4gPiBUYWtpbmcgZXhjZXB0aW9uIDQgW0RhdGEg
QWJvcnRdDQo+ID4gLi4uZnJvbSBFTDAgdG8gRUwxDQo+ID4gLi4ud2l0aCBFU1IgMHgyNC8weDky
MDAwNDEwDQo+ID4gLi4ud2l0aCBGQVIgMHgwDQo+ID4gLi4ud2l0aCBFTFIgMHg0MGNmMDQNCj4g
PiAuLi50byBFTDEgUEMgMHhmZmZmZmZjMDAwMDg0YzAwIFBTVEFURSAweDNjNSBhZnRlciBrdm1f
aW5qZWN0X2FybV9zZWENCj4gPiBVbmhhbmRsZWQgZmF1bHQ6IHN5bmNocm9ub3VzIGV4dGVybmFs
IGFib3J0ICgweDkyMDAwNDEwKSBhdA0KPiA+IDB4MDAwMDAwN2ZhMjM0YzEyYw0KPiA+IENQVTog
MCBQSUQ6IDUzNiBDb21tOiBkZXZtZW0gTm90IHRhaW50ZWQgNC4xLjArICMyMCBIYXJkd2FyZSBu
YW1lOg0KPiA+IGxpbnV4LGR1bW15LXZpcnQgKERUKQ0KPiA+IHRhc2s6IGZmZmZmZmMwMTlhYjJi
MDAgdGk6IGZmZmZmZmMwMDgxMzQwMDAgdGFzay50aTogZmZmZmZmYzAwODEzNDAwMA0KPiA+IFBD
IGlzIGF0IDB4NDBjZjA0IExSIGlzIGF0IDB4NDBjZGVjIHBjIDogWzwwMDAwMDAwMDAwNDBjZjA0
Pl0gbHIgOg0KPiA+IFs8MDAwMDAwMDAwMDQwY2RlYz5dIHBzdGF0ZTogNjAwMDAwMDAgc3AgOiAw
MDAwMDA3ZmY3YjI0MTMwDQo+ID4geDI5OiAwMDAwMDA3ZmY3YjI0MjYwIHgyODogMDAwMDAwMDAw
MDAwMDAwMA0KPiA+IHgyNzogMDAwMDAwMDAwMDAwMDBhZCB4MjY6IDAwMDAwMDAwMDA0OWMwMDAN
Cj4gPiB4MjU6IDAwMDAwMDAwMDA0ODkwNGIgeDI0OiAwMDAwMDAwMDAwNDljMDAwDQo+ID4geDIz
OiAwMDAwMDAwMDQwNjAwMDAwIHgyMjogMDAwMDAwN2ZmN2IyNDNhMA0KPiA+IHgyMTogMDAwMDAw
MDAwMDAwMDAwMiB4MjA6IDAwMDAwMDAwMDAwMDAwMDANCj4gPiB4MTk6IDAwMDAwMDAwMDAwMDAw
MjAgeDE4OiAwMDAwMDAwMDAwMDAwMDAwDQo+ID4geDE3OiAwMDAwMDAwMDAwNDljNmQwIHgxNjog
MDAwMDAwN2ZhMjJjODVjMA0KPiA+IHgxNTogMDAwMDAwMDAwMDAwNTc5OCB4MTQ6IDAwMDAwMDdm
YTIyMDVmMWMNCj4gPiB4MTM6IDAwMDAwMDdmYTI0MWNjYjAgeDEyOiAwMDAwMDAwMDAwMDAwMTM3
DQo+ID4geDExOiAwMDAwMDAwMDAwMDAwMDAwIHgxMDogMDAwMDAwMDAwMDAwMDAwMA0KPiA+IHg5
IDogMDAwMDAwMDAwMDAwMDAwMCB4OCA6IDAwMDAwMDAwMDAwMDAwZGUNCj4gPiB4NyA6IDAwMDAw
MDAwMDAwMDAwMDAgeDYgOiAwMDAwMDAwMDAwMDAyMDAwDQo+ID4geDUgOiAwMDAwMDAwMDQwNjAw
MDAwIHg0IDogMDAwMDAwMDAwMDAwMDAwMw0KPiA+IHgzIDogMDAwMDAwMDAwMDAwMDAwMSB4MiA6
IDAwMDAwMDAwMDAwMDAwMDANCj4gPiB4MSA6IDAwMDAwMDAwMDAwMDAwMDAgeDAgOiAwMDAwMDA3
ZmEyNDE4MDAwDQo+ID4gLS0tDQo+ID4gIHRhcmdldC9hcm0vY3B1LmggICAgICAgfCAgMiArKw0K
PiA+ICB0YXJnZXQvYXJtL2hlbHBlci5jICAgIHwgMjMgKysrKysrKysrKysrKysrKysrKysrKysN
Cj4gPiAgdGFyZ2V0L2FybS9pbnRlcm5hbHMuaCB8ICA1ICsrKy0tDQo+ID4gIHRhcmdldC9hcm0v
a3ZtNjQuYyAgICAgfCAzOSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysN
Cj4gPiAgdGFyZ2V0L2FybS9vcF9oZWxwZXIuYyB8ICAyICstDQo+ID4gIDUgZmlsZXMgY2hhbmdl
ZCwgNjggaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlvbnMoLSkNCj4gPg0KPiA+IGRpZmYgLS1naXQg
YS90YXJnZXQvYXJtL2NwdS5oIGIvdGFyZ2V0L2FybS9jcHUuaCBpbmRleA0KPiA+IGI1ZWZmNzku
LjUwMjUwN2QgMTAwNjQ0DQo+ID4gLS0tIGEvdGFyZ2V0L2FybS9jcHUuaA0KPiA+ICsrKyBiL3Rh
cmdldC9hcm0vY3B1LmgNCj4gPiBAQCAtMjMzMSw2ICsyMzMxLDggQEAgYm9vbCB3cml0ZV9saXN0
X3RvX2NwdXN0YXRlKEFSTUNQVSAqY3B1KTsNCj4gPiAgICovDQo+ID4gIGJvb2wgd3JpdGVfY3B1
c3RhdGVfdG9fbGlzdChBUk1DUFUgKmNwdSk7DQo+ID4NCj4gPiArYm9vbCB3cml0ZV9wYXJ0X2Nw
dXN0YXRlX3RvX2xpc3QoQVJNQ1BVICpjcHUsIHB0cmRpZmZfdCBmaWVsZG9mZnNldCk7DQo+ID4g
Kw0KPiA+ICAjZGVmaW5lIEFSTV9DUFVJRF9USTkxNVQgICAgICAweDU0MDI5MTUyDQo+ID4gICNk
ZWZpbmUgQVJNX0NQVUlEX1RJOTI1VCAgICAgIDB4NTQwMjkyNTINCj4gPg0KPiA+IGRpZmYgLS1n
aXQgYS90YXJnZXQvYXJtL2hlbHBlci5jIGIvdGFyZ2V0L2FybS9oZWxwZXIuYyBpbmRleA0KPiA+
IDk2MzAxOTMuLmRmMDc4ZmYgMTAwNjQ0DQo+ID4gLS0tIGEvdGFyZ2V0L2FybS9oZWxwZXIuYw0K
PiA+ICsrKyBiL3RhcmdldC9hcm0vaGVscGVyLmMNCj4gPiBAQCAtMjYzLDYgKzI2MywyOSBAQCBz
dGF0aWMgYm9vbCByYXdfYWNjZXNzb3JzX2ludmFsaWQoY29uc3QgQVJNQ1BSZWdJbmZvICpyaSkN
Cj4gPiAgICAgIHJldHVybiB0cnVlOw0KPiA+ICB9DQo+ID4NCj4gPiArYm9vbCB3cml0ZV9wYXJ0
X2NwdXN0YXRlX3RvX2xpc3QoQVJNQ1BVICpjcHUsIHB0cmRpZmZfdCBmaWVsZG9mZnNldCkNCj4g
PiArew0KPiA+ICsgICAgY29uc3QgQVJNQ1BSZWdJbmZvICpyaTsNCj4gPiArICAgIHVpbnQzMl90
IHJlZ2lkeCwgaTsNCj4gPiArDQo+ID4gKyAgICBmb3IgKGkgPSAwOyBpIDwgY3B1LT5jcHJlZ19h
cnJheV9sZW47IGkrKykgew0KPiA+ICsgICAgICAgIHJlZ2lkeCA9IGt2bV90b19jcHJlZ19pZChj
cHUtPmNwcmVnX2luZGV4ZXNbaV0pOw0KPiA+ICsgICAgICAgIHJpID0gZ2V0X2FybV9jcF9yZWdp
bmZvKGNwdS0+Y3BfcmVncywgcmVnaWR4KTsNCj4gPiArICAgICAgICBpZiAoIXJpKSB7DQo+ID4g
KyAgICAgICAgICAgIGNvbnRpbnVlOw0KPiA+ICsgICAgICAgIH0NCj4gPiArDQo+ID4gKyAgICAg
ICAgaWYgKHJpLT50eXBlICYgQVJNX0NQX05PX1JBVykgew0KPiA+ICsgICAgICAgICAgICBjb250
aW51ZTsNCj4gPiArICAgICAgICB9DQo+ID4gKyAgICAgICAgaWYgKHJpLT5maWVsZG9mZnNldCA9
PSBmaWVsZG9mZnNldCkgew0KPiA+ICsgICAgICAgICAgICBjcHUtPmNwcmVnX3ZhbHVlc1tpXSA9
IHJlYWRfcmF3X2NwX3JlZygmY3B1LT5lbnYsIHJpKTsNCj4gPiArICAgICAgICAgICAgcmV0dXJu
IHRydWU7DQo+ID4gKyAgICAgICAgfQ0KPiA+ICsgICAgfQ0KPiA+ICsgICAgcmV0dXJuIGZhbHNl
Ow0KPiA+ICt9DQo+IA0KPiBXaGF0IGlzIHRoaXMgYWJvdXQ/IE5vdGhpbmcgZWxzZSBpbiBRRU1V
IG5lZWRzIHRvIG1lc3Mgd2l0aCB0aGUgY3B1c3RhdGUgc3luY2hyb25pemF0aW9uLiBNeSBmaXJz
dCBhc3N1bXB0aW9uIGlzIHRoYXQgeW91IHNob3VsZCBub3QNCj4gbmVlZCB0byBkbyBzbyBlaXRo
ZXIuDQoNCldlIHNob3VsZCBjaGFuZ2UgdGhlIGd1ZXN0IENQMTUgRVNSX0VMMSdzIHZhbHVlLCB0
aGUgb25seSBtZXRob2QgaXMgdG8gY2hhbmdlIHRoZSBjcHUtPmNwcmVnX3ZhbHVlc1tdIGluIFFF
TVUsIHRoZW4gUUVNVSBjYWxsIHdyaXRlX2xpc3RfdG9fa3Ztc3RhdGUoKQ0KdG8gc2V0IHRoZSBj
cHUtPmNwcmVnX3ZhbHVlc1tdIHRvIEtWTSB3aGljaCBpbmNsdWRlIHRoZSBzcGVjaWZpZWQgRVNS
X0VMMSB2YWx1ZSwgS1ZNIGRvIHdvcmxkIHN3aXRjaCwgYW5kIHRoZW4gc2V0IHRoZSBzcGVjaWZp
ZWQgRVNSX0VMMSdzIHZhbHVlIHRvIGd1ZXN0IGtlcm5lbC4NCkFib3V0IHRoZSBkZXRhaWxlZCBl
eHBsYW5hdGlvbiwgYXMgc2hvd24gaW4gWzJdLg0KDQprdm1fYXJtX2hhbmRsZV9kZWJ1ZygpIGRv
ZXMgbm90IG5lZWQgdG8gZG8gdGhpcyBiZWNhdXNlIFFFTVUgZG9lcyBub3QgbmVlZCB0byBjaGFu
Z2UgQ1AxNSByZWdpc3RlcnMsIHN1Y2ggYXMgRVNSX0VMMS4NCg0KPiANCj4gPiArDQo+ID4gIGJv
b2wgd3JpdGVfY3B1c3RhdGVfdG9fbGlzdChBUk1DUFUgKmNwdSkgIHsNCj4gPiAgICAgIC8qIFdy
aXRlIHRoZSBjb3Byb2Nlc3NvciBzdGF0ZSBmcm9tIGNwdS0+ZW52IHRvIHRoZSAoaW5kZXgsdmFs
dWUpDQo+ID4gbGlzdC4gKi8gZGlmZiAtLWdpdCBhL3RhcmdldC9hcm0vaW50ZXJuYWxzLmggYi90
YXJnZXQvYXJtL2ludGVybmFscy5oDQo+ID4gaW5kZXggNmMyYmIyZC4uMDRlYTA3NCAxMDA2NDQN
Cj4gPiAtLS0gYS90YXJnZXQvYXJtL2ludGVybmFscy5oDQo+ID4gKysrIGIvdGFyZ2V0L2FybS9p
bnRlcm5hbHMuaA0KPiA+IEBAIC00MTUsMTMgKzQxNSwxNCBAQCBzdGF0aWMgaW5saW5lIHVpbnQz
Ml90IHN5bl9pbnNuX2Fib3J0KGludCBzYW1lX2VsLCBpbnQgZWEsIGludCBzMXB0dywgaW50IGZz
YykNCj4gPiAgICAgICAgICB8IEFSTV9FTF9JTCB8IChlYSA8PCA5KSB8IChzMXB0dyA8PCA3KSB8
IGZzYzsgIH0NCj4gPg0KPiA+IC1zdGF0aWMgaW5saW5lIHVpbnQzMl90IHN5bl9kYXRhX2Fib3J0
X25vX2lzcyhpbnQgc2FtZV9lbCwNCj4gPiArc3RhdGljIGlubGluZSB1aW50MzJfdCBzeW5fZGF0
YV9hYm9ydF9ub19pc3MoaW50IHNhbWVfZWwsIGludCBmbnYsDQo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBlYSwgaW50IGNtLCBpbnQgczFwdHcs
DQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCB3
bnIsIGludCBmc2MpICB7DQo+ID4gICAgICByZXR1cm4gKEVDX0RBVEFBQk9SVCA8PCBBUk1fRUxf
RUNfU0hJRlQpIHwgKHNhbWVfZWwgPDwgQVJNX0VMX0VDX1NISUZUKQ0KPiA+ICAgICAgICAgICAg
IHwgQVJNX0VMX0lMDQo+ID4gLSAgICAgICAgICAgfCAoZWEgPDwgOSkgfCAoY20gPDwgOCkgfCAo
czFwdHcgPDwgNykgfCAod25yIDw8IDYpIHwgZnNjOw0KPiA+ICsgICAgICAgICAgIHwgKGZudiA8
PCAxMCkgfCAoZWEgPDwgOSkgfCAoY20gPDwgOCkgfCAoczFwdHcgPDwgNykNCj4gPiArICAgICAg
ICAgICB8ICh3bnIgPDwgNikgfCBmc2M7DQo+ID4gIH0NCj4gPg0KPiA+ICBzdGF0aWMgaW5saW5l
IHVpbnQzMl90IHN5bl9kYXRhX2Fib3J0X3dpdGhfaXNzKGludCBzYW1lX2VsLCBkaWZmDQo+ID4g
LS1naXQgYS90YXJnZXQvYXJtL2t2bTY0LmMgYi90YXJnZXQvYXJtL2t2bTY0LmMgaW5kZXggNWRl
OGZmMC4uMGNhMmIyOQ0KPiA+IDEwMDY0NA0KPiA+IC0tLSBhL3RhcmdldC9hcm0va3ZtNjQuYw0K
PiA+ICsrKyBiL3RhcmdldC9hcm0va3ZtNjQuYw0KPiA+IEBAIC01OTQsNiArNTk0LDQ1IEBAIGlu
dCBrdm1fYXJtX2NwcmVnX2xldmVsKHVpbnQ2NF90IHJlZ2lkeCkNCj4gPiAgICAgIHJldHVybiBL
Vk1fUFVUX1JVTlRJTUVfU1RBVEU7DQo+ID4gIH0NCj4gPg0KPiA+ICsvKiBJbmplY3Qgc3luY2hy
b25vdXMgZXh0ZXJuYWwgYWJvcnQgKi8gc3RhdGljIHZvaWQNCj4gPiAra3ZtX2luamVjdF9hcm1f
c2VhKENQVVN0YXRlICpjKSB7DQo+ID4gKyAgICBBUk1DUFUgKmNwdSA9IEFSTV9DUFUoYyk7DQo+
ID4gKyAgICBDUFVBUk1TdGF0ZSAqZW52ID0gJmNwdS0+ZW52Ow0KPiA+ICsgICAgQ1BVQ2xhc3Mg
KmNjID0gQ1BVX0dFVF9DTEFTUyhjKTsNCj4gPiArICAgIHVpbnQzMl90IGVzcjsNCj4gPiArICAg
IGludCByZXQ7DQo+ID4gKw0KPiA+ICsgICAgLyogVGhpcyBleGNlcHRpb24gaXMgc3luY2hyb25v
dXMgZGF0YSBhYm9ydCAqLw0KPiA+ICsgICAgYy0+ZXhjZXB0aW9uX2luZGV4ID0gRVhDUF9EQVRB
X0FCT1JUOw0KPiA+ICsgICAgLyogSW5qZWN0IHRoZSBleGNlcHRpb24gdG8gZ3Vlc3QgRUwxICov
DQo+ID4gKyAgICBlbnYtPmV4Y2VwdGlvbi50YXJnZXRfZWwgPSAxOw0KPiANCj4gVGhlc2UgY29t
bWVudHMgZG9uJ3QgdGVsbCB1cyBhbnl0aGluZyB0aGF0IHRoZSBjb2RlIGRvZXMgbm90Lg0KDQog
VGhhbmtzLCBkbyB5b3UgbWVhbiBJIG5lZWQgdG8gcmVtb3ZlIGl0IG9yIGFkZCBtb3JlIGRldGFp
bGVkIGNvbW1lbnRzIHRvIGl0Pw0KDQo+IA0KPiA+ICsNCj4gPiArICAgIC8qIFNldCB0aGUgREZT
QyB0byBzeW5jaHJvbm91cyBleHRlcm5hbCBhYm9ydCBhbmQgc2V0IEZuViB0byBub3QgdmFsaWQs
DQo+ID4gKyAgICAgKiB0aGlzIHdpbGwgdGVsbCBndWVzdCB0aGUgRkFSX0VMeCBpcyBVTktOT1dO
IGZvciB0aGlzIGFib3J0Lg0KPiA+ICsgICAgICovDQo+ID4gKw0KPiA+ICsgICAgLyogVGhpcyBl
eGNlcHRpb24gY29tZXMgZnJvbSBsb3dlciBvciBjdXJyZW50IGV4Y2VwdGlvbiBsZXZlbC4gKi8N
Cj4gPiArICAgIGlmIChhcm1fY3VycmVudF9lbChlbnYpID09IFBTVEFURV9NT0RFX0VMMHQpIHsN
Cj4gDQo+IGFybV9jdXJyZW50X2VsKCkgcmV0dXJucyBhbiBpbnRlZ2VyOyB5b3Ugc2hvdWxkIGJl
IGNvbXBhcmluZyBpdCB0byAwLDEsMiwzLCBub3QgdG8gUFNUQVRFX01PREVfKiBjb25zdGFudHMu
DQoNClllcywgeW91IGFyZSByaWdodCwgSSB3aWxsIGNoYW5nZSBpdCwgdGhhbmtzIGEgbG90IGZv
ciBwb2ludGluZyBvdXQuDQoNCj4gDQo+ID4gKyAgICAgICAgZXNyID0gc3luX2RhdGFfYWJvcnRf
bm9faXNzKDAsIDEsIDAsIDAsIDAsIDAsIDB4MTApOw0KPiA+ICsgICAgfSBlbHNlIHsNCj4gPiAr
ICAgICAgICBlc3IgPSBzeW5fZGF0YV9hYm9ydF9ub19pc3MoMSwgMSwgMCwgMCwgMCwgMCwgMHgx
MCk7DQo+ID4gKyAgICB9DQo+IA0KPiBCZXR0ZXIgd3JpdHRlbiBhcw0KPiAgICAgYm9vbCBzYW1l
X2VsOw0KPiAgICAgWy4uLl0NCj4gDQo+ICAgICBzYW1lX2VsID0gYXJtX2N1cnJlbnRfZWwoZW52
KSA9PSBlbnYtPmV4Y2VwdGlvbi50YXJnZXRfZWw7DQo+ICAgICBlbnYtPmV4Y2VwdGlvbi5zeW5k
cm9tZSA9IHN5bl9kYXRhX2Fib3J0X25vX2lzcyhzYW1lX2VsLCAxLCAwLCAwLCAwLCAwLCAweDEw
KTsNCg0KT2ssIHRoYW5rcyBmb3IgdGhlIGdvb2Qgc3VnZ2VzdGlvbi4NCg0KPiANCj4gPiArDQo+
ID4gKyAgICBlbnYtPmV4Y2VwdGlvbi5zeW5kcm9tZSA9IGVzcjsNCj4gPiArDQo+ID4gKyAgICBj
Yy0+ZG9faW50ZXJydXB0KGMpOw0KPiANCj4gWW91IG5lZWQgdG8gdGFrZSB0aGUgaW90aHJlYWQg
bG9jayBiZWZvcmUgY2FsbGluZyBkb19pbnRlcnJ1cHQuDQo+IENvbXBhcmUgdGhlIGNvZGUgaW4g
a3ZtX2FybV9oYW5kbGVfZGVidWcoKS4NCg0KSW4gdGhlIG9sZCBjb2RlLCBpdCBkb2VzIG5vdCBo
YXZlIGlvdGhyZWFkIGxvY2ssIHRoaXMgbG9jayBzaG91bGQgYmUgYWRkZWQgcmVjZW50bHkgYXMg
c2hvd24gWzFdLCBzbyBJIGZvcmdldCBpdC4NClN1cmUgSSB3aWxsIGFkZCBpdC4NCg0KWzFdOg0K
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0NCnFlbXVfbXV0ZXhfbG9ja19pb3RocmVhZCgpOw0KY2MtPmRvX2ludGVycnVwdChjcyk7DQpx
ZW11X211dGV4X3VubG9ja19pb3RocmVhZCgpOw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KPiANCj4gPiArICAgIGlmIChrdm1f
ZW5hYmxlZCgpKSB7DQo+IA0KPiBIb3cgY2FuIHdlIGdldCBoZXJlIGlmIEtWTSBpcyBub3QgZW5h
YmxlZCA/DQoNCkluZGVlZCwgaW4gbXkgY3VycmVudCBwYXRjaCwgaWYgaXQgaXMgbm9uLUtWTSBt
b2RlLCBpdCBjYW5ub3QgZ290IGhlcmUsDQpJIHdpbGwgcmVtb3ZlIHRoaXMganVkZ21lbnQuDQoN
Cj4gDQo+ID4gKyAgICAgICAgLyogd3JpdGUgRVNSX0VMMSBmcm9tIGNwdXN0YXRlIHRvIGxpc3Qq
Lw0KPiA+ICsgICAgICAgIHJldCA9IHdyaXRlX3BhcnRfY3B1c3RhdGVfdG9fbGlzdChjcHUsDQo+
ID4gKyAgICAgICAgICAgICAgICAgICAgb2Zmc2V0b2YoQ1BVQVJNU3RhdGUsIGNwMTUuZXNyX2Vs
WzFdKSk7DQo+ID4gKyAgICAgICAgaWYgKCFyZXQpIHsNCj4gPiArICAgICAgICAgICAgZnByaW50
ZihzdGRlcnIsICI8JXM+IGZhaWxlZCB0byBzZXQgZXNyX2VsMVxuIiwgX19mdW5jX18pOw0KPiA+
ICsgICAgICAgICAgICBhYm9ydCgpOw0KPiA+ICsgICAgICAgIH0NCj4gDQo+IGt2bV9hcm1faGFu
ZGxlX2RlYnVnKCkgZG9lc24ndCBuZWVkIHRvIGRvIHRoaXMsIEkgZG9uJ3QgdW5kZXJzdGFuZCB3
aHkgdGhpcyB3b3VsZCBiZSBkaWZmZXJlbnQuDQoNClsyXToNCmt2bV9hcm1faGFuZGxlX2RlYnVn
KCkgZG9lcyBub3QgbmVlZCB0byBjaGFuZ2UgZ3Vlc3QgY3AxNSByZWdpc3RlcnMsIGluIG9yZGVy
IHRvIGluamVjdCBhIHN5bmNocm9ub3VzIGV4dGVybmFsIGFib3J0LA0Kd2UgbmVlZHMgdG8gc2V0
IGd1ZXN0IHN5bmRyb21lIGVycm9yIHJlZ2lzdGVyIEVTUl9FTDEncyB2YWx1ZSB0aHJvdWdoIEtW
TSwgd2hlbiBndWVzdCBrZXJuZWwganVtcCB0byBTeW5jaHJvbm91cyBFTDFoIA0KZXhjZXB0aW9u
IHZlY3RvciB0YWJsZe+8jGl0IHdpbGwgcmVhZCB0aGUgRVNSX0VMMSdzIHZhbHVlIGFuZCBrbm93
IHRoaXMgaXMgc3luY2hyb25vdXMgZXh0ZXJuYWwgYWJvcnQgYW5kIGRvIHJlY292ZXJ5LCBvdGhl
cndpc2UgaXQgZG9lcyBub3QgdGhlIGVycm9yIHR5cGUuDQoNCkluIHRoZSBLVk0gbW9kZSwgaXQg
dXNlIGJlbG93IGNhbGwgc3RhY2sgdG8gc2V0IHRoZSBDUDE1IEVTUl9FTDEgcmVnaXN0ZXIuDQoN
Ci0tPmt2bV9hcmNoX3B1dF9yZWdpc3RlcnMoKQ0KLS0tLS0tPiB3cml0ZV9saXN0X3RvX2t2bXN0
YXRlKCkNCg0KDQpib29sIHdyaXRlX2xpc3RfdG9fa3Ztc3RhdGUoQVJNQ1BVICpjcHUsIGludCBs
ZXZlbCkNCnsNCiAgICAgICAgLi4uLi4uLi4uLi4uLi4uLi4uLg0KICAgICAgICBjYXNlIEtWTV9S
RUdfU0laRV9VNjQ6DQogICAgICAgICAgICByLmFkZHIgPSAodWludHB0cl90KShjcHUtPmNwcmVn
X3ZhbHVlcyArIGkpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGRlZmF1bHQ6DQogICAg
ICAgICAgICBhYm9ydCgpOw0KICAgICAgICB9DQogICAgICAgIHJldCA9IGt2bV92Y3B1X2lvY3Rs
KGNzLCBLVk1fU0VUX09ORV9SRUcsICZyKTsNCiAgICAgICAgLi4uLi4uLi4uLi4uLi4NCn0NCg0K
QXMgd2UgY2FuIHNlZSBRRU1VIHVzZXMgY3B1LT5jcHJlZ192YWx1ZXNbXSB0byBzZXQgdGhlIENQ
MTUgcmVnaXN0ZXJzIHRvIEtWTSwgc28gSSBhZGQgYSBmdW5jdGlvbiB3cml0ZV9wYXJ0X2NwdXN0
YXRlX3RvX2xpc3QoKQ0KdG8gY2hhbmdlIHRoZSB2YWx1ZSBpbiB0aGUgY3B1LT5jcHJlZ192YWx1
ZXNbXSB3aGljaCBpcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBFU1JfRUwxJ3MgdmFsdWUuIEluIGN1
cnJlbnQgUUVNVSBjb2RlLA0KaXQgc2hvdWxkIG5vdCBoYXZlIEFQSSB0byBjaGFuZ2Ugc29tZSB2
YWx1ZSBpbiBjcHUtPmNwcmVnX3ZhbHVlc1tdLCBzbyBJIGFkZCBhIG5ldyBmdW5jdGlvbi4NCg0K
PiANCj4gPiArICAgIH0NCj4gPiArfQ0KPiA+ICsNCj4gPiAgI2RlZmluZSBBQVJDSDY0X0NPUkVf
UkVHKHgpICAgKEtWTV9SRUdfQVJNNjQgfCBLVk1fUkVHX1NJWkVfVTY0IHwgXA0KPiA+ICAgICAg
ICAgICAgICAgICAgIEtWTV9SRUdfQVJNX0NPUkUgfCBLVk1fUkVHX0FSTV9DT1JFX1JFRyh4KSkN
Cj4gPg0KPiA+IGRpZmYgLS1naXQgYS90YXJnZXQvYXJtL29wX2hlbHBlci5jIGIvdGFyZ2V0L2Fy
bS9vcF9oZWxwZXIuYyBpbmRleA0KPiA+IDkwNzQxZjYuLjNmMWQ2NTYgMTAwNjQ0DQo+ID4gLS0t
IGEvdGFyZ2V0L2FybS9vcF9oZWxwZXIuYw0KPiA+ICsrKyBiL3RhcmdldC9hcm0vb3BfaGVscGVy
LmMNCj4gPiBAQCAtMTA5LDcgKzEwOSw3IEBAIHN0YXRpYyBpbmxpbmUgdWludDMyX3QgbWVyZ2Vf
c3luX2RhdGFfYWJvcnQodWludDMyX3QgdGVtcGxhdGVfc3luLA0KPiA+ICAgICAgICogSVNWIGZp
ZWxkLg0KPiA+ICAgICAgICovDQo+ID4gICAgICBpZiAoISh0ZW1wbGF0ZV9zeW4gJiBBUk1fRUxf
SVNWKSB8fCB0YXJnZXRfZWwgIT0gMiB8fCBzMXB0dykgew0KPiA+IC0gICAgICAgIHN5biA9IHN5
bl9kYXRhX2Fib3J0X25vX2lzcyhzYW1lX2VsLA0KPiA+ICsgICAgICAgIHN5biA9IHN5bl9kYXRh
X2Fib3J0X25vX2lzcyhzYW1lX2VsLCAwLA0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBlYSwgMCwgczFwdHcsIGlzX3dyaXRlLCBmc2MpOw0KPiA+ICAgICAgfSBlbHNl
IHsNCj4gPiAgICAgICAgICAvKiBGaWVsZHM6IElMLCBJU1YsIFNBUywgU1NFLCBTUlQsIFNGIGFu
ZCBBUiBjb21lIGZyb20gdGhlDQo+ID4gdGVtcGxhdGUNCj4gPiAtLQ0KPiA+IDEuOC4zLjENCj4g
Pg0KPiANCj4gdGhhbmtzDQo+IC0tIFBNTQ0K
