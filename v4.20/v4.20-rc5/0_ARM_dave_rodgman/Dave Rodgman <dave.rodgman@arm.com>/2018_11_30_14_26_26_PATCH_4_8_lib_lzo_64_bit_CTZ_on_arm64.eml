Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 02 Dec 2018 19:18:50 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga003.jf.intel.com (orsmga003.jf.intel.com [10.7.209.27])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id E730F580224;
	Fri, 30 Nov 2018 06:26:39 -0800 (PST)
Received: from fmsmga102.fm.intel.com ([10.1.193.69])
  by orsmga003-1.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 30 Nov 2018 06:26:39 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AxPugqBGQXIjATsf5ZE+jTJ1GYnF86YWxBRYc798d?=
 =?us-ascii?q?s5kLTJ75oc+9bnLW6fgltlLVR4KTs6sC17KG9fi4EUU7or+5+EgYd5JNUxJXwe?=
 =?us-ascii?q?43pCcHRPC/NEvgMfTxZDY7FskRHHVs/nW8LFQHUJ2mPw6arXK99yMdFQviPgRp?=
 =?us-ascii?q?OOv1BpTSj8Oq3Oyu5pHfeQpFiCa+bL9oMBm6sRjau9ULj4dlNqs/0AbCrGFSe+?=
 =?us-ascii?q?RRy2NoJFaTkAj568yt4pNt8Dletuw4+cJYXqr0Y6o3TbpDDDQ7KG81/9HktQPC?=
 =?us-ascii?q?TQSU+HQRVHgdnwdSDAjE6BH6WYrxsjf/u+Fg1iSWIdH6QLYpUjm58axlVAHnhz?=
 =?us-ascii?q?sGNz4h8WHYlMpwjL5AoBm8oxBz2pPYbJ2JOPZ7eK7WYNEUSndbXstJVyJPHJ6y?=
 =?us-ascii?q?b5cBAeQCM+ZXrY7zp1oSohWxCgasH/vvxz1Ti3/qxK03yfgtHBva0AA9Gd8FrX?=
 =?us-ascii?q?TarM/yNKcXSe27wrPHzSvdYPhLxTn975XHch8kof6WW7J7bM3cxlQ1GAPbkFqc?=
 =?us-ascii?q?s5blPzSI2eQCtmiU9exgWPm1hG49rgF9uCSgxsApioTQgI8e117K9SJ8wIkvJN?=
 =?us-ascii?q?24TlZ2Yd26H5tKsSGVKY92TtklQ2FytyY3zKANt52jfCUS1pgr2xrSZ+aaf4WG?=
 =?us-ascii?q?/B7vTvudLDRkiH5/eb+yhQ6+/Va9xuD+TMW4zVlHojZfntXRqnwA1gbf58iJR/?=
 =?us-ascii?q?dl8EeuxzWC2xzW5+xBL007iKrWJIIkz7MwiJYfr0DOEyrtl0j3gqKbeUAp9fO1?=
 =?us-ascii?q?5+v9frrroIKXOZVuhQHkKKsun9SyAeQmPQgKWGiW4fq81LL98k3jWrlKjeM5kr?=
 =?us-ascii?q?PfsJ/EIcQXvKm5AxVa0oo76ha/CSmp0MgAkHUZMF5IfAiLg5XnNl3QOvz0EPSy?=
 =?us-ascii?q?j0i2nDpqxf3KJrjhDY/MLnjHnrfhZ7F960tExQo3zNBf4Y9UC74YLPLwREDxrt?=
 =?us-ascii?q?rYAQE9MwCtxObmBtN92Z0EWW+UHK+ZP73dsUWS6uIsPeaMfokVtyj5K/Q/4P7u?=
 =?us-ascii?q?l3A5lUcHfaa1xZsXdGy4HvN+LkWdYHrsgckOHX0FvwojV+HqjFyCUThOZ3e9Ra?=
 =?us-ascii?q?485zc7CJ64AofHXIyinLuB3CKjFJ1Mem9GEkyMEWvvd4icW/cDciOSItN7nTwD?=
 =?us-ascii?q?T7ShS5Ih2guotA/10LdnKuvU+isFtZPsztR15uvTlQ0s+jxwFciSz2aNT2RslG?=
 =?us-ascii?q?MSWzA2xLx/oVB6ylqb06h4hOJXGcZQ5/NOVAc6M5ncwvd+C9DzXALBY9iIREyn?=
 =?us-ascii?q?QtWgHTE+UNYxz8USbEZ6HtWolgrD0DayA78Ji7yLA4Q5/bjH33jxIMZ9yGzK1L?=
 =?us-ascii?q?M7gFkkWcZPMWymhqhi9wncHYLJkkOZl7q0eqQYxiLC6GCDzW+WtkFCTAFwSbnF?=
 =?us-ascii?q?XWwYZkbOrtT2/EXCQ6WqCbQmKARBz8GCJ7BOat3oi1VGWfjiNM7fY2K3h2e/Gx?=
 =?us-ascii?q?KIyqmQY4rtfmUXxD/dB1QckwAP4XaGMhAzCTq7rGLAEjNiD1LvbFnq8elltny7?=
 =?us-ascii?q?SEg4zwWJb01k07q44RoVhf2aS/MO0bMIoiYhqzNoHFmj29LaEcaPpw1kfK9Ee9?=
 =?us-ascii?q?My/E9H1X7Ftwx6JpGvMrpthkAAfAhtv0PhzRN3Cp5ensgst34qyAtyKaSF0FJO?=
 =?us-ascii?q?bT+Y3JbwOqHJJWn25hygd6nW2lTG2taM5qgP8Og4q0nkvAyxCkoi8nBn095J03?=
 =?us-ascii?q?uc5pTGFhYSXYj2UkYt8xh6prfaYiYm6oPQ1H1sN7S0szDY19IoAusl1givf9NF?=
 =?us-ascii?q?PKyYEw/yFtUQB9KyJ+wyh1ipchUEMfhI+64wIcyneOWJ2a6xMOl7gTKpkH5I4I?=
 =?us-ascii?q?Z+0kKL6SpxUerI35cDw/GF0QqLTTb8jFG9ss/pnYBIfy0dHm26ySL8Ho5eerVy?=
 =?us-ascii?q?fZoXCWepO8C2xsh+i4TxVHJC9V+jB0kJ2MmmeReJa1z93AtQ1VkYoHC9mCu4yS?=
 =?us-ascii?q?B0nC8trqaFwCPOxOHifgIdOmFXXGlikUvsIY+sgtAAXUincxImlAG46kb93aRb?=
 =?us-ascii?q?orpwL3PSQUtRYyf5NWViXbauubqYZM5P7oglsSFWUOS6fFCbRaTxoxoc0yP/AW?=
 =?us-ascii?q?RewCo3eC2tupX8hxZ6kn6SLG5vrHrFfsF93Rfe5N3GSf9RxDYGXzR4iT/MC1i4?=
 =?us-ascii?q?Ptmp+8iUlpjZvuC/UWKhSoNccS3xwYycsyu74HVgAQejkPCrht3nDQ863Df519?=
 =?us-ascii?q?ZwTyXIrxX8Yo7x26ShK+1nfUpoBF7668VkHIFziY8whJAW2XgHiZSZ53sHkWHv?=
 =?us-ascii?q?MdpF3aLydmYCRTkOw9TN+gjqxFVjLm6Vx4L+TnicwtFuZ96gbmMU2yI96dtHCK?=
 =?us-ascii?q?OV7LxCgCt0rUC0rQPXYfhhgDgdzeEi52Idg+EMoAAt1DmSAqgOHUlEOizhjxeI?=
 =?us-ascii?q?4Mq/rKlNZGavbKK/1Exxnd26CLGCowdcWGv2e5s4HC9w6Nl/P0zI0HHp9o7kf9?=
 =?us-ascii?q?zQZ8oJthKIixfAk/RVKJUpm/oPhCpnOnjysWcryuEllhxuwY+1vJKcJGpz5qK5?=
 =?us-ascii?q?DQVVNjn0Z8MV5zHsgrxSnseQ34CzAJphHi8HU4fvTfKtCDgSr+joNx6SED0grX?=
 =?us-ascii?q?eWAabfHQia6Et8rnPACZarN2yMJHkCzNVvXx2dJE1ZgAAJUzQ2hJ85Fga2xMP/?=
 =?us-ascii?q?dEd1/Cwe5ln9qhFU0OJnKwH/UnvDpAevcjo7U4KQLB1S7gFf/UvVNdGe4/l3Hy?=
 =?us-ascii?q?FZ+J2hsQOMJnaaZwROEWEGREiEC0r/Mbmp4NnK6/KYCfamL/vSfbWOrvRTV/WS?=
 =?us-ascii?q?ypKqzIRm5CyANtmVMnlhEv072VdDXXZjFMTCgDgPTy0XlyTQb8+Uvhu8+yt3rt?=
 =?us-ascii?q?yh//TvQg7g+YyPC75KO9V15x+2mbuDN/KXhCthKTdY0Y4MxWbVyLcF2l4ekTpu?=
 =?us-ascii?q?dz6rEbQPriPNSKPQmqlKDx8UcS9zNc1I774i0QlJI8LUltT11rtghP4vF1hFTU?=
 =?us-ascii?q?Dhmt2uZcESI2GyKlLHBEWINLSHPzHLwNv3YaSzSbJOluVUqgawtC2fE0/iODSD?=
 =?us-ascii?q?ijboWwquMeFKkCGUIhhetJuhfRZqDGjpVMjmZQGjMN9rkT02xqU5iWnXNWEHKz?=
 =?us-ascii?q?hzbUNMoqeU7SNZmfh/H21B7nx4LeiLgSqZ7u/YKooIvvtvGCh7i+Va4HEiwbtP?=
 =?us-ascii?q?8C5EXOB1mDfVrtN2v1Gmk+yPxiB7XxZUtjlLhJyEvUN5NKXd95lAX2vE/R0X4W?=
 =?us-ascii?q?WRDRQKu8VqCtn1t69MzdjPkbr5KC1e/NLM4cscG8/UJdqHMXU7NxrpHT/UDA0d?=
 =?us-ascii?q?Qj+qNWHQnUpdkP6J+32Rr5g6rIXsmZUURr9aUlw1Cu0VCkB/ENMeJ5d3W2Bsrb?=
 =?us-ascii?q?nOxsoJ42eu6RrcXsNXurjZWf+IR/biMjCUif9DfRRCief8LIIOJsj41lZkZ11S?=
 =?us-ascii?q?govHAQzTUMpLryknaRU79gEFunF9Vmgb30PjdxPo7ngOE/K9gh8xjE15e+tnvG?=
 =?us-ascii?q?Pl4E8yDl7LojYg1Uc2hNPpiCyQdzi3K72/C9J4ES3x4mQ4LJ6zeQF5Ygi7mwQw?=
 =?us-ascii?q?OD7aSvRLiLdvcGltoAbGvN1EHvsKHv4MWwMZ2fzCP6Zg6l9bsCjygBYfveY=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ANAADpRwFch0O0hNFkHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUQcBAQsBgTBQaXMECycKhzYDhE6LPkqCDRSIfY43gSQDRxgBGAsIAYd2IjQ?=
 =?us-ascii?q?JDQEDAQEBAQEBAgETAQEBCA0JCCkjDII2JAGCYgMDAQI9AQE3AQUJAQEBAR0xA?=
 =?us-ascii?q?x4RJQIEAQ0FBYMcAYFpAxUBAgEBCpsiAooHgh+CdgEBBYEwAYNWDQuCCQiHbIQ?=
 =?us-ascii?q?ugVc/hnqBc4YSix6EU5AAGC4HAoIeBIRdhwuDIiOCKI53iHuBcIJ0gQuJTAIEA?=
 =?us-ascii?q?gQFAg0BAQWBRmyBITMaI4M8CQqCCINthRSDM4IMQTEBAQGBAgEBIYpbgS4BgR4?=
 =?us-ascii?q?BAQ?=
X-IPAS-Result: =?us-ascii?q?A0ANAADpRwFch0O0hNFkHAEBAQQBAQcEAQGBUQcBAQsBgTB?=
 =?us-ascii?q?QaXMECycKhzYDhE6LPkqCDRSIfY43gSQDRxgBGAsIAYd2IjQJDQEDAQEBAQEBA?=
 =?us-ascii?q?gETAQEBCA0JCCkjDII2JAGCYgMDAQI9AQE3AQUJAQEBAR0xAx4RJQIEAQ0FBYM?=
 =?us-ascii?q?cAYFpAxUBAgEBCpsiAooHgh+CdgEBBYEwAYNWDQuCCQiHbIQugVc/hnqBc4YSi?=
 =?us-ascii?q?x6EU5AAGC4HAoIeBIRdhwuDIiOCKI53iHuBcIJ0gQuJTAIEAgQFAg0BAQWBRmy?=
 =?us-ascii?q?BITMaI4M8CQqCCINthRSDM4IMQTEBAQGBAgEBIYpbgS4BgR4BAQ?=
X-IronPort-AV: E=Sophos;i="5.56,298,1539673200"; 
   d="scan'208";a="55017225"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 30 Nov 2018 06:26:37 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727229AbeLABgD (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 30 Nov 2018 20:36:03 -0500
Received: from mail-eopbgr140078.outbound.protection.outlook.com ([40.107.14.78]:30574
        "EHLO EUR01-VE1-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1727170AbeLABgB (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 30 Nov 2018 20:36:01 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=armh.onmicrosoft.com;
 s=selector1-arm-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=rPF4bhtqJ+JqysWU/N6G63wLNqMMCtuBE78n/TbjM1w=;
 b=aew5QiVqE9M40G6iaHloCqyrzfHI5Q7NVPvncJ7nkugebaPdeYq+aWCVaOEWVTfVj7xcg36w/PxqDU/n3RQBSxULuw2wpfPb9VaR4jTeXPyWxxRgOv/YE0b0mn74GgJ2kgNVp0L0Dtfn5g/25EwOzQdk6pwp2ioTqYoCQcGJ3+E=
Received: from VI1PR0802MB2528.eurprd08.prod.outlook.com (10.175.20.142) by
 VI1PR0802MB2415.eurprd08.prod.outlook.com (10.175.25.151) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1361.19; Fri, 30 Nov 2018 14:26:26 +0000
Received: from VI1PR0802MB2528.eurprd08.prod.outlook.com
 ([fe80::3d5c:5229:b634:b1ac]) by VI1PR0802MB2528.eurprd08.prod.outlook.com
 ([fe80::3d5c:5229:b634:b1ac%11]) with mapi id 15.20.1382.020; Fri, 30 Nov
 2018 14:26:26 +0000
From: Dave Rodgman <dave.rodgman@arm.com>
To: "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
        "akpm@linux-foundation.org" <akpm@linux-foundation.org>
CC: "herbert@gondor.apana.org.au" <herbert@gondor.apana.org.au>,
        "davem@davemloft.net" <davem@davemloft.net>,
        Matt Sealey <Matt.Sealey@arm.com>,
        "nitingupta910@gmail.com" <nitingupta910@gmail.com>,
        "markus@oberhumer.com" <markus@oberhumer.com>,
        "minchan@kernel.org" <minchan@kernel.org>,
        "sergey.senozhatsky.work@gmail.com" 
        <sergey.senozhatsky.work@gmail.com>,
        "sonnyrao@google.com" <sonnyrao@google.com>,
        "gregkh@linuxfoundation.org" <gregkh@linuxfoundation.org>,
        nd <nd@arm.com>, "sfr@canb.auug.org.au" <sfr@canb.auug.org.au>
Subject: [PATCH 4/8] lib/lzo: 64-bit CTZ on arm64
Thread-Topic: [PATCH 4/8] lib/lzo: 64-bit CTZ on arm64
Thread-Index: AQHUiLittSxylaroqk28J7OrAXAvFg==
Date: Fri, 30 Nov 2018 14:26:26 +0000
Message-ID: <20181130142600.13782-5-dave.rodgman@arm.com>
References: <20181130142600.13782-1-dave.rodgman@arm.com>
In-Reply-To: <20181130142600.13782-1-dave.rodgman@arm.com>
Accept-Language: en-GB, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-mailer: git-send-email 2.17.1
x-originating-ip: [217.140.106.53]
x-clientproxiedby: CWLP265CA0336.GBRP265.PROD.OUTLOOK.COM
 (2603:10a6:401:57::36) To VI1PR0802MB2528.eurprd08.prod.outlook.com
 (2603:10a6:800:b0::14)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=dave.rodgman@arm.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-microsoft-exchange-diagnostics: 1;VI1PR0802MB2415;6:mTfgiZUTyOYonmveB9mShTYWgn7IOFr32i6c/rDeqiawtolNN0UXboXSTuDYFvRJttwUGpZi/BWHzVbj6twtfyV4nWj4q8gWaliw+fFcGNtggkFpoH2UnRfuWtJRQLHESsAqU/am09HBvz0SZvt13FLblhczWrv7tmUIbVhtuEfW4lOEHJlaghkK8vLfhhOBJe1VmFGs/rHv67AJvSl7er6cwx931ypx2J790JhyT88j+W/PV2c0As/vSyNDXr7630K1fE+URZvwH+Fv28jul5mp6cUfCikrxrARLn47qgC7gxpaT3+c2oHnqJO94S6MNLceJNSimFifxZ5Xw6RkFt/Xfs2HsMUFyVGLiw+zz7cqA+d+yr3JeUDXFIrL6F1VSwJE7brZVjG32J+cCLVBNKVEM50Rg6Ub8SP+uhM118tfCnIIn2rtU4/FDU3dfpW1rj8HBWFSZkArWxcBeLJD6Q==;5:cs3hSp4kR/2loV5t31K1fhIWmpJjx0eMr5lRb6asWSZlt+Qj6mt96F7HCPidJAwuAawd7AG+2ShLcnxAdf3ZF8CI9CGo2xSU+WX/VDwvaaiUg+GD69PAcqxb2EiGMTuOMLCbvkaVEFySH1dwNvDn+HhhZkbif1SofJz7jsrEqnQ=;7:15XSEslHHTxKhFrQTZmThujq+HfMcWeGpu12mByryscdWvc8RWhjxc8WQ5SDeu7DkzT8NJ+CJu87+KoZavbYjtF+tsb9Weph5Bxw4uJ9UYXs3+jrxkl5gusp7UbhjyU1QHDcebn7SEHkX+fmy30AWA==
x-ms-office365-filtering-correlation-id: a3e531e0-e090-4568-12ee-08d656cfcfec
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390098)(7020095)(4652040)(8989299)(5600074)(711020)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7153060)(7193020);SRVR:VI1PR0802MB2415;
x-ms-traffictypediagnostic: VI1PR0802MB2415:
nodisclaimer: True
x-microsoft-antispam-prvs: <VI1PR0802MB2415B0CFEBF7420FCFF016ED8FD30@VI1PR0802MB2415.eurprd08.prod.outlook.com>
x-ms-exchange-senderadcheck: 1
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(8211001083)(6040522)(2401047)(8121501046)(5005006)(3231453)(999002)(944501466)(4982022)(52105112)(3002001)(93006095)(93001095)(10201501046)(6055026)(148016)(149066)(150057)(6041310)(201703131423095)(201702281528075)(20161123555045)(201703061421075)(201703061406153)(20161123564045)(20161123562045)(20161123558120)(20161123560045)(201708071742011)(7699051)(76991095);SRVR:VI1PR0802MB2415;BCL:0;PCL:0;RULEID:;SRVR:VI1PR0802MB2415;
x-forefront-prvs: 087223B4DA
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(396003)(39860400002)(376002)(346002)(366004)(136003)(199004)(189003)(386003)(6306002)(5660300001)(476003)(50226002)(11346002)(486006)(14444005)(8936002)(446003)(6486002)(7416002)(39060400002)(25786009)(6506007)(2616005)(44832011)(6436002)(4326008)(66066001)(102836004)(6512007)(110136005)(71190400001)(71200400001)(76176011)(81166006)(305945005)(81156014)(52116002)(99286004)(186003)(26005)(316002)(8676002)(54906003)(14454004)(97736004)(68736007)(1076002)(256004)(7736002)(2906002)(478600001)(106356001)(105586002)(36756003)(6116002)(2501003)(86362001)(53936002)(966005)(3846002);DIR:OUT;SFP:1101;SCL:1;SRVR:VI1PR0802MB2415;H:VI1PR0802MB2528.eurprd08.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
x-microsoft-antispam-message-info: tFjXNrlVkYmG59k01y2yaEqEmsUYf7Kv8xnNDIzMR5W3/rgsfcu693DxpqVK9js4I9yrT/xkU6eL9g/2g3i7XwrB608m/pmkdTHHduAPW4ZloywIF0QN4iDIYy42RO2wmfmEWToyvxFt4fLmIGlPki6gl8GEi9gUogBj5fBrn1cWhYx201PjXZyN1nhtdbsjqPkNJf4qWBlZW5JPnqFJc/W3hG3+cL4SnurlhjDo10zJ+mQ3R3dVL9dOfu+prfpnSyZEdrQm/IzsyjQQTOIpr5GQOBbvxCTRhgnb8r5uY/PSbdDDxi5zYa/W+A1cmWE4QYJrxLp31DeYdemHsrfKxCvEf0U6NGBu+ANZfLlduEg=
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: arm.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a3e531e0-e090-4568-12ee-08d656cfcfec
X-MS-Exchange-CrossTenant-originalarrivaltime: 30 Nov 2018 14:26:26.8079
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: f34e5979-57d9-4aaa-ad4d-b122a662184d
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR0802MB2415
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

From: Matt Sealey <matt.sealey@arm.com>

LZO leaves some performance on the table by not realising that arm64 can
optimize count-trailing-zeros bit operations.

Add CONFIG_ARM64 to the checked definitions alongside CONFIG_X86_64 to
enable the use of rbit/clz instructions on full 64-bit quantities.

Link: http://lkml.kernel.org/r/20181127161913.23863-5-dave.rodgman@arm.com
Signed-off-by: Matt Sealey <matt.sealey@arm.com>
Signed-off-by: Dave Rodgman <dave.rodgman@arm.com>
Cc: David S. Miller <davem@davemloft.net>
Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Cc: Herbert Xu <herbert@gondor.apana.org.au>
Cc: Markus F.X.J. Oberhumer <markus@oberhumer.com>
Cc: Minchan Kim <minchan@kernel.org>
Cc: Nitin Gupta <nitingupta910@gmail.com>
Cc: Richard Purdie <rpurdie@openedhand.com>
Cc: Sergey Senozhatsky <sergey.senozhatsky.work@gmail.com>
Cc: Sonny Rao <sonnyrao@google.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
---
 lib/lzo/lzodefs.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/lzo/lzodefs.h b/lib/lzo/lzodefs.h
index c0193f726db0..c8965dc181df 100644
--- a/lib/lzo/lzodefs.h
+++ b/lib/lzo/lzodefs.h
@@ -28,7 +28,7 @@
=20
 #if defined(__BIG_ENDIAN) && defined(__LITTLE_ENDIAN)
 #error "conflicting endian definitions"
-#elif defined(CONFIG_X86_64)
+#elif defined(CONFIG_X86_64) || defined(CONFIG_ARM64)
 #define LZO_USE_CTZ64	1
 #define LZO_USE_CTZ32	1
 #elif defined(CONFIG_X86) || defined(CONFIG_PPC)
--=20
2.17.1

