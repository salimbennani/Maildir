Return-Path: <xen-devel-bounces@lists.xenproject.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (61.164.42.155:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 08 Nov 2018 10:27:33 -0000
Received: from icoremail.net (unknown [209.85.215.174])
	by mail-app2 (Coremail) with SMTP id by_KCgC3f_mqquNboclcAQ--.27786S3;
	Thu, 08 Nov 2018 11:16:59 +0800 (CST)
Received: from mail-pg1-f174.google.com (unknown [209.85.215.174])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwA3FUGmquNbAI4aAA--.3840S3;
	Thu, 08 Nov 2018 11:16:54 +0800 (CST)
Received: by mail-pg1-f174.google.com with SMTP id y4so7781530pgc.12
        for <xuliker@zju.edu.cn>; Wed, 07 Nov 2018 19:16:54 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:delivered-to:dkim-signature:from:to:date
         :message-id:in-reply-to:references:mime-version:subject:precedence
         :list-id:list-unsubscribe:list-post:list-help:list-subscribe:cc
         :content-transfer-encoding:errors-to:sender;
        bh=Mavi47k3JlhLqV8ujyHpGFY9q6QSlwrjcXj6Iu0Cvlg=;
        b=CbnlqZW79EhEwgDD1S7QDRfD09D7etcly2XwBF7t1sDiZpxt+7llXwNz+Zw924GF2z
         DXfXotWxOZnmlgcEH8hxyYMQ3h4+xd3P7TSFXHJKaznyO4w87BwiiNXw21UiMUQfMqcc
         NHROtvENF8OkIDNAUnQM+yvVYmQu9u2A+kISpOT5XyILxEiD/6OKB5vAjOpaWOkvwjsB
         yapnDcubJ9e0uaso9eHyZegl/5V4f56j915qx212lvJbqPCcOKORAjnutx9HP1l/M/L5
         YD9Oi/H3lD5YUubobRPu8U7VeEP7v6e6ONMpebhw9/6khtjnpeRwWeR8K2msGBlbb3Mv
         pVZg==
X-Gm-Message-State: AGRZ1gKM/som2Tr+nZ7IY3wceDfnRQ7W0hOW2M4RnlQJhRLD927UJEll
	yRC2eX8xxJuuz2ZPJaJMIPIiUCMh33OJwtZMsjTJx9Q2MYQHNWqzMA==
X-Received: by 2002:aa7:8498:: with SMTP id u24-v6mr2919065pfn.220.1541647014375;
        Wed, 07 Nov 2018 19:16:54 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:c304:0:0:0:0 with SMTP id g4-v6csp19958pjt;
        Wed, 7 Nov 2018 19:16:52 -0800 (PST)
X-Google-Smtp-Source: AJdET5fFbpwNOPPUpcbT1JETOmc3f/3kiRWNjAkmLgUK+XtFBiirsgjmbzjGPyrMgGaKUM0MwoOH
X-Received: by 2002:a25:a309:: with SMTP id d9-v6mr2859338ybi.27.1541647012610;
        Wed, 07 Nov 2018 19:16:52 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1541647012; cv=none;
        d=google.com; s=arc-20160816;
        b=aA1b0K3Jr3VKu49bhwsTuVqWCwIqjdYSo1s4SnjeRAEo8A1LOfyXXK6+6hLhfX/vUO
         H3C+twSn4zSzjLPkcHBtqANxZRQVPQzlNib5ThnrE5Mu0fclGtEm6uAOhO6Ddr7Ikmbk
         luN4TAtaXfVlOF7PLxD4m1nCOzRQUxKxXI9NT0X23X4TQkX+2C0g64cadulgn5FUgWwY
         jLonL9hYM9zSG5Yk+TzVRomJ64sPrRfkHNsKttq/G5JpHxJTNNP0SN3LVZwJH7RP+ceZ
         OJq+MMwXnyLLg/kPHm9XsgvmmEL7ggUm9K9VUDQMiC22JU/67psBFHJuHI5dMG6V9zhO
         ebLA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=sender:errors-to:content-transfer-encoding:cc:list-subscribe
         :list-help:list-post:list-unsubscribe:list-id:precedence:subject
         :mime-version:references:in-reply-to:message-id:date:to:from
         :dkim-signature;
        bh=Mavi47k3JlhLqV8ujyHpGFY9q6QSlwrjcXj6Iu0Cvlg=;
        b=jVaLbBZ7q2pR2kOifPYTH2or6FGFalsMskZ5b6A9S0J2NiggJA+nFLmKtkcTtj+O1e
         sJ+JbPLLcP/bmJnRLYB6nhDl3qu5zPc8LKtf2l9Gqsg6p7cr8fUVz9W6dvu+tJnU9qch
         AcXy7Blhz5DpmuffA/m5NcVboZYpBg4WBqpEsqlaU14Ew4VO+PRz8uC8ajXIXdFRgLFD
         p1FUEkvIQotsPPCSWIWv6FeU66kgVDS/xyvhJnX7Ed7sd6/7xoGuG5S2ncoKvCaTLi1G
         J327poQiAewiLqk4z6e+jlFSvPYuNuXZ/oNTGFfgLEPs70KR5P5Px4OR6wTsvuHGTt1/
         xlyQ==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=neutral (body hash did not verify) header.i=@gmail.com header.s=20161025 header.b="lCm/3Qe5";
       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org;
       dmarc=fail (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Received: from lists.xenproject.org (lists.xenproject.org. [192.237.175.120])
        by mx.google.com with ESMTPS id e124-v6si1698473ywb.252.2018.11.07.19.16.39
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Wed, 07 Nov 2018 19:16:52 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) client-ip=192.237.175.120;
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1gKamO-0002Ne-Js; Thu, 08 Nov 2018 03:14:48 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <srs0=iyjz=nt=gmail.com=talons.lee@srs-us1.protection.inumbo.net>)
 id 1gKamM-0002NG-7g
 for xen-devel@lists.xen.org; Thu, 08 Nov 2018 03:14:46 +0000
X-Inumbo-ID: 70ef7300-e304-11e8-9a16-bc764e045a96
Received: from mail-pl1-x643.google.com (unknown [2607:f8b0:4864:20::643])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 70ef7300-e304-11e8-9a16-bc764e045a96;
 Thu, 08 Nov 2018 03:14:45 +0000 (UTC)
Received: by mail-pl1-x643.google.com with SMTP id p6-v6so8832651pll.4
 for <xen-devel@lists.xen.org>; Wed, 07 Nov 2018 19:14:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=8EVKIS1LLKXB56RWKma+ekRPzfegZ2tKtmlfIFWL68g=;
 b=lCm/3Qe5hAumqj5hpehRAiQSc2SB+/swFN9v3PC1ZRlgI9MRnuTSwiy6V4GAHYotpj
 LPoMu6QtouMuSRqGNyp7JNBnej8Heyki4rZtRf5dFxOs4OaPBd1JMEqGRweO/mLBfEXQ
 LT6FIfbSbb9D0yjFh4j7hlhRKFXKyOFZPVLs0s25LB/fe6+hHsZoKf5DyUHehZ5IzD5c
 Cc6ttU++2nNZvmdihweoj/ysSa+t/zIin5ZVQQVyvDiimZWw8jazskDWZeWYDSDWLrJf
 uLanXP5gCiTmaupUEImwcx/HPujQcByIBO3moTy+czjoZydaBioiZiQLP9eraykECkkR
 XnrA==
X-Received: by 2002:a17:902:9a8b:: with SMTP id
 w11-v6mr2874321plp.94.1541646884330; 
 Wed, 07 Nov 2018 19:14:44 -0800 (PST)
Received: from xmas.citrite.net ([103.14.252.249])
 by smtp.gmail.com with ESMTPSA id i21sm440162pgm.17.2018.11.07.19.14.38
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 07 Nov 2018 19:14:43 -0800 (PST)
From: Xin Li <talons.lee@gmail.com>
X-Google-Original-From: Xin Li <xin.li@citrix.com>
To: xen-devel@lists.xen.org
Date: Thu,  8 Nov 2018 11:14:13 +0800
Message-Id: <20181108031414.2789-3-xin.li@citrix.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20181108031414.2789-1-xin.li@citrix.com>
References: <20181108031414.2789-1-xin.li@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v5 3/4] xen/xsm: Add new SILO mode for XSM
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Sergey Dyasli <sergey.dyasli@citrix.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wei.liu2@citrix.com>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>, Xin Li <xin.li@citrix.com>,
 Tim Deegan <tim@xen.org>, Jan Beulich <JBeulich@suse.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>, Ming Lu <ming.lu@citrix.com>,
 Daniel De Graaf <dgdegra@tycho.nsa.gov>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
X-CM-TRANSID: AQAAfwA3FUGmquNbAI4aAA--.3840S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvJXoW3XF15trWUAryxCryUKw4xtFb_yoWfWF1kpF
	sxury5C3yDGFWYgayfGF1DuFyYkas5GF18Z345Gw1UZF9Iywn7Ww10gF1YkF9xXF43A34Y
	yF9agFnxWw1UJ3DanT9S1TB71UUUUUUqnTZGkaVYY2UrUUUU0bIjqfuFe4nvWSU8nxnvy2
	9KBjDU0xBIdaVrnRJUUUlFb7Iv0xC_Kw4lb4IE77IF4wAFF20E14v26r1j6r4UM7CIcVAF
	z4kK6r1j6r18M28lY4IEw2IIxxk0rwA2F7IY1VAKz4vEj48ve4kI8wA2z4x0Y4vE2Ix0cI
	8IcVAFwI0_Xr0_Ar1l84ACjcxK6xIIjxv20xvEc7CjxVAFwI0_Gr0_Cr1l84ACjcxK6I8E
	87Iv67AKxVW0oVCq3wA2z4x0Y4vEx4A2jsIEc7CjxVAFwI0_GcCE3s1lnx0E6VACY4xI67
	k04243AVACY4xI67k04243AVAKzVAKj4xI6x02cVCv0xWle2I262IYc4CY6c8Ij28IcVAa
	Y2xG8wAqx4xG64xvF2IEw4CE5I8CrVC2j2WlYx0E2Ix0cI8IcVAFwI0_Jr0_Jr4lYx0Ex4
	A2jsIE14v26r4j6F4UMcvjeVCFs4IE7xkEbVWUJVW8JwACjcxG0xvY0x0EwIxGrwACY4xI
	67k04243AVAKzVAKj4xxMx02cVCv0xWlc7CjxVAKzI0EY4vE52x082I5MxkFs20EY4vE44
	CYbxCE4x80FwCY02Avz4vEIxC_Gr4lc2IjII80xcxEwVAKI48JMxvI42IY6xIIjxv20xvE
	14v26r1j6r1xMxvI42IY6xIIjxv20xvEc7CjxVAFwI0_Jr0_Gr1lcIIF0xvEx4A2jsIE14
	v26F4UJVW0owCYIxAIcVC2z280aVCY1x0267AKxVWxJr0_GcWl42xK82IYc2Ij64vIr41l
	42xK82IY64kExVAvwVAq07x20xyl4x8a6x804xWl4I8I3I0E4IkC6x0Yz7v_Jr0_Gr1lx2
	IqxVAqx4xG67AKxVWUJVWUGwC20s026x8GjcxK67AKxVWUGVWUWwC2zVAF1VAY17CE14v2
	6r1q6r43MIIYrxkI7VAKI48JMIIF0xvE42xK8VAvwI8IcIk0rVWUJVWUCwCE64xvF2IEb7
	IF0Fy7YxBIdaVFxhVjvjDU0xZFpf9x07bk6pdUUUUU=

V2hlbiBTSUxPIGlzIGVuYWJsZWQsIHRoZXJlIHdvdWxkIGJlIG5vIHBhZ2Utc2hhcmluZyBvciBl
dmVudCBub3RpZmljYXRpb25zCmJldHdlZW4gdW5wcml2aWxlZ2VkIFZNcyAobm8gZ3JhbnQgdGFi
bGVzIG9yIGV2ZW50IGNoYW5uZWxzKS4KClNpZ25lZC1vZmYtYnk6IFhpbiBMaSA8eGluLmxpQGNp
dHJpeC5jb20+CkFja2VkLWJ5OiBEYW5pZWwgRGUgR3JhYWYgPGRnZGVncmFAdHljaG8ubnNhLmdv
dj4KCi0tLQpDQzogRGFuaWVsIERlIEdyYWFmIDxkZ2RlZ3JhQHR5Y2hvLm5zYS5nb3Y+CkNDOiBH
ZW9yZ2UgRHVubGFwIDxHZW9yZ2UuRHVubGFwQGV1LmNpdHJpeC5jb20+CkNDOiBKYW4gQmV1bGlj
aCA8SkJldWxpY2hAc3VzZS5jb20+CkNDOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53
aWxrQG9yYWNsZS5jb20+CkNDOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5l
bC5vcmc+CkNDOiBUaW0gRGVlZ2FuIDx0aW1AeGVuLm9yZz4KQ0M6IFdlaSBMaXUgPHdlaS5saXUy
QGNpdHJpeC5jb20+CkNDOiBTZXJnZXkgRHlhc2xpIDxzZXJnZXkuZHlhc2xpQGNpdHJpeC5jb20+
CkNDOiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgpDQzogTWluZyBM
dSA8bWluZy5sdUBjaXRyaXguY29tPgoKdjU6CjEuIHVzZSBfX21heWJlX3VudXNlZCBpbnN0ZWFk
IG9mIF9fYXR0cmlidXRlX18gKCh1bnVzZWQpKSwgYW5kIHJlbW92ZQp1bm5lY2Vzc2FyeSAjaWZk
ZWYgQ09ORklHX1hTTV9TSUxPLgoyLiByZW5hbWUgY3VyX2RvbSB0byBjdXJyZC4KMy4gbW92ZSB0
aGUgcmVtb3ZhbCBvZiAjZGVmaW5lIGluIGR1bW15LmMgdG8gYSBzZXBlcmF0ZSBwYXRjaC4KNC4g
cmVtb3ZlIGEgYmxhbmsgbGluZSBpbiBzaWxvLmMuCgotLS0KIGRvY3MvbWlzYy94ZW4tY29tbWFu
ZC1saW5lLm1hcmtkb3duIHwgICA1ICstCiB4ZW4vY29tbW9uL0tjb25maWcgICAgICAgICAgICAg
ICAgICB8ICAxNSArKysrCiB4ZW4vaW5jbHVkZS94c20vZHVtbXkuaCAgICAgICAgICAgICB8ICAg
MyArLQogeGVuL2luY2x1ZGUveHNtL3hzbS5oICAgICAgICAgICAgICAgfCAgIDYgKysKIHhlbi94
c20vTWFrZWZpbGUgICAgICAgICAgICAgICAgICAgIHwgICAxICsKIHhlbi94c20vc2lsby5jICAg
ICAgICAgICAgICAgICAgICAgIHwgMTA4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysKIHhl
bi94c20veHNtX2NvcmUuYyAgICAgICAgICAgICAgICAgIHwgIDExICsrKwogNyBmaWxlcyBjaGFu
Z2VkLCAxNDcgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0
NCB4ZW4veHNtL3NpbG8uYwoKZGlmZiAtLWdpdCBhL2RvY3MvbWlzYy94ZW4tY29tbWFuZC1saW5l
Lm1hcmtkb3duIGIvZG9jcy9taXNjL3hlbi1jb21tYW5kLWxpbmUubWFya2Rvd24KaW5kZXggNjdl
MDYyZWNkNy4uMmM3MDQ2ZWI4NiAxMDA2NDQKLS0tIGEvZG9jcy9taXNjL3hlbi1jb21tYW5kLWxp
bmUubWFya2Rvd24KKysrIGIvZG9jcy9taXNjL3hlbi1jb21tYW5kLWxpbmUubWFya2Rvd24KQEAg
LTkwMCw3ICs5MDAsNyBAQCBOb3RlIHRoYXQgc3BlY2lmeWluZyB6ZXJvIGFzIGRvbVUgdmFsdWUg
bWVhbnMgemVybywgd2hpbGUgZm9yIGRvbTAgaXQgbWVhbnMKIHRvIHVzZSB0aGUgZGVmYXVsdC4K
IAogIyMjIHhzbQotPiBgPSBkdW1teSB8IGZsYXNrYAorPiBgPSBkdW1teSB8IGZsYXNrIHwgc2ls
b2AKIAogPiBEZWZhdWx0OiBgZHVtbXlgCiAKQEAgLTkxMSw2ICs5MTEsOSBAQCB0aGUgaHlwZXJ2
aXNvciB3YXMgY29tcGlsZWQgd2l0aCBYU00gc3VwcG9ydC4KICAgKHRoZSBkdW1teSBtb2R1bGUp
IHdpbGwgYmUgYXBwbGllZC4gIEl0J3MgYWxzbyB1c2VkIHdoZW4gWFNNIGlzIGNvbXBpbGVkIG91
dC4KICogYGZsYXNrYDogdGhpcyBpcyB0aGUgcG9saWN5IGJhc2VkIGFjY2VzcyBjb250cm9sLiAg
VG8gY2hvb3NlIHRoaXMsIHRoZQogICBzZXBhcmF0ZWQgb3B0aW9uIGluIGtjb25maWcgbXVzdCBh
bHNvIGJlIGVuYWJsZWQuCisqIGBzaWxvYDogdGhpcyB3aWxsIGRlbnkgYW55IHVubWVkaWF0ZWQg
Y29tbXVuaWNhdGlvbiBjaGFubmVscyBiZXR3ZWVuCisgIHVucHJpdmlsZWdlZCBWTXMuICBUbyBj
aG9vc2UgdGhpcywgdGhlIHNlcGFyYXRlZCBvcHRpb24gaW4ga2NvbmZpZyBtdXN0IGFsc28KKyAg
YmUgZW5hYmxlZC4KIAogIyMjIGZsYXNrCiA+IGA9IHBlcm1pc3NpdmUgfCBlbmZvcmNpbmcgfCBs
YXRlIHwgZGlzYWJsZWRgCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL0tjb25maWcgYi94ZW4vY29t
bW9uL0tjb25maWcKaW5kZXggZjgwMmVmYjYyNS4uY2U5NjVmYmYxNyAxMDA2NDQKLS0tIGEveGVu
L2NvbW1vbi9LY29uZmlnCisrKyBiL3hlbi9jb21tb24vS2NvbmZpZwpAQCAtMTU0LDE1ICsxNTQs
MzAgQEAgY29uZmlnIFhTTV9GTEFTS19QT0xJQ1kKIAogCSAgSWYgdW5zdXJlLCBzYXkgWS4KIAor
Y29uZmlnIFhTTV9TSUxPCisJZGVmX2Jvb2wgeQorCXByb21wdCAiU0lMTyBzdXBwb3J0IgorCWRl
cGVuZHMgb24gWFNNCisJLS0taGVscC0tLQorCSAgRW5hYmxlcyBTSUxPIGFzIHRoZSBhY2Nlc3Mg
Y29udHJvbCBtZWNoYW5pc20gdXNlZCBieSB0aGUgWFNNIGZyYW1ld29yay4KKwkgIFRoaXMgaXMg
bm90IHRoZSBkZWZhdWx0IG1vZHVsZSwgYWRkIGJvb3QgcGFyYW1ldGVyIHhzbT1zaWxvIHRvIGNo
b29zZQorCSAgaXQuIFRoaXMgd2lsbCBkZW55IGFueSB1bm1lZGlhdGVkIGNvbW11bmljYXRpb24g
Y2hhbm5lbHMgKGdyYW50IHRhYmxlcworCSAgYW5kIGV2ZW50IGNoYW5uZWxzKSBiZXR3ZWVuIHVu
cHJpdmlsZWdlZCBWTXMuCisKKwkgIElmIHVuc3VyZSwgc2F5IFkuCisKIGNob2ljZQogCXByb21w
dCAiRGVmYXVsdCBYU00gaW1wbGVtZW50YXRpb24iCiAJZGVwZW5kcyBvbiBYU00KIAlkZWZhdWx0
IFhTTV9GTEFTS19ERUZBVUxUIGlmIFhTTV9GTEFTSworCWRlZmF1bHQgWFNNX1NJTE9fREVGQVVM
VCBpZiBYU01fU0lMTwogCWRlZmF1bHQgWFNNX0RVTU1ZX0RFRkFVTFQKIAljb25maWcgWFNNX0RV
TU1ZX0RFRkFVTFQKIAkJYm9vbCAiTWF0Y2ggbm9uLVhTTSBiZWhhdmlvciIKIAljb25maWcgWFNN
X0ZMQVNLX0RFRkFVTFQKIAkJYm9vbCAiRkx1eCBBZHZhbmNlZCBTZWN1cml0eSBLZXJuZWwiIGlm
IFhTTV9GTEFTSworCWNvbmZpZyBYU01fU0lMT19ERUZBVUxUCisJCWJvb2wgIlNJTE8iIGlmIFhT
TV9TSUxPCiBlbmRjaG9pY2UKIAogY29uZmlnIExBVEVfSFdET00KZGlmZiAtLWdpdCBhL3hlbi9p
bmNsdWRlL3hzbS9kdW1teS5oIGIveGVuL2luY2x1ZGUveHNtL2R1bW15LmgKaW5kZXggYjBhYzFm
NjZiMy4uYWU5NzE4MjJkNSAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUveHNtL2R1bW15LmgKKysr
IGIveGVuL2luY2x1ZGUveHNtL2R1bW15LmgKQEAgLTQ4LDcgKzQ4LDggQEAgdm9pZCBfX3hzbV9h
Y3Rpb25fbWlzbWF0Y2hfZGV0ZWN0ZWQodm9pZCk7CiAgKiBUaGVyZSBpcyBubyB4c21fZGVmYXVs
dF90IGFyZ3VtZW50IGF2YWlsYWJsZSwgc28gdGhlIHZhbHVlIGZyb20gdGhlIGFzc2VydGlvbgog
ICogaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSB2YXJpYWJsZS4KICAqLwotI2RlZmluZSBYU01f
SU5MSU5FIC8qICovCisjZGVmaW5lIFhTTV9JTkxJTkUgX19tYXliZV91bnVzZWQKKwogI2RlZmlu
ZSBYU01fREVGQVVMVF9BUkcgLyogKi8KICNkZWZpbmUgWFNNX0RFRkFVTFRfVk9JRCB2b2lkCiAj
ZGVmaW5lIFhTTV9BU1NFUlRfQUNUSU9OKGRlZikgeHNtX2RlZmF1bHRfdCBhY3Rpb24gPSBkZWY7
ICh2b2lkKWFjdGlvbgpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveHNtL3hzbS5oIGIveGVuL2lu
Y2x1ZGUveHNtL3hzbS5oCmluZGV4IDNkNjc5NjI0OTMuLjNiMTkyYjVjMzEgMTAwNjQ0Ci0tLSBh
L3hlbi9pbmNsdWRlL3hzbS94c20uaAorKysgYi94ZW4vaW5jbHVkZS94c20veHNtLmgKQEAgLTcz
Myw2ICs3MzMsMTIgQEAgZXh0ZXJuIGNvbnN0IHVuc2lnbmVkIGNoYXIgeHNtX2ZsYXNrX2luaXRf
cG9saWN5W107CiBleHRlcm4gY29uc3QgdW5zaWduZWQgaW50IHhzbV9mbGFza19pbml0X3BvbGlj
eV9zaXplOwogI2VuZGlmCiAKKyNpZmRlZiBDT05GSUdfWFNNX1NJTE8KK2V4dGVybiB2b2lkIHNp
bG9faW5pdCh2b2lkKTsKKyNlbHNlCitzdGF0aWMgaW5saW5lIHZvaWQgc2lsb19pbml0KHZvaWQp
IHt9CisjZW5kaWYKKwogI2Vsc2UgLyogQ09ORklHX1hTTSAqLwogCiAjaW5jbHVkZSA8eHNtL2R1
bW15Lmg+CmRpZmYgLS1naXQgYS94ZW4veHNtL01ha2VmaWxlIGIveGVuL3hzbS9NYWtlZmlsZQpp
bmRleCA4YmI0YTI0ZjA5Li5lNGQ1ODFlMDY1IDEwMDY0NAotLS0gYS94ZW4veHNtL01ha2VmaWxl
CisrKyBiL3hlbi94c20vTWFrZWZpbGUKQEAgLTEsNSArMSw2IEBACiBvYmoteSArPSB4c21fY29y
ZS5vCiBvYmotJChDT05GSUdfWFNNKSArPSB4c21fcG9saWN5Lm8KIG9iai0kKENPTkZJR19YU00p
ICs9IGR1bW15Lm8KK29iai0kKENPTkZJR19YU01fU0lMTykgKz0gc2lsby5vCiAKIHN1YmRpci0k
KENPTkZJR19YU01fRkxBU0spICs9IGZsYXNrCmRpZmYgLS1naXQgYS94ZW4veHNtL3NpbG8uYyBi
L3hlbi94c20vc2lsby5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAuLjQ4
NTA3NTZhM2QKLS0tIC9kZXYvbnVsbAorKysgYi94ZW4veHNtL3NpbG8uYwpAQCAtMCwwICsxLDEw
OCBAQAorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICogeHNtL3NpbG8uYworICoKKyAqIFNJTE8g
bW9kdWxlIGZvciBYU00gKFhlbiBTZWN1cml0eSBNb2R1bGVzKQorICoKKyAqIENvcHlyaWdodCAo
YykgMjAxOCBDaXRyaXggU3lzdGVtcyBMdGQuCisgKgorICogVGhpcyBwcm9ncmFtIGlzIGZyZWUg
c29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQKKyAqIHVu
ZGVyIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExp
Y2Vuc2UsCisgKiB2ZXJzaW9uIDIsIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBG
b3VuZGF0aW9uLgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9w
ZSBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQKKyAqIEFOWSBXQVJSQU5UWTsgd2l0aG91
dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvcgorICogRklU
TkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBHZW5lcmFsIFB1Ymxp
YyBMaWNlbnNlIGZvcgorICogbW9yZSBkZXRhaWxzLgorICoKKyAqIFlvdSBzaG91bGQgaGF2ZSBy
ZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdp
dGgKKyAqIHRoaXMgcHJvZ3JhbTsgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNl
bnNlcy8+LgorICovCisjZGVmaW5lIFhTTV9OT19XUkFQUEVSUworI2luY2x1ZGUgPHhzbS9kdW1t
eS5oPgorCisvKgorICogQ2hlY2sgaWYgaW50ZXItZG9tYWluIGNvbW11bmljYXRpb24gaXMgYWxs
b3dlZC4KKyAqIFJldHVybiB0cnVlIHdoZW4gcGFzcyBjaGVjay4KKyAqLworc3RhdGljIGJvb2wg
c2lsb19tb2RlX2RvbV9jaGVjayhjb25zdCBzdHJ1Y3QgZG9tYWluICpsZG9tLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgZG9tYWluICpyZG9tKQoreworICAg
IGNvbnN0IHN0cnVjdCBkb21haW4gKmN1cnJkID0gY3VycmVudC0+ZG9tYWluOworCisgICAgcmV0
dXJuIChpc19jb250cm9sX2RvbWFpbihjdXJyZCkgfHwgaXNfY29udHJvbF9kb21haW4obGRvbSkg
fHwKKyAgICAgICAgICAgIGlzX2NvbnRyb2xfZG9tYWluKHJkb20pIHx8IGxkb20gPT0gcmRvbSk7
Cit9CisKK3N0YXRpYyBpbnQgc2lsb19ldnRjaG5fdW5ib3VuZChzdHJ1Y3QgZG9tYWluICpkMSwg
c3RydWN0IGV2dGNobiAqY2huLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWlk
X3QgaWQyKQoreworICAgIGludCByYyA9IC1FUEVSTTsKKyAgICBzdHJ1Y3QgZG9tYWluICpkMiA9
IHJjdV9sb2NrX2RvbWFpbl9ieV9hbnlfaWQoaWQyKTsKKworICAgIGlmICggZDIgPT0gTlVMTCAp
CisgICAgICAgIHJjID0gLUVTUkNIOworICAgIGVsc2UKKyAgICB7CisgICAgICAgIGlmICggc2ls
b19tb2RlX2RvbV9jaGVjayhkMSwgZDIpICkKKyAgICAgICAgICAgIHJjID0geHNtX2V2dGNobl91
bmJvdW5kKGQxLCBjaG4sIGlkMik7CisgICAgICAgIHJjdV91bmxvY2tfZG9tYWluKGQyKTsKKyAg
ICB9CisKKyAgICByZXR1cm4gcmM7Cit9CisKK3N0YXRpYyBpbnQgc2lsb19ldnRjaG5faW50ZXJk
b21haW4oc3RydWN0IGRvbWFpbiAqZDEsIHN0cnVjdCBldnRjaG4gKmNoYW4xLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZG9tYWluICpkMiwgc3RydWN0IGV2dGNo
biAqY2hhbjIpCit7CisgICAgaWYgKCBzaWxvX21vZGVfZG9tX2NoZWNrKGQxLCBkMikgKQorICAg
ICAgICByZXR1cm4geHNtX2V2dGNobl9pbnRlcmRvbWFpbihkMSwgY2hhbjEsIGQyLCBjaGFuMik7
CisgICAgcmV0dXJuIC1FUEVSTTsKK30KKworc3RhdGljIGludCBzaWxvX2dyYW50X21hcHJlZihz
dHJ1Y3QgZG9tYWluICpkMSwgc3RydWN0IGRvbWFpbiAqZDIsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVpbnQzMl90IGZsYWdzKQoreworICAgIGlmICggc2lsb19tb2RlX2RvbV9jaGVj
ayhkMSwgZDIpICkKKyAgICAgICAgcmV0dXJuIHhzbV9ncmFudF9tYXByZWYoZDEsIGQyLCBmbGFn
cyk7CisgICAgcmV0dXJuIC1FUEVSTTsKK30KKworc3RhdGljIGludCBzaWxvX2dyYW50X3RyYW5z
ZmVyKHN0cnVjdCBkb21haW4gKmQxLCBzdHJ1Y3QgZG9tYWluICpkMikKK3sKKyAgICBpZiAoIHNp
bG9fbW9kZV9kb21fY2hlY2soZDEsIGQyKSApCisgICAgICAgIHJldHVybiB4c21fZ3JhbnRfdHJh
bnNmZXIoZDEsIGQyKTsKKyAgICByZXR1cm4gLUVQRVJNOworfQorCitzdGF0aWMgaW50IHNpbG9f
Z3JhbnRfY29weShzdHJ1Y3QgZG9tYWluICpkMSwgc3RydWN0IGRvbWFpbiAqZDIpCit7CisgICAg
aWYgKCBzaWxvX21vZGVfZG9tX2NoZWNrKGQxLCBkMikgKQorICAgICAgICByZXR1cm4geHNtX2dy
YW50X2NvcHkoZDEsIGQyKTsKKyAgICByZXR1cm4gLUVQRVJNOworfQorCitzdGF0aWMgc3RydWN0
IHhzbV9vcGVyYXRpb25zIHNpbG9feHNtX29wcyA9IHsKKyAgICAuZXZ0Y2huX3VuYm91bmQgPSBz
aWxvX2V2dGNobl91bmJvdW5kLAorICAgIC5ldnRjaG5faW50ZXJkb21haW4gPSBzaWxvX2V2dGNo
bl9pbnRlcmRvbWFpbiwKKyAgICAuZ3JhbnRfbWFwcmVmID0gc2lsb19ncmFudF9tYXByZWYsCisg
ICAgLmdyYW50X3RyYW5zZmVyID0gc2lsb19ncmFudF90cmFuc2ZlciwKKyAgICAuZ3JhbnRfY29w
eSA9IHNpbG9fZ3JhbnRfY29weSwKK307CisKK3ZvaWQgX19pbml0IHNpbG9faW5pdCh2b2lkKQor
eworICAgIHByaW50aygiSW5pdGlhbGlzaW5nIFhTTSBTSUxPIG1vZGVcbiIpOworCisgICAgaWYg
KCByZWdpc3Rlcl94c20oJnNpbG9feHNtX29wcykgKQorICAgICAgICBwYW5pYygiU0lMTzogVW5h
YmxlIHRvIHJlZ2lzdGVyIHdpdGggWFNNXG4iKTsKK30KKworLyoKKyAqIExvY2FsIHZhcmlhYmxl
czoKKyAqIG1vZGU6IEMKKyAqIGMtZmlsZS1zdHlsZTogIkJTRCIKKyAqIGMtYmFzaWMtb2Zmc2V0
OiA0CisgKiB0YWItd2lkdGg6IDQKKyAqIGluZGVudC10YWJzLW1vZGU6IG5pbAorICogRW5kOgor
ICovCmRpZmYgLS1naXQgYS94ZW4veHNtL3hzbV9jb3JlLmMgYi94ZW4veHNtL3hzbV9jb3JlLmMK
aW5kZXggOWU1YzFiMDdhMi4uNjZlNTk4N2MyNyAxMDA2NDQKLS0tIGEveGVuL3hzbS94c21fY29y
ZS5jCisrKyBiL3hlbi94c20veHNtX2NvcmUuYwpAQCAtMzQsMTEgKzM0LDE0IEBAIHN0cnVjdCB4
c21fb3BlcmF0aW9ucyAqeHNtX29wczsKIGVudW0geHNtX2Jvb3RwYXJhbSB7CiAgICAgWFNNX0JP
T1RQQVJBTV9EVU1NWSwKICAgICBYU01fQk9PVFBBUkFNX0ZMQVNLLAorICAgIFhTTV9CT09UUEFS
QU1fU0lMTywKIH07CiAKIHN0YXRpYyBlbnVtIHhzbV9ib290cGFyYW0gX19pbml0ZGF0YSB4c21f
Ym9vdHBhcmFtID0KICNpZmRlZiBDT05GSUdfWFNNX0ZMQVNLX0RFRkFVTFQKICAgICBYU01fQk9P
VFBBUkFNX0ZMQVNLOworI2VsaWYgQ09ORklHX1hTTV9TSUxPX0RFRkFVTFQKKyAgICBYU01fQk9P
VFBBUkFNX1NJTE87CiAjZWxzZQogICAgIFhTTV9CT09UUEFSQU1fRFVNTVk7CiAjZW5kaWYKQEAg
LTUyLDYgKzU1LDEwIEBAIHN0YXRpYyBpbnQgX19pbml0IHBhcnNlX3hzbV9wYXJhbShjb25zdCBj
aGFyICpzKQogI2lmZGVmIENPTkZJR19YU01fRkxBU0sKICAgICBlbHNlIGlmICggIXN0cmNtcChz
LCAiZmxhc2siKSApCiAgICAgICAgIHhzbV9ib290cGFyYW0gPSBYU01fQk9PVFBBUkFNX0ZMQVNL
OworI2VuZGlmCisjaWZkZWYgQ09ORklHX1hTTV9TSUxPCisgICAgZWxzZSBpZiAoICFzdHJjbXAo
cywgInNpbG8iKSApCisgICAgICAgIHhzbV9ib290cGFyYW0gPSBYU01fQk9PVFBBUkFNX1NJTE87
CiAjZW5kaWYKICAgICBlbHNlCiAgICAgewpAQCAtOTksNiArMTA2LDEwIEBAIHN0YXRpYyBpbnQg
X19pbml0IHhzbV9jb3JlX2luaXQoY29uc3Qgdm9pZCAqcG9saWN5X2J1ZmZlciwgc2l6ZV90IHBv
bGljeV9zaXplKQogICAgICAgICBmbGFza19pbml0KHBvbGljeV9idWZmZXIsIHBvbGljeV9zaXpl
KTsKICAgICAgICAgYnJlYWs7CiAKKyAgICBjYXNlIFhTTV9CT09UUEFSQU1fU0lMTzoKKyAgICAg
ICAgc2lsb19pbml0KCk7CisgICAgICAgIGJyZWFrOworCiAgICAgZGVmYXVsdDoKICAgICAgICAg
QVNTRVJUX1VOUkVBQ0hBQkxFKCk7CiAgICAgICAgIGJyZWFrOwotLSAKMi4xOC4wCgoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxp
bmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5w
cm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==
