Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 23 Nov 2018 08:32:04 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga007.jf.intel.com (orsmga007.jf.intel.com [10.7.209.58])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 49337580460;
	Thu, 22 Nov 2018 12:36:01 -0800 (PST)
Received: from fmsmga105.fm.intel.com ([10.1.193.10])
  by orsmga007-1.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Nov 2018 12:36:00 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3ASeHmMBYKKbMOFt1wLhIWv43/LSx+4OfEezUN459i?=
 =?us-ascii?q?sYplN5qZpcm6ZB7h7PlgxGXEQZ/co6odzbaO4+a4ASQp2tWoiDg6aptCVhsI24?=
 =?us-ascii?q?09vjcLJ4q7M3D9N+PgdCcgHc5PBxdP9nC/NlVJSo6lPwWB6nK94iQPFRrhKAF7?=
 =?us-ascii?q?Ovr6GpLIj8Swyuu+54Dfbx9HiTahYr5+Ngm6oRnMvcQKnIVuLbo8xAHUqXVSYe?=
 =?us-ascii?q?RWwm1oJVOXnxni48q74YBu/SdNtf8/7sBMSar1cbg2QrxeFzQmLns65Nb3uhnZ?=
 =?us-ascii?q?TAuA/WUTX2MLmRdVGQfF7RX6XpDssivms+d2xSeXMdHqQb0yRD+v9LlgRgP2hy?=
 =?us-ascii?q?gbNj456GDXhdJ2jKJHuxKquhhzz5fJbI2JKPZye6XQds4YS2VcRMZcTyJPDIOi?=
 =?us-ascii?q?YYUSDOQOP+hYoY7yqFQSohW+HhGsCeH0xz9Un3/7x7E23v49HQzE2gErAtIAsG?=
 =?us-ascii?q?7TrNXwLKocVvq6zLTSzTXEcvhbxy3y6JLWch87pfGMXbVwetfPxEkvCQzFjk+f?=
 =?us-ascii?q?ppf4ND6S0+QCr2ib4PRgVe21kGErrBpxrSKqxsc3l4nJgI0Vx0vH9Spn2oY1I8?=
 =?us-ascii?q?O3SEphbd6jCptQuDiXOo1rSc0hW2FloDg2xqECtJKhYSQHxoorywTCZ/GEb4SE?=
 =?us-ascii?q?+BPuWeSJLTtmmH5pZaizihmw/ES61+HxV8e53ExUoiZYjtXBsG0G2QbJ5cidUP?=
 =?us-ascii?q?R9+1+s2TaR2ADX7eFJOV40laXFJJ472LIwlYQcsV7FHiDonEX6lqiWdl8r+uSw?=
 =?us-ascii?q?6uTnZKvppoOEOoNqlg3zNr4iltGxDOgmKAQCQmuW9fim2LDi/0D1WLBKgec3kq?=
 =?us-ascii?q?ndvpDaP8MbpquhDg9R04Yj7Qu/Dji/3NQbg3YHNlRFdwyDj4TwPFHPLvb4Auml?=
 =?us-ascii?q?g1m3jjdryO7JPqf7DpXOMHfDirHhcqh560JGzwoz199f64pOCr4dOPLzRlPxtN?=
 =?us-ascii?q?vAAx89Mgy0wPjoBM9y14MDQm+PBq6ZMKXPsV6H/O4vIu+MZJMLtzb5MfQq+/nu?=
 =?us-ascii?q?jXohk18HYaapxYcXaGy/Hvl+I0WWe3vsgssbHmcNpAY+TPHqh0eEUT5cfHuyW6?=
 =?us-ascii?q?M85jcmCIOpF4vDR4atgKCf0ye/BJFZemdGClWUG3fya4qEQ+sMaD6VIsJ5kDwE?=
 =?us-ascii?q?UqauR5Ui1RGpsg/6zb1nI/HQ+i0Zs5Ljydd06/fSlRE06Tx7EcCd33uRQGFzm2?=
 =?us-ascii?q?MCXyU207xnoUxh1leD1rB1jOZDFdxT4PNJUR02NYTGwOx4EN3yXgPBftGUSFep?=
 =?us-ascii?q?WNmmADcxTs4vzN8KeUpyB9KijhXb1SqwH7AVj6CLBIAz8q/E3Hj+PcB9x2zC1K?=
 =?us-ascii?q?kglVYmRMRPOHaihq5+8QjTGoHIn1+Yl6asaaQTwirN+H2fwmqJuUFSSBRwXrnd?=
 =?us-ascii?q?XXADekvWqsz06V7YQL+wF7srKAtBxtSEKqtRdNLpi1JKRPPgONTbZ2K8gGOwBR?=
 =?us-ascii?q?eOxrORY4vmYWQd3CPBCEcalwAf52qJNQ87Bi25uWLRECRuFU7zY0Pr6eRxtWm0?=
 =?us-ascii?q?TlEqwA2Qb01uzby1+gULivyaUP4T2rMEuCE8qzR7Blq93tTWC8aeqAplZqlTfd?=
 =?us-ascii?q?Q94FJf32LDqwN9JoCgL7xlhlMGbwR3vkbu1xJrCoVAkckmtm8qwBB1KaKC1FNB?=
 =?us-ascii?q?djWY3Z/rN73TK2ny+g2vaqHM1lHf1taW5rkA6PAip1r/uwGpE1Io82973NlNz3?=
 =?us-ascii?q?uc+pLKARIIXpL1TEk2+AZ1prHAbiYm+oPbyGdjMa+3sj/FxdIkH+8lyhemf9dC?=
 =?us-ascii?q?P6KIDg7yE8sGB8ewLOwmgUSmbhUBPOpK7q47I9umd+ea2K6sJOthnC+mgX5b74?=
 =?us-ascii?q?xn00OM9zBzSujH35sex/GY3w2HVyrzjVu7s8D3n5xEai8WHmal1SfkA4tRbLVo?=
 =?us-ascii?q?fYkXEWeuP9G3xtJmip73Wn5X6ESsB0kb18+uYxaSaULy3RdR1UgOvXOogy+4wC?=
 =?us-ascii?q?FqnDEzqaqf2jfDw+DjdBoBJ25KS3NujVbqIYiokd8aWFKkYBQulBug/Uz63bRU?=
 =?us-ascii?q?pLxjL2nPRkdFZyj3L2B4XqqwrLaCeNNP6JUzvCVTUeS8Z02aS7Hnrxsb1SPjA3?=
 =?us-ascii?q?VRxDQhez62vZX5mgRwiHiBI3ZrsHrZZcZwyA/d5NPGX/5R3TkGRC5ihTnMHFe8?=
 =?us-ascii?q?PNqp/dSSl5jdtOCzTGahVpxVcSn2woKMriq75Wt2ARKhm/C/gMHoEQ8/0SXjzd?=
 =?us-ascii?q?llST3IrArgYonsz6m7Mfhofk5yCF/+6sp6HJpzko8xhJEWxHgbiY+Z/XsBkWfv?=
 =?us-ascii?q?L9pb3bjyY2YKRT4O29TV+hTq2FV/LnKVwIL0TnadzdFgZ9WgYmMWxzgy78ZFCK?=
 =?us-ascii?q?qP6LxEnC11oke3rA7LYPh9mCsdxuUq6HIAn+4Jvw8txD2HAr8OBUlYITDslxOQ?=
 =?us-ascii?q?4tC7raVXZ3ygfaK+1UVghtChEK+NohtHV3nnYJciEjR97sF+MFLKzX3y5ZvoeN?=
 =?us-ascii?q?jWbdIPqBKUlw3MgPRSKJI0jvAKnzZoOXrhvX05zO42lQBu3Za/vISdKmRi5qS5?=
 =?us-ascii?q?AgNDNj3uZsMe4TXtjadYnsaL0IGjBJRhGjMXXJT2SfKkCi4dtfPiNwyWCj0ztm?=
 =?us-ascii?q?+bGabDHQ+Y8EpptGjAE5evN3GKPnUZychiSQKZJExehgAUQTo7koQ4FgCs2Mzu?=
 =?us-ascii?q?bkN56ioN6V7/rxtG0vhoOAXnUmfDuAeobS85SJqFIxpT8A5C/F3ZMdCE4uJwAi?=
 =?us-ascii?q?FY/YChrAqXJWyAfAlICWAJWkqZB1HsJLWu5N/A8/SGCeq6NffBfbKOqelGXfeS?=
 =?us-ascii?q?2Z2vypdm/yqLNsiXPnhiCOA72lNeXX9jHcTVgS4PSysRlyLCdMOboBa8+itqrs?=
 =?us-ascii?q?Gw6vjrWQTv5ZeRBLtWK9lg5xe2gaKbPe6KmCl5MSpY1o8LxXLQyLgQwl8SiyJt?=
 =?us-ascii?q?dzmsC7gAtjTNTKXfmqBJFR4bdjhzOdBM76I92AlNJMHahsn01r5+kv46FVNFWU?=
 =?us-ascii?q?b9lcGuYMwAO3u9O0/fBEaXKLSGIiXGzNvqYaynU71fkuVVuwe0uTaaCELjOjWD?=
 =?us-ascii?q?lz/0VxGgK+1MjSebPABAt4G5aBpiFW/jTNf+YB2hLNB3lSE2waEzhn7SKW4cMD?=
 =?us-ascii?q?18f1lRobGK8SxYgutwG2pa43phLOmEnTuZ7ubCJpYXt/trHjp7l+ZA7HsmzLtV?=
 =?us-ascii?q?6TlOROZplyvKst5uv1amn/GPyzV9VhpOrzdLhISTskRjOaXW7J9AWXnf8RIJ7G?=
 =?us-ascii?q?WQDQkKptR/Bt3uvaBQ1sbAlKbpJDhe9NLU+JhUO8+BM96OM3MnNgShTCXIBQgM?=
 =?us-ascii?q?Szm1HWzUg01Fi/bU+2DD/bYgrZ25vZMTULgTf1UvCPoeCkMtN9wPIJ59Fmchmr?=
 =?us-ascii?q?6WjMcCpmG3qQLMQspyvZ3dUP+WR/L1J2DK3vF/exIUzOagfswoPYrh1hknMwEi?=
 =?us-ascii?q?kQ=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0CGBQAKEvdbh0O0hNFiHAEBAR8EAQEFA?=
 =?us-ascii?q?QGBTAKDaieDeYh3iyGCDRSXJoFzLBMBhDwCAoQSIjYHDQEDAQEBAQEBAgETAQE?=
 =?us-ascii?q?BCA0JCCkjDII2JAGCYgECAgEBAiAdAQE3AQQBCQEBChoCBRMOAgIDDEgGEwWDH?=
 =?us-ascii?q?IF6CAICAadjcIEvgnYBAQWHGAiBC4p+ghaBEIMTgUEBgzyDBIJXoAQJkSQLGJE?=
 =?us-ascii?q?ImXwBggZNMEOCbIInDAuIXoVWKDKBBAEBAYxVAQE?=
X-IPAS-Result: =?us-ascii?q?A0CGBQAKEvdbh0O0hNFiHAEBAR8EAQEFAQGBTAKDaieDeYh?=
 =?us-ascii?q?3iyGCDRSXJoFzLBMBhDwCAoQSIjYHDQEDAQEBAQEBAgETAQEBCA0JCCkjDII2J?=
 =?us-ascii?q?AGCYgECAgEBAiAdAQE3AQQBCQEBChoCBRMOAgIDDEgGEwWDHIF6CAICAadjcIE?=
 =?us-ascii?q?vgnYBAQWHGAiBC4p+ghaBEIMTgUEBgzyDBIJXoAQJkSQLGJEImXwBggZNMEOCb?=
 =?us-ascii?q?IInDAuIXoVWKDKBBAEBAYxVAQE?=
X-IronPort-AV: E=Sophos;i="5.56,266,1539673200"; 
   d="scan'208";a="139248723"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 22 Nov 2018 12:35:59 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2405103AbeKWHQ5 (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 23 Nov 2018 02:16:57 -0500
Received: from casper.infradead.org ([85.118.1.10]:47932 "EHLO
        casper.infradead.org" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1730632AbeKWHQ5 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Nov 2018 02:16:57 -0500
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
        d=infradead.org; s=casper.20170209; h=Content-Transfer-Encoding:Content-Type:
        MIME-Version:References:In-Reply-To:Message-ID:Subject:Cc:To:From:Date:Sender
        :Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:
        Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:
        List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
        bh=gPXhfSh7YtHd0eTt0Kr8G0AH7JX63P7S4BhOWRASTMQ=; b=QHY9cqEghBCLztan5bmkurShFY
        zu0pvKoxPRsL+564kj8vMCvcgL3b+fRF/7Nqo97A6TsGQcemS7/brna66F9KCFzPmcmZA8h3vskYJ
        WJoFZ05RMn0LVldqqy3LZcDi7EWP+i039wwz4EZLHB9qYqZ/9/5v6J/7JU2acbCa+ArusMmnjt2yw
        XMKh4F037IUZFNWHODKulpxVMJTpaD7Ojp5E7ohNI0Jr571wCYLZJqCWxqE8D8oyvPC0NqBd8Oycl
        tdo8ZRP4aTLYQBnN13acYeQbiXTLEp5/J9lvjEA8VXqFpgCwAos5bBYIweOQhkOIVNsgWMIw1oWHO
        iBLtSeJQ==;
Received: from 201.47.163.210.dynamic.adsl.gvt.net.br ([201.47.163.210] helo=coco.lan)
        by casper.infradead.org with esmtpsa (Exim 4.90_1 #2 (Red Hat Linux))
        id 1gPvhZ-0006L0-BM; Thu, 22 Nov 2018 20:35:53 +0000
Date: Thu, 22 Nov 2018 18:35:49 -0200
From: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>
To: stakanov <stakanov@eclipso.eu>
Cc: Takashi Iwai <tiwai@suse.de>, linux-media@vger.kernel.org,
        linux-kernel@vger.kernel.org
Subject: Re: DVB-S PCI card regression on 4.19 / 4.20
Message-ID: <20181122183549.331ecbc4@coco.lan>
In-Reply-To: <12757009.r0OKxgvFl0@roadrunner.suse>
References: <4e0356d6303c128a3e6d0bcc453ba1be@mail.eclipso.de>
        <2836654.gWKGMNFOG2@roadrunner.suse>
        <20181122180611.2e7f1123@coco.lan>
        <12757009.r0OKxgvFl0@roadrunner.suse>
X-Mailer: Claws Mail 3.16.0 (GTK+ 2.24.32; x86_64-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Em Thu, 22 Nov 2018 21:19:49 +0100
stakanov <stakanov@eclipso.eu> escreveu:

> Hello Mauro.=20
>=20
> Thank you so much, for this fast reply and especially for the detailed=20
> indications. I expected to have a lack of knowledge.=20
>=20
> Well,  I am replying to the question as of below: (for convenience I did =
cut=20
> the before text, if you deem it useful for the list I can then correct th=
at in=20
> the next posts).
>=20
> In data gioved=C3=AC 22 novembre 2018 21:06:11 CET, Mauro Carvalho Chehab=
 ha=20
> scritto:
> > Are you sure that the difference is just the Kernel version? Perhaps you
> > also updated some other package. =20
>=20
> To be clear: I had the same system(!) with all three kernel 4.18.15-1, 4.=
19.1 =20
> (when the problem did arise) and 4.20.2 rc3 from Takashi's repo) installe=
d.=20

Ok, so rebooting to 4.18.15-1 solves the issue?

Also, what GPU driver are you using?

In any case, by using the old "Universal" LNBf, you're likely missing some
transponders, and missing several channels.

> In this very configuration: if one booted in 4.18 (that is in perfect par=
ity=20
> with all other packages) the card worked. 4.19.1 no. And the last kernel =
the=20
> same. So whatever might be different, forcefully it has to be in the kern=
el.=20
> (Which is not really a problem if I manage to make it work, so settings w=
ill=20
> be known to others or, if not, we will find out what is different, and al=
l=20
> will be happy. As you see I am still optimist). =20

Well, we don't want regressions in Kernel. If there's an issue there,
it should be fixed. However, I can't think on any other changes since
4.18 that would be causing troubles for b2c2 driver.

See, the only change at the driver itself is just a simple API
replacement that wouldn't cause this kind of problems:

	$ git log --oneline v4.18.. drivers/media/common/b2c2/
	c0decac19da3 media: use strscpy() instead of strlcpy()

There were a few changes at the DVB core:

	$ git log --no-merges --oneline v4.18.. drivers/media/dvb-core/
	f3efe15a2f05 media: dvb: use signal types to discover pads
	b5d3206112dd media: dvb: dmxdev: move compat_ioctl handling to dmxdev.c
	cc1e6315e83d media: replace strcpy() by strscpy()
	c0decac19da3 media: use strscpy() instead of strlcpy()
	fd89e0bb6ebf media: videobuf2-core: integrate with media requests
	db6e8d57e2cd media: vb2: store userspace data in vb2_v4l2_buffer
	6a2a1ca34ca6 media: dvb_frontend: ensure that the step is ok for both FE a=
nd tuner
	f1b1eabff0eb media: dvb: represent min/max/step/tolerance freqs in Hz
	a3f90c75b833 media: dvb: convert tuner_info frequencies to Hz
	6706fe55af6f media: dvb_ca_en50221: off by one in dvb_ca_en50221_io_do_ioc=
tl()
	4d1e4545a659 media: mark entity-intf links as IMMUTABLE

But, on a first glance, the only ones that has potential to cause issues
were the ones addressed that the patch I wrote (merged by Takashi).

If you're really receiving data from EPG (you may just have it
cached), it means that the DVB driver is doing the right thing.

Btw, to be sure that you're not just seeing the old EPG data, you
should move or remove this file:

	~/.local/share/kaffeine/epgdata.dvb

Kaffeine will generate a new one again once it tunes into a TV channel.

> I will proceed as indicated and report back here tomorrow.=20

Ok.

Thanks,
Mauro
