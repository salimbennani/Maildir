Return-Path: <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 07 Dec 2018 21:01:17 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga004.fm.intel.com (fmsmga004.fm.intel.com [10.253.24.48])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 2BC0858042F
	for <like.xu@linux.intel.com>; Fri,  7 Dec 2018 02:05:06 -0800 (PST)
Received: from orsmga102-1.jf.intel.com (HELO mga09.intel.com) ([10.7.208.27])
  by fmsmga004-1.fm.intel.com with ESMTP; 07 Dec 2018 02:05:05 -0800
IronPort-PHdr: =?us-ascii?q?9a23=3AZmlazxByE0TAuyDvQXqAUyQJP3N1i/DPJgcQr6Af?=
 =?us-ascii?q?oPdwSP36pM2wAkXT6L1XgUPTWs2DsrQY07qQ6/iocFdDyK7JiGoFfp1IWk1Nou?=
 =?us-ascii?q?QttCtkPvS4D1bmJuXhdS0wEZcKflZk+3amLRodQ56mNBXdrXKo8DEdBAj0OxZr?=
 =?us-ascii?q?KeTpAI7SiNm82/yv95HJbAhEmDmwbaluIBmqsA7cqtQYjYx+J6gr1xDHuGFIe+?=
 =?us-ascii?q?NYxWNpIVKcgRPx7dqu8ZBg7ipdpesv+9ZPXqvmcas4S6dYDCk9PGAu+MLrrxjD?=
 =?us-ascii?q?QhCR6XYaT24bjwBHAwnB7BH9Q5fxri73vfdz1SWGIcH7S60/VC+85Kl3VhDnlC?=
 =?us-ascii?q?YHNyY48G7JjMxwkLlbqw+lqxBm3oLYfJ2ZOP94c6jAf90VWHBBU95RWSJfHoOy?=
 =?us-ascii?q?YYgBD+QDMuZZs4bzqFQBowamBQSuBu3ixSJEi3Hq0aIkyOQsCh3G0xc6Et4SrH?=
 =?us-ascii?q?jYsNf4OaEPWu611qnIyjDDYutZ1jf58ofHbxEhofSNXbJqbMHf1FcgFwbbgVWW?=
 =?us-ascii?q?tYzlJDSV1voUv2aC4OpgVPygi3A8qwFyoziuxtonh47XhoIO1F/E8Dt2wIApJd?=
 =?us-ascii?q?2jT057f8WpEIVRtyGAK4t2X8QiQmBpuSY90LEJpZm7fC0TxZkh2hXRaOSHfpCW?=
 =?us-ascii?q?7h7/V+udOyp0iG9mdb6lmRq//0itxvfhWsS2yFpGsylIn9nWunwT2RHf99KLRu?=
 =?us-ascii?q?Vy80u9wzqC1xjf6u9aLk03iabWLpsszaUsmpUIsEnOGyH7l1/sg6KWc0gr4Oyl?=
 =?us-ascii?q?5uTob7jjuJCQK5N7hwD4P68zgMKwG/44PRILX2WD+eSzyrnj/UrhTbVOj/02ib?=
 =?us-ascii?q?XZsIvAKcQUoK65HhVZ0oE56xawFzum0dIYkmcbLF9dZh6Lk4vkN0vTLPzlDvqz?=
 =?us-ascii?q?mUqgnTlryvzcI7HsAI3BLn3Zn7fgebZ95VRcyA02zd1H/pJbFLQBIO/qVkDsqt?=
 =?us-ascii?q?PYEAE2Mwitz+n8D9V9y4UeVn6RDa+CN6/StV6I5uExLOWWa44VpS7wK/wk5/7o?=
 =?us-ascii?q?kH84lkURfaiv3ZsLdn+4Gu5qLFmeYXrpmdoBF2AKvgwxTOzslV2OSzlTZ2y9X6?=
 =?us-ascii?q?4k/DE0FJqmDZvfRoCqmLGB2Ca7Hp5IaWxcBVGMDGzld4GFW/cKdSKTLdVtkj0C?=
 =?us-ascii?q?Vbi9VYAh0QuiuxP9y7pifaLp/DYFv8fjyMRt/L+U0hUz7iBvScKa1W6LUidzhG?=
 =?us-ascii?q?xPQjY32KV2pwt60kuC1q5jxOVVEMEW6/5XXwNpCJjH0uYvDtnzXh7GLM6ETUvj?=
 =?us-ascii?q?Tti4DDV0VN8o3tIVf257HNOtiA2F2DClVKQInb6GD4Bh76THwnLqLNx8wXuV6K?=
 =?us-ascii?q?50okMnSYNlMWSli+Yr+gLXDo3Eu1+Um6ajaeIX2yubsC/J1GeLoQRUXRB9VY3D?=
 =?us-ascii?q?WnYQYFaQqs72rAuWVrKrFPErPxVMzeaELa1FbMCvik9JEqTNItPbNly1kmuxAB?=
 =?us-ascii?q?eSjoiBaYfsZ34awmD6B0kJjRsQ/GfOYRYlCyKspX7FCyJGC1P1f17r4/t57ni8?=
 =?us-ascii?q?SxlnnEmxc0R92u/tqVYujvuGRqZWh+pctQ=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AvAAClRApcmBHrdtBiHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUwUBAQsBgTBQgVwEMgqDcINHA4UuimeCKgglklWEeoF2EAEYFIRAGYMAIjY?=
 =?us-ascii?q?HDQEDAQEBAQEBAgETAQEBAQEICwsGGw4jDII2BQIDGgEGglwBAgMBAiAEDQwBA?=
 =?us-ascii?q?QQKJQQBAgMBAgYBAQEBCA4KAgIiBAICAgEBLhQBEAIEARIFgxyCAgECAQGaGgK?=
 =?us-ascii?q?KB3B8M4J2AQEFgkOEZwiBC4sUF4FAP4ERJwyBYX6EWhEWgwSCV4kmCIFjFoQUg?=
 =?us-ascii?q?UyPXQmKP4cFCBaBXIg8hx4sgQ6CPoUXj2QCBAIEBQINAQEFgUwBggZNI1CCbII?=
 =?us-ascii?q?bDBeDSopTcoEHIYdRAgUfBylYAYEeAQE?=
X-IPAS-Result: =?us-ascii?q?A0AvAAClRApcmBHrdtBiHAEBAQQBAQcEAQGBUwUBAQsBgTB?=
 =?us-ascii?q?QgVwEMgqDcINHA4UuimeCKgglklWEeoF2EAEYFIRAGYMAIjYHDQEDAQEBAQEBA?=
 =?us-ascii?q?gETAQEBAQEICwsGGw4jDII2BQIDGgEGglwBAgMBAiAEDQwBAQQKJQQBAgMBAgY?=
 =?us-ascii?q?BAQEBCA4KAgIiBAICAgEBLhQBEAIEARIFgxyCAgECAQGaGgKKB3B8M4J2AQEFg?=
 =?us-ascii?q?kOEZwiBC4sUF4FAP4ERJwyBYX6EWhEWgwSCV4kmCIFjFoQUgUyPXQmKP4cFCBa?=
 =?us-ascii?q?BXIg8hx4sgQ6CPoUXj2QCBAIEBQINAQEFgUwBggZNI1CCbIIbDBeDSopTcoEHI?=
 =?us-ascii?q?YdRAgUfBylYAYEeAQE?=
X-IronPort-AV: E=Sophos;i="5.56,326,1539673200"; 
   d="scan'208";a="56508191"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from lists.gnu.org ([208.118.235.17])
  by mtab.intel.com with ESMTP/TLS/AES256-SHA; 07 Dec 2018 02:05:04 -0800
Received: from localhost ([::1]:45138 helo=lists.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>)
	id 1gVD0G-00084g-4R
	for like.xu@linux.intel.com; Fri, 07 Dec 2018 05:05:02 -0500
Received: from eggs.gnu.org ([2001:4830:134:3::10]:49651)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <vsementsov@virtuozzo.com>) id 1gVD01-0007zd-21
	for qemu-devel@nongnu.org; Fri, 07 Dec 2018 05:04:46 -0500
Received: from Debian-exim by eggs.gnu.org with spam-scanned (Exim 4.71)
	(envelope-from <vsementsov@virtuozzo.com>) id 1gVCzz-0002XQ-B5
	for qemu-devel@nongnu.org; Fri, 07 Dec 2018 05:04:44 -0500
Received: from mail-eopbgr60104.outbound.protection.outlook.com
	([40.107.6.104]:55635
	helo=EUR04-DB3-obe.outbound.protection.outlook.com)
	by eggs.gnu.org with esmtps (TLS1.0:RSA_AES_256_CBC_SHA1:32)
	(Exim 4.71) (envelope-from <vsementsov@virtuozzo.com>)
	id 1gVCzt-0002Ud-Gr; Fri, 07 Dec 2018 05:04:38 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=virtuozzo.com;
	s=selector1;
	h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
	bh=soloaCZ3Hx8ot7aII4YXwqoOnMbZdlMbRH1TxKb4Nn0=;
	b=ZTRIwLyUdvPoTesKvAI7sdU/yVEWyIhHnGygJ9P/v6/ABUhy5eNBCz211liaNLN0gZAes2bV25BESzOT3A89hNzldkbI9jOfFZk7FlOBCzd+imB8NUlIrJUCqGHyQg2ZGCagM4d24YgGYEtpPC9YD2tti7t+mv9F6+WlC6rcv+k=
Received: from DB7PR08MB3851.eurprd08.prod.outlook.com (20.178.46.222) by
	DB7PR08MB3179.eurprd08.prod.outlook.com (52.134.110.153) with Microsoft
	SMTP
	Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
	15.20.1404.19; Fri, 7 Dec 2018 10:04:34 +0000
Received: from DB7PR08MB3851.eurprd08.prod.outlook.com
	([fe80::b0b6:3aa5:a954:e0c6]) by
	DB7PR08MB3851.eurprd08.prod.outlook.com
	([fe80::b0b6:3aa5:a954:e0c6%2]) with mapi id 15.20.1404.021;
	Fri, 7 Dec 2018 10:04:34 +0000
From: Vladimir Sementsov-Ogievskiy <vsementsov@virtuozzo.com>
To: Eric Blake <eblake@redhat.com>, "qemu-devel@nongnu.org"
	<qemu-devel@nongnu.org>
Thread-Topic: [PATCH 11/14] nbd/client: Add nbd_receive_export_list()
Thread-Index: AQHUiPidhc54sdjTMU6eX0MU6nXTCqVzFo2A
Date: Fri, 7 Dec 2018 10:04:34 +0000
Message-ID: <66333381-b387-9396-03ed-0aae3b4225fb@virtuozzo.com>
References: <20181130220344.3350618-1-eblake@redhat.com>
	<20181130220344.3350618-12-eblake@redhat.com>
In-Reply-To: <20181130220344.3350618-12-eblake@redhat.com>
Accept-Language: ru-RU, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HE1PR0101CA0004.eurprd01.prod.exchangelabs.com
	(2603:10a6:3:77::14) To DB7PR08MB3851.eurprd08.prod.outlook.com
	(2603:10a6:10:7b::30)
authentication-results: spf=none (sender IP is )
	smtp.mailfrom=vsementsov@virtuozzo.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [185.231.240.5]
x-ms-publictraffictype: Email
x-microsoft-exchange-diagnostics: 1; DB7PR08MB3179;
	20:qbVzumVMPmSNh0jSMhllyDEF1C8CeBNyF4craDigJefpdnDEtbNdE+N5vp04pOwbce0p0ECe4XruxzfCq9LTNLDHo9Ai0s3TujT6laOispvU3af0+60FckEzz8S0RjeQEpTZUeefkNzMTN3k9Ux1354NfiUB5NAMW1Sw3gCv76s=
x-ms-office365-filtering-correlation-id: e64e56d8-8549-4124-4f6f-08d65c2b633b
x-microsoft-antispam: BCL:0; PCL:0;
	RULEID:(2390098)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600074)(711020)(2017052603328)(7153060)(7193020);
	SRVR:DB7PR08MB3179; 
x-ms-traffictypediagnostic: DB7PR08MB3179:
x-microsoft-antispam-prvs: <DB7PR08MB31796B0854DA8A29048878E4C1AA0@DB7PR08MB3179.eurprd08.prod.outlook.com>
x-ms-exchange-senderadcheck: 1
x-exchange-antispam-report-cfa-test: BCL:0; PCL:0;
	RULEID:(6040522)(2401047)(5005006)(8121501046)(10201501046)(3002001)(3231455)(999002)(944501520)(52105112)(93006095)(93001095)(148016)(149066)(150057)(6041310)(20161123558120)(20161123562045)(201703131423095)(201702281528075)(20161123555045)(201703061421075)(201703061406153)(20161123560045)(20161123564045)(201708071742011)(7699051)(76991095);
	SRVR:DB7PR08MB3179; BCL:0; PCL:0; RULEID:; SRVR:DB7PR08MB3179; 
x-forefront-prvs: 0879599414
x-forefront-antispam-report: SFV:NSPM;
	SFS:(10019020)(346002)(376002)(366004)(136003)(39850400004)(396003)(189003)(199004)(6506007)(106356001)(26005)(186003)(81166006)(99286004)(25786009)(105586002)(8676002)(2906002)(52116002)(76176011)(256004)(14444005)(31696002)(6512007)(54906003)(81156014)(386003)(8936002)(102836004)(229853002)(7736002)(53936002)(71200400001)(71190400001)(110136005)(68736007)(305945005)(4744004)(31686004)(478600001)(5660300001)(6246003)(486006)(86362001)(4326008)(2501003)(6116002)(3846002)(476003)(36756003)(11346002)(2616005)(6436002)(446003)(14454004)(6486002)(66066001)(97736004)(316002);
	DIR:OUT; SFP:1102; SCL:1; SRVR:DB7PR08MB3179;
	H:DB7PR08MB3851.eurprd08.prod.outlook.com; FPR:; SPF:None;
	LANG:en; PTR:InfoNoRecords; MX:1; A:1; 
x-microsoft-antispam-message-info: i9mTriCSeKK1mMSrarPG7ikvtoPmy1iIIHS5LgYzodxFIh4OsyKswMfyBwtoHbM3XfDO2Lgs/ePQ2tzaVwi8SSletTtrUNnu5ZH6hT7PfhXtp7RYhGOJQ6T0s8Kmh+XKVpqsIqCyoFaWinMMNtGGiTD7wqxsPfFZ+NDvUqSTvMhvPCio/yvDVsPpsbI+EgcBnmJZbzz7Pj3wvyzPuezs+Xu3pCmESXhHM2kQFhza1OZJw1O831hmqcPxM7RJEd7A01g3e2IqzVW2yrty1Usbu54oPjoZQSCX43kvxAwcAv5C8l7C80StLaVaXCbvCdmw3N6Iyru3vU2wZD44RN0HALgei78+AQ9kcVaTNpbLxPw=
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-ID: <FAC99985FB215843B8038602FEE3C642@eurprd08.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: virtuozzo.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e64e56d8-8549-4124-4f6f-08d65c2b633b
X-MS-Exchange-CrossTenant-originalarrivaltime: 07 Dec 2018 10:04:34.1590 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 0bc7f26d-0264-416e-a6fc-8352af79c58f
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB7PR08MB3179
X-detected-operating-system: by eggs.gnu.org: Windows 7 or 8 [fuzzy]
X-Received-From: 40.107.6.104
Subject: Re: [Qemu-devel] [PATCH 11/14] nbd/client: Add
 nbd_receive_export_list()
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <http://lists.nongnu.org/archive/html/qemu-devel/>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: Kevin Wolf <kwolf@redhat.com>,
	"qemu-block@nongnu.org" <qemu-block@nongnu.org>,
	"rjones@redhat.com" <rjones@redhat.com>, Max Reitz <mreitz@redhat.com>,
	"nsoffer@redhat.com" <nsoffer@redhat.com>,
	"jsnow@redhat.com" <jsnow@redhat.com>
Errors-To: qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>

MDEuMTIuMjAxOCAxOjAzLCBFcmljIEJsYWtlIHdyb3RlOg0KPiBXZSB3YW50IHRvIGJlIGFibGUg
dG8gZGV0ZWN0IHdoZXRoZXIgYSBnaXZlbiBxZW11IE5CRCBzZXJ2ZXIgaXMNCj4gZXhwb3Npbmcg
dGhlIHJpZ2h0IGV4cG9ydChzKSBhbmQgZGlydHkgYml0bWFwcywgYXQgbGVhc3QgZm9yDQo+IHJl
Z3Jlc3Npb24gdGVzdGluZy4gIFdlIGNvdWxkIHVzZSAnbmJkLWNsaWVudCAtbCcgZnJvbSB0aGUg
dXBzdHJlYW0NCj4gTkJEIHByb2plY3QgdG8gbGlzdCBleHBvcnRzLCBidXQgaXQncyBhbm5veWlu
ZyB0byByZWx5IG9uDQo+IG91dC1vZi10cmVlIGJpbmFyaWVzOyBmdXJ0aGVybW9yZSwgbmJkLWNs
aWVudCBkb2Vzbid0IG5lY2Vzc2FyaWx5DQo+IGtub3cgYWJvdXQgYWxsIG9mIHRoZSBxZW11IE5C
RCBleHRlbnNpb25zLiAgVGh1cywgd2UgcGxhbiBvbiBhZGRpbmcNCj4gYSBuZXcgbW9kZSB0byBx
ZW11LW5iZCB0aGF0IG1lcmVseSBzbmlmZnMgYWxsIHBvc3NpYmxlIGluZm9ybWF0aW9uDQo+IGZy
b20gdGhlIHNlcnZlciBkdXJpbmcgaGFuZHNoYWtlIHBoYXNlLCB0aGVuIGRpc2Nvbm5lY3RzIGFu
ZCBkdW1wcw0KPiB0aGUgaW5mb3JtYXRpb24uDQo+IA0KPiBUaGlzIHBhdGNoIGFkZHMgdGhlIGxv
dy1sZXZlbCBjbGllbnQgY29kZSBmb3IgZ3JhYmJpbmcgdGhlIGxpc3QNCj4gb2YgZXhwb3J0cy4g
IEl0IGJlbmVmaXRzIGZyb20gdGhlIHJlY2VudCByZWZhY3RvcmluZyBwYXRjaGVzLCBhcw0KPiB3
ZWxsIGFzIGEgbWlub3IgdHdlYWsgb2YgY2hhbmdpbmcgbmJkX29wdF9nbygpIHRvIG5iZF9vcHRf
aW5mb19nbygpLA0KPiBpbiBvcmRlciB0byBzaGFyZSBhcyBtdWNoIGNvZGUgYXMgcG9zc2libGUg
d2hlbiBpdCBjb21lcyB0byBkb2luZw0KPiB2YWxpZGF0aW9uIG9mIHNlcnZlciByZXBsaWVzLiAg
VGhlIHJlc3VsdGluZyBpbmZvcm1hdGlvbiBpcyBzdG9yZWQNCj4gaW4gYW4gYXJyYXkgb2YgTkJE
RXhwb3J0SW5mbyB3aGljaCBoYXMgYmVlbiBleHBhbmRlZCB0byBob2xkIG1vcmUNCj4gbWVtYmVy
cywgYWxvbmcgd2l0aCBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBmcmVlaW5nIHRoZSBsaXN0
Lg0KPiANCj4gU2lnbmVkLW9mZi1ieTogRXJpYyBCbGFrZSA8ZWJsYWtlQHJlZGhhdC5jb20+DQo+
IC0tLQ0KPiAgIGluY2x1ZGUvYmxvY2svbmJkLmggfCAgMTUgKysrLQ0KPiAgIG5iZC9jbGllbnQu
YyAgICAgICAgfCAxNjYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
LS0NCj4gICBuYmQvdHJhY2UtZXZlbnRzICAgIHwgICAyICstDQo+ICAgMyBmaWxlcyBjaGFuZ2Vk
LCAxNzQgaW5zZXJ0aW9ucygrKSwgOSBkZWxldGlvbnMoLSkNCj4gDQo+IGRpZmYgLS1naXQgYS9p
bmNsdWRlL2Jsb2NrL25iZC5oIGIvaW5jbHVkZS9ibG9jay9uYmQuaA0KPiBpbmRleCA2NWZlZmY4
YmE5Ni4uNzRkMDA2YjhkNjIgMTAwNjQ0DQo+IC0tLSBhL2luY2x1ZGUvYmxvY2svbmJkLmgNCj4g
KysrIGIvaW5jbHVkZS9ibG9jay9uYmQuaA0KPiBAQCAtMjYyLDYgKzI2Miw5IEBAIHN0cnVjdCBO
QkRFeHBvcnRJbmZvIHsNCj4gICAgICAgLyogU2V0IGJ5IGNsaWVudCBiZWZvcmUgbmJkX3JlY2Vp
dmVfbmVnb3RpYXRlKCkgKi8NCj4gICAgICAgYm9vbCByZXF1ZXN0X3NpemVzOw0KPiAgICAgICBj
aGFyICp4X2RpcnR5X2JpdG1hcDsNCj4gKw0KPiArICAgIC8qIFNldCBieSBjbGllbnQgYmVmb3Jl
IG5iZF9yZWNlaXZlX25lZ290aWF0ZSgpLCBvciBieSBzZXJ2ZXIgcmVzdWx0cw0KPiArICAgICAq
IGR1cmluZyBuYmRfcmVjZWl2ZV9leHBvcnRfbGlzdCgpICovDQo+ICAgICAgIGNoYXIgKm5hbWU7
IC8qIG11c3QgYmUgbm9uLU5VTEwgKi8NCj4gDQo+ICAgICAgIC8qIEluLW91dCBmaWVsZHMsIHNl
dCBieSBjbGllbnQgYmVmb3JlIG5iZF9yZWNlaXZlX25lZ290aWF0ZSgpIGFuZA0KPiBAQCAtMjY5
LDcgKzI3Miw4IEBAIHN0cnVjdCBOQkRFeHBvcnRJbmZvIHsNCj4gICAgICAgYm9vbCBzdHJ1Y3R1
cmVkX3JlcGx5Ow0KPiAgICAgICBib29sIGJhc2VfYWxsb2NhdGlvbjsgLyogYmFzZTphbGxvY2F0
aW9uIGNvbnRleHQgZm9yIE5CRF9DTURfQkxPQ0tfU1RBVFVTICovDQo+IA0KPiAtICAgIC8qIFNl
dCBieSBzZXJ2ZXIgcmVzdWx0cyBkdXJpbmcgbmJkX3JlY2VpdmVfbmVnb3RpYXRlKCkgKi8NCj4g
KyAgICAvKiBTZXQgYnkgc2VydmVyIHJlc3VsdHMgZHVyaW5nIG5iZF9yZWNlaXZlX25lZ290aWF0
ZSgpIGFuZA0KPiArICAgICAqIG5iZF9yZWNlaXZlX2V4cG9ydF9saXN0KCkgKi8NCj4gICAgICAg
dWludDY0X3Qgc2l6ZTsNCj4gICAgICAgdWludDE2X3QgZmxhZ3M7DQo+ICAgICAgIHVpbnQzMl90
IG1pbl9ibG9jazsNCj4gQEAgLTI3NywxMiArMjgxLDIxIEBAIHN0cnVjdCBOQkRFeHBvcnRJbmZv
IHsNCj4gICAgICAgdWludDMyX3QgbWF4X2Jsb2NrOw0KPiANCj4gICAgICAgdWludDMyX3QgbWV0
YV9iYXNlX2FsbG9jYXRpb25faWQ7DQo+ICsNCj4gKyAgICAvKiBTZXQgYnkgc2VydmVyIHJlc3Vs
dHMgZHVyaW5nIG5iZF9yZWNlaXZlX2V4cG9ydF9saXN0KCkgKi8NCj4gKyAgICBjaGFyICpkZXNj
cmlwdGlvbjsNCj4gKyAgICBpbnQgbl9jb250ZXh0czsNCj4gKyAgICBjaGFyICoqY29udGV4dHM7
DQo+ICAgfTsNCj4gICB0eXBlZGVmIHN0cnVjdCBOQkRFeHBvcnRJbmZvIE5CREV4cG9ydEluZm87
DQo+IA0KPiAgIGludCBuYmRfcmVjZWl2ZV9uZWdvdGlhdGUoUUlPQ2hhbm5lbCAqaW9jLCBRQ3J5
cHRvVExTQ3JlZHMgKnRsc2NyZWRzLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29u
c3QgY2hhciAqaG9zdG5hbWUsIFFJT0NoYW5uZWwgKipvdXRpb2MsDQo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBOQkRFeHBvcnRJbmZvICppbmZvLCBFcnJvciAqKmVycnApOw0KPiArdm9p
ZCBuYmRfZnJlZV9leHBvcnRfbGlzdChOQkRFeHBvcnRJbmZvICppbmZvLCBpbnQgY291bnQpOw0K
PiAraW50IG5iZF9yZWNlaXZlX2V4cG9ydF9saXN0KFFJT0NoYW5uZWwgKmlvYywgUUNyeXB0b1RM
U0NyZWRzICp0bHNjcmVkcywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBj
aGFyICpob3N0bmFtZSwgTkJERXhwb3J0SW5mbyAqKmluZm8sDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgRXJyb3IgKiplcnJwKTsNCj4gICBpbnQgbmJkX2luaXQoaW50IGZkLCBRSU9D
aGFubmVsU29ja2V0ICpzaW9jLCBOQkRFeHBvcnRJbmZvICppbmZvLA0KPiAgICAgICAgICAgICAg
ICBFcnJvciAqKmVycnApOw0KPiAgIGludCBuYmRfc2VuZF9yZXF1ZXN0KFFJT0NoYW5uZWwgKmlv
YywgTkJEUmVxdWVzdCAqcmVxdWVzdCk7DQo+IGRpZmYgLS1naXQgYS9uYmQvY2xpZW50LmMgYi9u
YmQvY2xpZW50LmMNCj4gaW5kZXggYTI4MjcxMjcyNGQuLjYyOTJkZTU2MGVlIDEwMDY0NA0KPiAt
LS0gYS9uYmQvY2xpZW50LmMNCj4gKysrIGIvbmJkL2NsaWVudC5jDQo+IEBAIC0zNTEsNyArMzUx
LDggQEAgc3RhdGljIGludCBuYmRfcmVjZWl2ZV9saXN0KFFJT0NoYW5uZWwgKmlvYywgY29uc3Qg
Y2hhciAqd2FudCwgYm9vbCAqbWF0Y2gsDQo+ICAgICogdXNlZCwgMCBpZiBOQkRfT1BUX0dPIGlz
IHVuc3VwcG9ydGVkIChmYWxsIGJhY2sgdG8gTkJEX09QVF9MSVNUIGFuZA0KPiAgICAqIE5CRF9P
UFRfRVhQT1JUX05BTUUgaW4gdGhhdCBjYXNlKSwgYW5kID4gMCBpZiB0aGUgZXhwb3J0IGlzIGdv
b2QgdG8NCj4gICAgKiBnbyAod2l0aCB0aGUgcmVzdCBvZiBAaW5mbyBwb3B1bGF0ZWQpLiAqLw0K
PiAtc3RhdGljIGludCBuYmRfb3B0X2dvKFFJT0NoYW5uZWwgKmlvYywgTkJERXhwb3J0SW5mbyAq
aW5mbywgRXJyb3IgKiplcnJwKQ0KPiArc3RhdGljIGludCBuYmRfb3B0X2luZm9fZ28oUUlPQ2hh
bm5lbCAqaW9jLCB1aW50MzJfdCBvcHQsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBO
QkRFeHBvcnRJbmZvICppbmZvLCBFcnJvciAqKmVycnApDQo+ICAgew0KPiAgICAgICBOQkRPcHRp
b25SZXBseSByZXBseTsNCj4gICAgICAgdWludDMyX3QgbGVuID0gc3RybGVuKGluZm8tPm5hbWUp
Ow0KPiBAQCAtMzY0LDcgKzM2NSw4IEBAIHN0YXRpYyBpbnQgbmJkX29wdF9nbyhRSU9DaGFubmVs
ICppb2MsIE5CREV4cG9ydEluZm8gKmluZm8sIEVycm9yICoqZXJycCkNCj4gICAgICAgICogZmxh
Z3Mgc3RpbGwgMCBpcyBhIHdpdG5lc3Mgb2YgYSBicm9rZW4gc2VydmVyLiAqLw0KPiAgICAgICBp
bmZvLT5mbGFncyA9IDA7DQo+IA0KPiAtICAgIHRyYWNlX25iZF9vcHRfZ29fc3RhcnQoaW5mby0+
bmFtZSk7DQo+ICsgICAgYXNzZXJ0KG9wdCA9PSBOQkRfT1BUX0dPIHx8IG9wdCA9PSBOQkRfT1BU
X0lORk8pOw0KPiArICAgIHRyYWNlX25iZF9vcHRfZ29fc3RhcnQobmJkX29wdF9sb29rdXAob3B0
KSwgaW5mby0+bmFtZSk7DQo+ICAgICAgIGJ1ZiA9IGdfbWFsbG9jKDQgKyBsZW4gKyAyICsgMiAq
IGluZm8tPnJlcXVlc3Rfc2l6ZXMgKyAxKTsNCj4gICAgICAgc3RsX2JlX3AoYnVmLCBsZW4pOw0K
PiAgICAgICBtZW1jcHkoYnVmICsgNCwgaW5mby0+bmFtZSwgbGVuKTsNCj4gQEAgLTM3Myw3ICsz
NzUsNyBAQCBzdGF0aWMgaW50IG5iZF9vcHRfZ28oUUlPQ2hhbm5lbCAqaW9jLCBOQkRFeHBvcnRJ
bmZvICppbmZvLCBFcnJvciAqKmVycnApDQo+ICAgICAgIGlmIChpbmZvLT5yZXF1ZXN0X3NpemVz
KSB7DQo+ICAgICAgICAgICBzdHdfYmVfcChidWYgKyA0ICsgbGVuICsgMiwgTkJEX0lORk9fQkxP
Q0tfU0laRSk7DQo+ICAgICAgIH0NCj4gLSAgICBlcnJvciA9IG5iZF9zZW5kX29wdGlvbl9yZXF1
ZXN0KGlvYywgTkJEX09QVF9HTywNCj4gKyAgICBlcnJvciA9IG5iZF9zZW5kX29wdGlvbl9yZXF1
ZXN0KGlvYywgb3B0LA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQg
KyBsZW4gKyAyICsgMiAqIGluZm8tPnJlcXVlc3Rfc2l6ZXMsDQo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYnVmLCBlcnJwKTsNCj4gICAgICAgZ19mcmVlKGJ1Zik7DQo+
IEBAIC0zODIsNyArMzg0LDcgQEAgc3RhdGljIGludCBuYmRfb3B0X2dvKFFJT0NoYW5uZWwgKmlv
YywgTkJERXhwb3J0SW5mbyAqaW5mbywgRXJyb3IgKiplcnJwKQ0KPiAgICAgICB9DQo+IA0KPiAg
ICAgICB3aGlsZSAoMSkgew0KPiAtICAgICAgICBpZiAobmJkX3JlY2VpdmVfb3B0aW9uX3JlcGx5
KGlvYywgTkJEX09QVF9HTywgJnJlcGx5LCBlcnJwKSA8IDApIHsNCj4gKyAgICAgICAgaWYgKG5i
ZF9yZWNlaXZlX29wdGlvbl9yZXBseShpb2MsIG9wdCwgJnJlcGx5LCBlcnJwKSA8IDApIHsNCj4g
ICAgICAgICAgICAgICByZXR1cm4gLTE7DQo+ICAgICAgICAgICB9DQo+ICAgICAgICAgICBlcnJv
ciA9IG5iZF9oYW5kbGVfcmVwbHlfZXJyKGlvYywgJnJlcGx5LCBlcnJwKTsNCj4gQEAgLTczMyw4
ICs3MzUsMTIgQEAgc3RhdGljIGludCBuYmRfbmVnb3RpYXRlX3NpbXBsZV9tZXRhX2NvbnRleHQo
UUlPQ2hhbm5lbCAqaW9jLA0KPiAgICAgICAgICAgICAgICAgICBuYmRfc2VuZF9vcHRfYWJvcnQo
aW9jKTsNCj4gICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOw0KPiAgICAgICAgICAgICAgIH0N
Cj4gKyAgICAgICAgICAgIGdfZnJlZShuYW1lKTsNCj4gKyAgICAgICAgfSBlbHNlIHsNCj4gKyAg
ICAgICAgICAgIGluZm8tPmNvbnRleHRzID0gZ19yZW5ldyhjaGFyICosIGluZm8tPmNvbnRleHRz
LA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsraW5mby0+bl9jb250
ZXh0cyk7DQo+ICsgICAgICAgICAgICBpbmZvLT5jb250ZXh0c1tpbmZvLT5uX2NvbnRleHRzIC0g
MV0gPSBuYW1lOw0KPiAgICAgICAgICAgfQ0KPiAtICAgICAgICBnX2ZyZWUobmFtZSk7DQo+ICAg
ICAgICAgICByZWNlaXZlZCA9IHRydWU7DQo+IA0KPiAgICAgICAgICAgLyogcmVjZWl2ZSBOQkRf
UkVQX0FDSyAqLw0KPiBAQCAtODI4LDcgKzgzNCw5IEBAIHN0YXRpYyBpbnQgbmJkX3N0YXJ0X25l
Z290aWF0ZShRSU9DaGFubmVsICppb2MsIFFDcnlwdG9UTFNDcmVkcyAqdGxzY3JlZHMsDQo+ICAg
ICAgICAgICAgICAgY2xpZW50ZmxhZ3MgfD0gTkJEX0ZMQUdfQ19GSVhFRF9ORVdTVFlMRTsNCj4g
ICAgICAgICAgIH0NCj4gICAgICAgICAgIGlmIChnbG9iYWxmbGFncyAmIE5CRF9GTEFHX05PX1pF
Uk9FUykgew0KPiAtICAgICAgICAgICAgKnplcm9lcyA9IGZhbHNlOw0KPiArICAgICAgICAgICAg
aWYgKHplcm9lcykgew0KPiArICAgICAgICAgICAgICAgICp6ZXJvZXMgPSBmYWxzZTsNCj4gKyAg
ICAgICAgICAgIH0NCj4gICAgICAgICAgICAgICBjbGllbnRmbGFncyB8PSBOQkRfRkxBR19DX05P
X1pFUk9FUzsNCj4gICAgICAgICAgIH0NCj4gICAgICAgICAgIC8qIGNsaWVudCByZXF1ZXN0ZWQg
ZmxhZ3MgKi8NCj4gQEAgLTkyMSw3ICs5MjksNyBAQCBpbnQgbmJkX3JlY2VpdmVfbmVnb3RpYXRl
KFFJT0NoYW5uZWwgKmlvYywgUUNyeXB0b1RMU0NyZWRzICp0bHNjcmVkcywNCj4gICAgICAgICAg
ICAqIFRMUykuICBJZiBpdCBpcyBub3QgYXZhaWxhYmxlLCBmYWxsIGJhY2sgdG8NCj4gICAgICAg
ICAgICAqIE5CRF9PUFRfTElTVCBmb3IgbmljZXIgZXJyb3IgbWVzc2FnZXMgYWJvdXQgYSBtaXNz
aW5nDQo+ICAgICAgICAgICAgKiBleHBvcnQsIHRoZW4gdXNlIE5CRF9PUFRfRVhQT1JUX05BTUUu
ICAqLw0KPiAtICAgICAgICByZXN1bHQgPSBuYmRfb3B0X2dvKGlvYywgaW5mbywgZXJycCk7DQo+
ICsgICAgICAgIHJlc3VsdCA9IG5iZF9vcHRfaW5mb19nbyhpb2MsIE5CRF9PUFRfR08sIGluZm8s
IGVycnApOw0KPiAgICAgICAgICAgaWYgKHJlc3VsdCA8IDApIHsNCj4gICAgICAgICAgICAgICBy
ZXR1cm4gLUVJTlZBTDsNCj4gICAgICAgICAgIH0NCj4gQEAgLTk5Myw2ICsxMDAxLDE1MCBAQCBp
bnQgbmJkX3JlY2VpdmVfbmVnb3RpYXRlKFFJT0NoYW5uZWwgKmlvYywgUUNyeXB0b1RMU0NyZWRz
ICp0bHNjcmVkcywNCj4gICAgICAgcmV0dXJuIDA7DQo+ICAgfQ0KPiANCj4gKy8qIENsZWFuIHVw
IHJlc3VsdCBvZiBuYmRfcmVjZWl2ZV9leHBvcnRfbGlzdCAqLw0KPiArdm9pZCBuYmRfZnJlZV9l
eHBvcnRfbGlzdChOQkRFeHBvcnRJbmZvICppbmZvLCBpbnQgY291bnQpDQo+ICt7DQo+ICsgICAg
aW50IGksIGo7DQo+ICsNCj4gKyAgICBmb3IgKGkgPSAwOyBpbmZvICYmIGkgPCBjb3VudDsgaSsr
KSB7DQo+ICsgICAgICAgIGZyZWUoaW5mb1tpXS5uYW1lKTsNCj4gKyAgICAgICAgZnJlZShpbmZv
W2ldLmRlc2NyaXB0aW9uKTsNCj4gKyAgICAgICAgZm9yIChqID0gMDsgaiA8IGluZm9baV0ubl9j
b250ZXh0czsgaisrKSB7DQo+ICsgICAgICAgICAgICBmcmVlKGluZm9baV0uY29udGV4dHNbal0p
Ow0KPiArICAgICAgICB9DQo+ICsgICAgICAgIGZyZWUoaW5mb1tpXS5jb250ZXh0cyk7DQo+ICsg
ICAgfQ0KPiArICAgIGZyZWUoaW5mbyk7DQo+ICt9DQoNCmdfZnJlZQ0KDQo+ICsNCj4gKy8qIFF1
ZXJ5IGRldGFpbHMgYWJvdXQgYSBzZXJ2ZXIncyBleHBvcnRzLCB0aGVuIGRpc2Nvbm5lY3Qgd2l0
aG91dA0KPiArICogZ29pbmcgaW50byB0cmFuc21pc3Npb24gcGhhc2UuIFJldHVybiBhIGNvdW50
IG9mIHRoZSBleHBvcnRzIGxpc3RlZA0KPiArICogaW4gQGluZm8gYnkgdGhlIHNlcnZlciwgb3Ig
LTEgb24gZXJyb3IuIENhbGxlciBtdXN0IGZyZWUgQGluZm8uICovDQo+ICtpbnQgbmJkX3JlY2Vp
dmVfZXhwb3J0X2xpc3QoUUlPQ2hhbm5lbCAqaW9jLCBRQ3J5cHRvVExTQ3JlZHMgKnRsc2NyZWRz
LA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmhvc3RuYW1lLCBO
QkRFeHBvcnRJbmZvICoqaW5mbywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJv
ciAqKmVycnApDQo+ICt7DQo+ICsgICAgaW50IHJlc3VsdDsNCj4gKyAgICBpbnQgY291bnQgPSAw
Ow0KPiArICAgIGludCBpOw0KPiArICAgIGludCByYzsNCj4gKyAgICBpbnQgcmV0ID0gLTE7DQo+
ICsgICAgTkJERXhwb3J0SW5mbyAqYXJyYXkgPSBOVUxMOw0KPiArICAgIHVpbnQzMl90IG9sZGZs
YWdzOw0KPiArICAgIFFJT0NoYW5uZWwgKnNpb2MgPSBOVUxMOw0KDQppdCdzIGEgYml0IGNvbmZ1
c2luZyB0aGF0IHlvdSB1c2Ugc2lvYyBuYW1lIGZvciB0aGUgc2Vjb25kIHByb2R1Y2VkIGlvYywg
d2hlbg0KaW4gbmJkX2NsaWVudF9pbml0IGl0J3MgdmlzYS12ZXJzYS4NCg0KU28sIEkgYXNzdW1l
IHRoYXQgeW91IG1lYW4gU2VjdXJlIGlvYywgd2hlbiBpbiBuYmRfY2xpZW50X2luaXQgaXQgaXMg
U29ja2V0IGlvYy4NCg0KPiArICAgIGJvb2wgdHJ5X2NvbnRleHQgPSB0cnVlOw0KPiArDQo+ICsg
ICAgKmluZm8gPSBOVUxMOw0KPiArICAgIHJlc3VsdCA9IG5iZF9zdGFydF9uZWdvdGlhdGUoaW9j
LCB0bHNjcmVkcywgaG9zdG5hbWUsICZzaW9jLCB0cnVlLCBOVUxMLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZXJycCk7DQo+ICsgICAgaWYgKHRsc2NyZWRzICYmIHNpb2Mp
IHsNCj4gKyAgICAgICAgaW9jID0gc2lvYzsNCj4gKyAgICB9DQo+ICsNCj4gKyAgICBzd2l0Y2gg
KHJlc3VsdCkgew0KPiArICAgIGNhc2UgMjoNCj4gKyAgICAgICAgLyogbWV0YSBjb250ZXh0cyBh
cmUgb25seSB1c2VmdWwgd2l0aCBzdHJ1Y3R1cmVkIHJlcGx5ICovDQo+ICsgICAgICAgIHRyeV9j
b250ZXh0ID0gZmFsc2U7DQo+ICsgICAgICAgIC8qIGZhbGwgdGhyb3VnaCAqLw0KPiArICAgIGNh
c2UgMzoNCj4gKyAgICAgICAgLyogbmV3c3R5bGUgLSB1c2UgTkJEX09QVF9MSVNUIHRvIHBvcHVs
YXRlIGFycmF5LCB0aGVuIHRyeQ0KPiArICAgICAgICAgKiBOQkRfT1BUX0lORk8gb24gZWFjaCBh
cnJheSBtZW1iZXIuIElmIHN0cnVjdHVyZWQgcmVwbGllcw0KPiArICAgICAgICAgKiBhcmUgZW5h
YmxlZCwgYWxzbyB0cnkgTkJEX09QVF9MSVNUX01FVEFfQ09OVEVYVC4gKi8NCj4gKyAgICAgICAg
aWYgKG5iZF9zZW5kX29wdGlvbl9yZXF1ZXN0KGlvYywgTkJEX09QVF9MSVNULCAwLCBOVUxMLCBl
cnJwKSA8IDApIHsNCj4gKyAgICAgICAgICAgIGdvdG8gb3V0Ow0KPiArICAgICAgICB9DQo+ICsg
ICAgICAgIHdoaWxlICgxKSB7DQo+ICsgICAgICAgICAgICBjaGFyICpuYW1lOw0KPiArICAgICAg
ICAgICAgY2hhciAqZGVzYzsNCj4gKw0KPiArICAgICAgICAgICAgcmMgPSBuYmRfcmVjZWl2ZV9s
aXN0KGlvYywgTlVMTCwgTlVMTCwgJm5hbWUsICZkZXNjLCBlcnJwKTsNCj4gKyAgICAgICAgICAg
IGlmIChyYyA8IDApIHsNCj4gKyAgICAgICAgICAgICAgICBnb3RvIG91dDsNCj4gKyAgICAgICAg
ICAgIH0gZWxzZSBpZiAocmMgPT0gMCkgew0KPiArICAgICAgICAgICAgICAgIGJyZWFrOw0KPiAr
ICAgICAgICAgICAgfQ0KPiArICAgICAgICAgICAgYXJyYXkgPSBnX3JlbmV3KE5CREV4cG9ydElu
Zm8sIGFycmF5LCArK2NvdW50KTsNCj4gKyAgICAgICAgICAgIG1lbXNldCgmYXJyYXlbY291bnQg
LSAxXSwgMCwgc2l6ZW9mKCphcnJheSkpOw0KPiArICAgICAgICAgICAgYXJyYXlbY291bnQgLSAx
XS5uYW1lID0gbmFtZTsNCj4gKyAgICAgICAgICAgIGFycmF5W2NvdW50IC0gMV0uZGVzY3JpcHRp
b24gPSBkZXNjOw0KPiArICAgICAgICAgICAgYXJyYXlbY291bnQgLSAxXS5zdHJ1Y3R1cmVkX3Jl
cGx5ID0gcmVzdWx0ID09IDM7DQo+ICsgICAgICAgIH0NCj4gKw0KPiArICAgICAgICBmb3IgKGkg
PSAwOyBpIDwgY291bnQ7IGkrKykgew0KPiArICAgICAgICAgICAgYXJyYXlbaV0ucmVxdWVzdF9z
aXplcyA9IHRydWU7DQo+ICsgICAgICAgICAgICByYyA9IG5iZF9vcHRfaW5mb19nbyhpb2MsIE5C
RF9PUFRfSU5GTywgJmFycmF5W2ldLCBlcnJwKTsNCj4gKyAgICAgICAgICAgIGlmIChyYyA8IDAp
IHsNCj4gKyAgICAgICAgICAgICAgICBnb3RvIG91dDsNCj4gKyAgICAgICAgICAgIH0gZWxzZSBp
ZiAocmMgPT0gMCkgew0KPiArICAgICAgICAgICAgICAgIC8qIFBvaW50bGVzcyB0byB0cnkgcmVz
dCBvZiBsb29wLiBJZiBPUFRfSU5GTyBkb2Vzbid0IHdvcmssDQo+ICsgICAgICAgICAgICAgICAg
ICogaXQncyB1bmxpa2VseSB0aGF0IG1ldGEgY29udGV4dHMgd29yayBlaXRoZXIgKi8NCj4gKyAg
ICAgICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICAgICAgIH0NCj4gKw0KPiArICAgICAgICAg
ICAgaWYgKHRyeV9jb250ZXh0KSB7DQo+ICsgICAgICAgICAgICAgICAgcmMgPSBuYmRfbmVnb3Rp
YXRlX3NpbXBsZV9tZXRhX2NvbnRleHQoDQo+ICsgICAgICAgICAgICAgICAgICAgIGlvYywgTkJE
X09QVF9MSVNUX01FVEFfQ09OVEVYVCwgTlVMTCwgJmFycmF5W2ldLCBlcnJwKTsNCj4gKyAgICAg
ICAgICAgICAgICBpZiAocmMgPCAwKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0
Ow0KPiArICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmMgPT0gMCkgew0KPiArICAgICAgICAg
ICAgICAgICAgICB0cnlfY29udGV4dCA9IGZhbHNlOw0KPiArICAgICAgICAgICAgICAgIH0NCj4g
KyAgICAgICAgICAgIH0NCj4gKyAgICAgICAgfQ0KPiArDQo+ICsgICAgICAgIC8qIFNlbmQgTkJE
X09QVF9BQk9SVCBhcyBhIGNvdXJ0ZXN5IGJlZm9yZSBoYW5naW5nIHVwICovDQo+ICsgICAgICAg
IG5iZF9zZW5kX29wdF9hYm9ydChpb2MpOw0KPiArICAgICAgICBicmVhazsNCj4gKyAgICBjYXNl
IDE6IC8qIG5ld3N0eWxlLCBidXQgbGltaXRlZCB0byBFWFBPUlRfTkFNRSAqLw0KPiArICAgICAg
ICBlcnJvcl9zZXRnKGVycnAsICJTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBleHBvcnQgbGlzdHMi
KTsNCj4gKyAgICAgICAgLyogV2UgY2FuJ3QgZXZlbiBzZW5kIE5CRF9PUFRfQUJPUlQsIHNvIG1l
cmVseSBoYW5nIHVwICovDQo+ICsgICAgICAgIGdvdG8gb3V0Ow0KPiArICAgIGNhc2UgMDogLyog
b2xkc3R5bGUsIHBhcnNlIGxlbmd0aCBhbmQgZmxhZ3MgKi8NCj4gKyAgICAgICAgYXJyYXkgPSBn
X25ldzAoTkJERXhwb3J0SW5mbywgMSk7DQo+ICsgICAgICAgIGFycmF5LT5uYW1lID0gZ19zdHJk
dXAoIiIpOw0KPiArICAgICAgICBjb3VudCA9IDE7DQo+ICsNCj4gKyAgICAgICAgaWYgKG5iZF9y
ZWFkKGlvYywgJmFycmF5LT5zaXplLCBzaXplb2YoYXJyYXktPnNpemUpLCBlcnJwKSA8IDApIHsN
Cj4gKyAgICAgICAgICAgIGVycm9yX3ByZXBlbmQoZXJycCwgIkZhaWxlZCB0byByZWFkIGV4cG9y
dCBsZW5ndGg6ICIpOw0KPiArICAgICAgICAgICAgZ290byBvdXQ7DQo+ICsgICAgICAgIH0NCj4g
KyAgICAgICAgYXJyYXktPnNpemUgPSBiZTY0X3RvX2NwdShhcnJheS0+c2l6ZSk7DQo+ICsNCj4g
KyAgICAgICAgaWYgKG5iZF9yZWFkKGlvYywgJm9sZGZsYWdzLCBzaXplb2Yob2xkZmxhZ3MpLCBl
cnJwKSA8IDApIHsNCj4gKyAgICAgICAgICAgIGVycm9yX3ByZXBlbmQoZXJycCwgIkZhaWxlZCB0
byByZWFkIGV4cG9ydCBmbGFnczogIik7DQo+ICsgICAgICAgICAgICBnb3RvIG91dDsNCj4gKyAg
ICAgICAgfQ0KPiArICAgICAgICBvbGRmbGFncyA9IGJlMzJfdG9fY3B1KG9sZGZsYWdzKTsNCj4g
KyAgICAgICAgaWYgKG9sZGZsYWdzICYgfjB4ZmZmZikgew0KPiArICAgICAgICAgICAgZXJyb3Jf
c2V0ZyhlcnJwLCAiVW5leHBlY3RlZCBleHBvcnQgZmxhZ3MgJTB4IiBQUkl4MzIsIG9sZGZsYWdz
KTsNCj4gKyAgICAgICAgICAgIGdvdG8gb3V0Ow0KPiArICAgICAgICB9DQo+ICsgICAgICAgIGFy
cmF5LT5mbGFncyA9IG9sZGZsYWdzOw0KDQoNCl5eXg0KdGhpcyBpcyBhIGNvbW1vbiBwYXJ0IG9m
IG5iZF9yZWNlaXZlX2V4cG9ydF9saXN0IGFuZCBuYmRfcmVjZWl2ZV9uZWdvdGlhdGUsDQpjYW4g
d2UgbW92ZSBpdCB0byBuYmRfc3RhcnRfbmVnb3RpYXRlPw0KDQo+ICsNCj4gKyAgICAgICAgLyog
U2VuZCBOQkRfQ01EX0RJU0MgYXMgYSBjb3VydGVzeSB0byB0aGUgc2VydmVyLCBidXQgaWdub3Jl
IGFsbA0KPiArICAgICAgICAgKiBlcnJvcnMgbm93IHRoYXQgd2UgaGF2ZSB0aGUgaW5mb3JtYXRp
b24gd2Ugd2FudGVkLiAqLw0KPiArICAgICAgICBpZiAobmJkX2Ryb3AoaW9jLCAxMjQsIE5VTEwp
ID09IDApIHsNCj4gKyAgICAgICAgICAgIE5CRFJlcXVlc3QgcmVxdWVzdCA9IHsgLnR5cGUgPSBO
QkRfQ01EX0RJU0MgfTsNCj4gKw0KPiArICAgICAgICAgICAgbmJkX3NlbmRfcmVxdWVzdChpb2Ms
ICZyZXF1ZXN0KTsNCj4gKyAgICAgICAgfQ0KPiArICAgICAgICBicmVhazsNCj4gKyAgICBkZWZh
dWx0Og0KPiArICAgICAgICBnb3RvIG91dDsNCj4gKyAgICB9DQo+ICsNCj4gKyAgICAqaW5mbyA9
IGFycmF5Ow0KPiArICAgIGFycmF5ID0gTlVMTDsNCj4gKyAgICByZXQgPSBjb3VudDsNCg0KdHJp
Y2t5IHRoaW5nLiBzaG91bGRuJ3Qgd2Ugc2V0IGNvdW50IHRvIDAgdG9vIGFmdGVyIGl0Pw0KYWhh
LCBubywgZ28gdG8gbmJkX2ZyZWVfZXhwb3J0X2xpc3QgYW5kIHNlZQ0KaW5mbyAmJiBpIDwgY291
bnQNCnNvLCBpdCBjaGVja3MuDQoNCj4gKw0KPiArIG91dDoNCj4gKyAgICBxaW9fY2hhbm5lbF9z
aHV0ZG93bihpb2MsIFFJT19DSEFOTkVMX1NIVVRET1dOX0JPVEgsIE5VTEwpOw0KPiArICAgIHFp
b19jaGFubmVsX2Nsb3NlKGlvYywgTlVMTCk7DQoNCmludGVyZXN0aW5nLCB3aHkgd2UgZG9uJ3Qg
Y2xvc2UgaXQgKG9ubHkgc2h1dGRvd24pIGluIG90aGVyIG5iZCBjb2RlLi4NCg0KPiArICAgIG9i
amVjdF91bnJlZihPQkpFQ1Qoc2lvYykpOw0KPiArICAgIG5iZF9mcmVlX2V4cG9ydF9saXN0KGFy
cmF5LCBjb3VudCk7ID4gKyAgICByZXR1cm4gcmV0Ow0KPiArfQ0KPiArDQo+ICAgI2lmZGVmIF9f
bGludXhfXw0KPiAgIGludCBuYmRfaW5pdChpbnQgZmQsIFFJT0NoYW5uZWxTb2NrZXQgKnNpb2Ms
IE5CREV4cG9ydEluZm8gKmluZm8sDQo+ICAgICAgICAgICAgICAgIEVycm9yICoqZXJycCkNCj4g
ZGlmZiAtLWdpdCBhL25iZC90cmFjZS1ldmVudHMgYi9uYmQvdHJhY2UtZXZlbnRzDQo+IGluZGV4
IDU3MGIwNDk5N2ZmLi4yY2Y4M2ViZWQxNSAxMDA2NDQNCj4gLS0tIGEvbmJkL3RyYWNlLWV2ZW50
cw0KPiArKysgYi9uYmQvdHJhY2UtZXZlbnRzDQo+IEBAIC0yLDcgKzIsNyBAQA0KPiAgIG5iZF9z
ZW5kX29wdGlvbl9yZXF1ZXN0KHVpbnQzMl90IG9wdCwgY29uc3QgY2hhciAqbmFtZSwgdWludDMy
X3QgbGVuKSAiU2VuZGluZyBvcHRpb24gcmVxdWVzdCAlIiBQUkl1MzIiICglcyksIGxlbiAlIiBQ
Ukl1MzINCj4gICBuYmRfcmVjZWl2ZV9vcHRpb25fcmVwbHkodWludDMyX3Qgb3B0aW9uLCBjb25z
dCBjaGFyICpvcHRuYW1lLCB1aW50MzJfdCB0eXBlLCBjb25zdCBjaGFyICp0eXBlbmFtZSwgdWlu
dDMyX3QgbGVuZ3RoKSAiUmVjZWl2ZWQgb3B0aW9uIHJlcGx5ICUiIFBSSXUzMiIgKCVzKSwgdHlw
ZSAlIiBQUkl1MzIiICglcyksIGxlbiAlIiBQUkl1MzINCj4gICBuYmRfcmVwbHlfZXJyX3Vuc3Vw
KHVpbnQzMl90IG9wdGlvbiwgY29uc3QgY2hhciAqbmFtZSkgInNlcnZlciBkb2Vzbid0IHVuZGVy
c3RhbmQgcmVxdWVzdCAlIiBQUkl1MzIgIiAoJXMpLCBhdHRlbXB0aW5nIGZhbGxiYWNrIg0KPiAt
bmJkX29wdF9nb19zdGFydChjb25zdCBjaGFyICpuYW1lKSAiQXR0ZW1wdGluZyBOQkRfT1BUX0dP
IGZvciBleHBvcnQgJyVzJyINCj4gK25iZF9vcHRfZ29fc3RhcnQoY29uc3QgY2hhciAqb3B0LCBj
b25zdCBjaGFyICpuYW1lKSAiQXR0ZW1wdGluZyAlcyBmb3IgZXhwb3J0ICclcyciDQo+ICAgbmJk
X29wdF9nb19zdWNjZXNzKHZvaWQpICJFeHBvcnQgaXMgZ29vZCB0byBnbyINCj4gICBuYmRfb3B0
X2dvX2luZm9fdW5rbm93bihpbnQgaW5mbywgY29uc3QgY2hhciAqbmFtZSkgIklnbm9yaW5nIHVu
a25vd24gaW5mbyAlZCAoJXMpIg0KPiAgIG5iZF9vcHRfZ29faW5mb19ibG9ja19zaXplKHVpbnQz
Ml90IG1pbmltdW0sIHVpbnQzMl90IHByZWZlcnJlZCwgdWludDMyX3QgbWF4aW11bSkgIkJsb2Nr
IHNpemVzIGFyZSAweCUiIFBSSXgzMiAiLCAweCUiIFBSSXgzMiAiLCAweCUiIFBSSXgzMg0KPiAN
Cg0KDQotLSANCkJlc3QgcmVnYXJkcywNClZsYWRpbWlyDQo=

