Return-Path: <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 25 Nov 2018 14:41:38 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga001.jf.intel.com (orsmga001.jf.intel.com [10.7.209.18])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 8BCBD5803EB
	for <like.xu@linux.intel.com>; Sat, 24 Nov 2018 00:24:15 -0800 (PST)
Received: from orsmga106.jf.intel.com ([10.7.208.65])
  by orsmga001-1.jf.intel.com with ESMTP; 24 Nov 2018 00:24:15 -0800
IronPort-PHdr: =?us-ascii?q?9a23=3ApK5PDR1gT5IFUj++smDT+DRfVm0co7zxezQtwd8Z?=
 =?us-ascii?q?seMSKvad9pjvdHbS+e9qxAeQG9mDu7Qc06L/iOPJYSQ4+5GPsXQPItRndiQuro?=
 =?us-ascii?q?EopTEmG9OPEkbhLfTnPGQQFcVGU0J5rTngaRAGUMnxaEfPrXKs8DUcBgvwNRZv?=
 =?us-ascii?q?JuTyB4Xek9m72/q99pHPYAhEniaxba9vJxiqsAvdsdUbj5F/Iagr0BvJpXVIe+?=
 =?us-ascii?q?VSxWx2IF+Yggjx6MSt8pN96ipco/0u+dJOXqX8ZKQ4UKdXDC86PGAv5c3krgfM?=
 =?us-ascii?q?QA2S7XYBSGoWkx5IAw/Y7BHmW5r6ryX3uvZh1CScIMb7S60/Vza/4KdxUBLmiD?=
 =?us-ascii?q?kJOTA6/m/QiMNwgr9VoAqjqhJ9zIPYfY+YOOZgcaPGZt4WWXZNU9xNWyFbHo+w?=
 =?us-ascii?q?c40CBPcBM+ZCqIn9okMDowGgCgmqC+Pk1z1GiWXx3aYn1OkhCR/J3AovH94UsH?=
 =?us-ascii?q?TbttL1OLkJXOG00KnH0y/PYO9R2Tf48oTHbhYhrOiKULltcsTR0VEiGx3ZgliT?=
 =?us-ascii?q?s4DpIi6Z2+cXv2SF4edtVfijh3Mlpg1pozWiyN0ghpfUio8X0FzJ9jl1zJw3KN?=
 =?us-ascii?q?GkTkNwfMSqH4FKty6AMot7WsMiTH9suCY90rAGvZ+7fDMWyJQ83RLfZPqHc5WS?=
 =?us-ascii?q?7hLkTuaRLi90hHNjeL2hmxa/6VasxvH/W8WuzVpGsylInsPSun0D1xHf8NWLR/?=
 =?us-ascii?q?ll8kekwzmP1gTT6u9eIUAzkKrWM4chzaA1lpoOqEjMAzH5mFvog6+Sb0kr4e+o?=
 =?us-ascii?q?6/nhYrr6uJCcLIh4igX/MqQthMOzG+s5MhUWUmif+OS80qDj/ELjTLVLiP02jr?=
 =?us-ascii?q?fWsJTAKcsHoa65BhRY0oAk6xa5ADem1skYkWMALFJfdxKLl5LpNE3WIPDkEfe/?=
 =?us-ascii?q?hEyhkDNqx/DFILLtGJrMLmXYnbflfLZ97VNcyQUpwdBe4ZJUFq8OIPbpVkDts9?=
 =?us-ascii?q?zYC0xxDgqv3uyyCMlhzphMHiWLA7SFK+XUtlmH4P9pJPODI4ocuTL4Iv5i4Oby?=
 =?us-ascii?q?jHg/ghgEcKy0mJcadn28TclgOFiTNH/lg9MdFjUTsw8jCeDnllCGFCRefmu/RL?=
 =?us-ascii?q?4U4DY9B4S7S4DZSde2nbaD0SynS4BQfX1MEVuWEH3lJLmDDu8BdC+IZMpogzAJ?=
 =?us-ascii?q?UbyJT44n3Aup8gjgxP4vIvDW/SsVrrr52dR17vGVnhY3sXRsD8WZ1m2lVWx4nm?=
 =?us-ascii?q?oUATQx2fNRu0t4n2+O16cwo/VfXYhL6vVGFAczMsT03fB3Tdv1X0TKeIHaGx6d?=
 =?us-ascii?q?Xty6DGRpHZoKyNgUbhMlFg=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AqAAAGCvlbhxHrdtBjHgEGBwYmgSsJC?=
 =?us-ascii?q?wGBMCqCOIxwpGuBbhkYFIFLhzE0CQ0BAwEBAQEBAQIBEwEBAQoLCQgbDi+CNgU?=
 =?us-ascii?q?CAxgJglwDAwECQwopAwMBAgYBAUgIAwFTBxIFglFLggIBBKgMhUCEXIdehCuCF?=
 =?us-ascii?q?oERjUkiAoEqAYd4hmyPHlUGAQKCIIQdinQWgVmPL4ltjkOBRoINMxqCEYFOkGc?=
 =?us-ascii?q?0MYEHiieBdwEB?=
X-IPAS-Result: =?us-ascii?q?A0AqAAAGCvlbhxHrdtBjHgEGBwYmgSsJCwGBMCqCOIxwpGu?=
 =?us-ascii?q?BbhkYFIFLhzE0CQ0BAwEBAQEBAQIBEwEBAQoLCQgbDi+CNgUCAxgJglwDAwECQ?=
 =?us-ascii?q?wopAwMBAgYBAUgIAwFTBxIFglFLggIBBKgMhUCEXIdehCuCFoERjUkiAoEqAYd?=
 =?us-ascii?q?4hmyPHlUGAQKCIIQdinQWgVmPL4ltjkOBRoINMxqCEYFOkGc0MYEHiieBdwEB?=
X-IronPort-AV: E=Sophos;i="5.56,273,1539673200"; 
   d="scan'208";a="41363776"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from lists.gnu.org ([208.118.235.17])
  by mtab.intel.com with ESMTP/TLS/AES256-SHA; 24 Nov 2018 00:24:14 -0800
Received: from localhost ([::1]:55650 helo=lists.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>)
	id 1gQTEc-0002gW-3q
	for like.xu@linux.intel.com; Sat, 24 Nov 2018 03:24:14 -0500
Received: from eggs.gnu.org ([2001:4830:134:3::10]:48086)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <peng.hao2@zte.com.cn>) id 1gQTAt-00007J-Qf
	for qemu-devel@nongnu.org; Sat, 24 Nov 2018 03:20:26 -0500
Received: from Debian-exim by eggs.gnu.org with spam-scanned (Exim 4.71)
	(envelope-from <peng.hao2@zte.com.cn>) id 1gQT44-0005ia-4H
	for qemu-devel@nongnu.org; Sat, 24 Nov 2018 03:13:20 -0500
Received: from mxhk.zte.com.cn ([63.217.80.70]:27278)
	by eggs.gnu.org with esmtps (TLS1.0:DHE_RSA_AES_256_CBC_SHA1:32)
	(Exim 4.71) (envelope-from <peng.hao2@zte.com.cn>)
	id 1gQT41-0005Lm-Fu; Sat, 24 Nov 2018 03:13:17 -0500
Received: from mse01.zte.com.cn (unknown [10.30.3.20])
	by Forcepoint Email with ESMTPS id DF1BBB2BC04D625E8CB1;
	Sat, 24 Nov 2018 16:13:11 +0800 (CST)
Received: from notes_smtp.zte.com.cn ([10.30.1.239])
	by mse01.zte.com.cn with ESMTP id wAO8D7P0023579;
	Sat, 24 Nov 2018 16:13:07 +0800 (GMT-8)
	(envelope-from peng.hao2@zte.com.cn)
Received: from localhost.localdomain.localdomain ([10.74.120.59])
	by szsmtp06.zte.com.cn (Lotus Domino Release 8.5.3FP6)
	with ESMTP id 2018112416135360-12697223 ;
	Sat, 24 Nov 2018 16:13:53 +0800 
From: Peng Hao <peng.hao2@zte.com.cn>
To: peter.maydell@linaro.org, drjones@redhat.com, philmd@redhat.com
Date: Sun, 25 Nov 2018 00:34:33 +0800
Message-Id: <1543077273-16201-10-git-send-email-peng.hao2@zte.com.cn>
X-Mailer: git-send-email 1.8.3.1
In-Reply-To: <1543077273-16201-1-git-send-email-peng.hao2@zte.com.cn>
References: <1543077273-16201-1-git-send-email-peng.hao2@zte.com.cn>
X-MIMETrack: Itemize by SMTP Server on SZSMTP06/server/zte_ltd(Release
	8.5.3FP6|November 21, 2013) at 2018-11-24 16:13:53,
	Serialize by Router on notes_smtp/zte_ltd(Release 9.0.1FP7|August  17,
	2016) at 2018-11-24 16:12:47,
	Serialize complete at 2018-11-24 16:12:47
X-MAIL: mse01.zte.com.cn wAO8D7P0023579
X-detected-operating-system: by eggs.gnu.org: GNU/Linux 2.2.x-3.x [generic]
	[fuzzy]
X-Received-From: 63.217.80.70
Subject: [Qemu-devel] [PATCH 10/10]  pvpanic : update pvpanic document
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <http://lists.nongnu.org/archive/html/qemu-devel/>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: Peng Hao <peng.hao2@zte.com.cn>, qemu-arm@nongnu.org, qemu-devel@nongnu.org
Errors-To: qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>

Add mmio support info in docs/specs/pvpanic.txt.

Signed-off-by: Peng Hao <peng.hao2@zte.com.cn>
---
 docs/specs/pvpanic.txt | 18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

diff --git a/docs/specs/pvpanic.txt b/docs/specs/pvpanic.txt
index c7bbacc..2d06ee5 100644
--- a/docs/specs/pvpanic.txt
+++ b/docs/specs/pvpanic.txt
@@ -1,14 +1,18 @@
 PVPANIC DEVICE
 ==============
 
-pvpanic device is a simulated ISA device, through which a guest panic
-event is sent to qemu, and a QMP event is generated. This allows
+pvpanic device is a simulated ISA/SysBus device, through which a guest
+panic event is sent to qemu, and a QMP event is generated. This allows
 management apps (e.g. libvirt) to be notified and respond to the event.
 
-The management app has the option of waiting for GUEST_PANICKED events,
+The ma:wqnagement app has the option of waiting for GUEST_PANICKED events,
 and/or polling for guest-panicked RunState, to learn when the pvpanic
 device has fired a panic event.
 
+When pvpanic device is implemented as a ISA device, it supports IOPORT
+mode. Since QEMU v3.2 pvpanic also supports MMIO mode, it will be 
+implemented as a SYSBUS device.
+
 ISA Interface
 -------------
 
@@ -19,6 +23,14 @@ Software should set only bits both itself and the device recognize.
 Currently, only bit 0 is recognized, setting it indicates a guest panic
 has happened.
 
+SYSBUS Interface
+----------------
+
+The SYSBUS interface is similar to the ISA interface except that it uses
+MMIO. For example, the arm virt machine could put the pvpanic device at
+[0x9070000, 0x9070001] and currently only the first byte is used.
+
+
 ACPI Interface
 --------------
 
-- 
1.8.3.1


