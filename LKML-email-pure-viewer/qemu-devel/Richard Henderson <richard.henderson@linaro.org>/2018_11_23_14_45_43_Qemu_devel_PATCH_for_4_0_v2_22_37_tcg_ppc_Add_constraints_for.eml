Return-Path: <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 23 Nov 2018 23:36:19 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga004.fm.intel.com (fmsmga004.fm.intel.com [10.253.24.48])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 8D1B65803EB
	for <like.xu@linux.intel.com>; Fri, 23 Nov 2018 06:53:53 -0800 (PST)
Received: from orsmga102-1.jf.intel.com (HELO mga09.intel.com) ([10.7.208.27])
  by fmsmga004-1.fm.intel.com with ESMTP; 23 Nov 2018 06:53:53 -0800
IronPort-PHdr: =?us-ascii?q?9a23=3AK2+tFh36WM0IZ6KZsmDT+DRfVm0co7zxezQtwd8Z?=
 =?us-ascii?q?seMTK/ad9pjvdHbS+e9qxAeQG9mDu7Qc06L/iOPJYSQ4+5GPsXQPItRndiQuro?=
 =?us-ascii?q?EopTEmG9OPEkbhLfTnPGQQFcVGU0J5rTngaRAGUMnxaEfPrXKs8DUcBgvwNRZv?=
 =?us-ascii?q?JuTyB4Xek9m72/q99pHPYAhEniaxba9vJxiqsAvdsdUbj5F/Iagr0BvJpXVIe+?=
 =?us-ascii?q?VSxWx2IF+Yggjx6MSt8pN96ipco/0u+dJOXqX8ZKQ4UKdXDC86PGAv5c3krgfM?=
 =?us-ascii?q?QA2S7XYBSGoWkx5IAw/Y7BHmW5r6ryX3uvZh1CScIMb7S60/Vza/4KdxUBLmiD?=
 =?us-ascii?q?kJOTA6/m/QiMNwgr9VoAqjqhJ9zIPYfY+YOOZgcaPGZt4WWXZNU9xNWyFbHo+w?=
 =?us-ascii?q?c40CBPcBM+ZCqIn9okMDowe/BQawBOPg0CVIiWLr1qM4zeshFxzJ0xI6H9IVt3?=
 =?us-ascii?q?TUqsj+OaAIUeC00KbIzS/Mb+lL1jvn6IjHbBYhruySUrJqasrRzk8vGhjBjlWR?=
 =?us-ascii?q?r4zqJSmV1uMXv2ic9epgWvuihmg6oA9yujii3tkghpXKi44P11zI6CZ0zJwrKd?=
 =?us-ascii?q?C2SEN3e8OoHZlIuy2HM4Z7QtkuTmNqtSog1LELtp+2cDIKxZg7wRPUduaJfJKS?=
 =?us-ascii?q?4h35UeacOTd4i2xheLK4nxuy9UmgyvbgVsmvylpKoSxFksTWunAKzRzT5dCLSv?=
 =?us-ascii?q?p7/ki/xTaCzx7f5v1HLEwuiKbXNp0szqQumpcdsUnPBDL6lUfugK+TbEok++yo?=
 =?us-ascii?q?6+r9YrXho5+RL5Z0hR/7MqQzg8CwHPo3MhYQUGif4Oizz7rj/VD/QLpWkPI2ia?=
 =?us-ascii?q?7VsJTbJcQYuKG1GQBU0ps75ha7Djem1skYnHYdIFJEfhKHk5bmO1XULP/kCve/?=
 =?us-ascii?q?hk+hkDFsx/DAMb3hBIjNImLEkLf7crZx81RcxxYrzdBD+5JUDakMIPbyWk/yqt?=
 =?us-ascii?q?PUFBA4MxGvzubjCdV90J4eWG2VDq+YNqPSrUGH5uY1L+aQY48VvWW1Fv4++vS7?=
 =?us-ascii?q?jWMlgURPOu6t3IALcza+GfJpJVjfZmDjxdIIEGMPtwx5S/T2iVqESnlKanOvGq?=
 =?us-ascii?q?4x+Dw/W7+gFprJE4Wkgbid23WiE5hLI2xLFF2IVG3lbpiJQOskbiWULcl81Dse?=
 =?us-ascii?q?Wu+6VoUj2Bqy4RL80KdtNeHO+ycV5q7kgcF44vCWmRws+DhcCcOb3GeQCWZukT?=
 =?us-ascii?q?AmXTgziZp+qkx00FvL8aV+j/FCDttVr6dTUww6PITQiex3Ddz/QBnGeP+NSVCv?=
 =?us-ascii?q?WNLgBis+GIFii+QSalpwTo3xxivI2DCnVucY?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AdAACyE/hbhxHrdtBjHgEGBwaBUQkLA?=
 =?us-ascii?q?YEwgmKMcIshmUiBdRABARgUiFoiNAkNAQMBAQEBAQECARMBAQEKCwkIKSMMgjY?=
 =?us-ascii?q?FAgMYCYJcAwMBAiQZAQEECikBAgMBAgYBAT4KCAMBMAEFARwZBYMcggIBAwGbP?=
 =?us-ascii?q?jyKHYFsM4J2AQEFgkOEUQgSh0yDD4EcgVc/g26GAIUOoAQHAoIcBI8ECxiJUYc?=
 =?us-ascii?q?3mAkGAgkHDyGBJYINTTCDL4IbDBeIXoU/cYEHiiqBdwEB?=
X-IPAS-Result: =?us-ascii?q?A0AdAACyE/hbhxHrdtBjHgEGBwaBUQkLAYEwgmKMcIshmUi?=
 =?us-ascii?q?BdRABARgUiFoiNAkNAQMBAQEBAQECARMBAQEKCwkIKSMMgjYFAgMYCYJcAwMBA?=
 =?us-ascii?q?iQZAQEECikBAgMBAgYBAT4KCAMBMAEFARwZBYMcggIBAwGbPjyKHYFsM4J2AQE?=
 =?us-ascii?q?FgkOEUQgSh0yDD4EcgVc/g26GAIUOoAQHAoIcBI8ECxiJUYc3mAkGAgkHDyGBJ?=
 =?us-ascii?q?YINTTCDL4IbDBeIXoU/cYEHiiqBdwEB?=
X-IronPort-AV: E=Sophos;i="5.56,270,1539673200"; 
   d="scan'208";a="54542524"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from lists.gnu.org ([208.118.235.17])
  by mtab.intel.com with ESMTP/TLS/AES256-SHA; 23 Nov 2018 06:53:52 -0800
Received: from localhost ([::1]:52792 helo=lists.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>)
	id 1gQCq7-0007MD-Gu
	for like.xu@linux.intel.com; Fri, 23 Nov 2018 09:53:51 -0500
Received: from eggs.gnu.org ([2001:4830:134:3::10]:44134)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <richard.henderson@linaro.org>) id 1gQCj1-0000EA-LF
	for qemu-devel@nongnu.org; Fri, 23 Nov 2018 09:46:32 -0500
Received: from Debian-exim by eggs.gnu.org with spam-scanned (Exim 4.71)
	(envelope-from <richard.henderson@linaro.org>) id 1gQCiw-0003Xa-4u
	for qemu-devel@nongnu.org; Fri, 23 Nov 2018 09:46:30 -0500
Received: from mail-wr1-x443.google.com ([2a00:1450:4864:20::443]:41035)
	by eggs.gnu.org with esmtps (TLS1.0:RSA_AES_128_CBC_SHA1:16)
	(Exim 4.71) (envelope-from <richard.henderson@linaro.org>)
	id 1gQCiu-0003T4-29
	for qemu-devel@nongnu.org; Fri, 23 Nov 2018 09:46:25 -0500
Received: by mail-wr1-x443.google.com with SMTP id x10so12591707wrs.8
	for <qemu-devel@nongnu.org>; Fri, 23 Nov 2018 06:46:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=linaro.org; s=google;
	h=from:to:cc:subject:date:message-id:in-reply-to:references;
	bh=2kjkOBwc36m3JzNrOy40V8NSFyoaC4yO+K9bCMPV9ck=;
	b=UX5DI7DshmBua7hZKefFU1DfJOwZYnhQAeuD8RwbqAVvRdPz1n1WaKYJqxb4UPpnrP
	UrzR2oWanT11/kCauIDhFP+VZX4/mCOLp5WfFmScNNOv+OWdgZDjPOoSYHv9jhCj/urQ
	6BM3is+uy44U8rcG0F/kRj8ZdCkStENAvv4Cw=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=1e100.net; s=20161025;
	h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
	:references;
	bh=2kjkOBwc36m3JzNrOy40V8NSFyoaC4yO+K9bCMPV9ck=;
	b=FptfohtlXxvNbcuW++pQo5rq5qOO1Qa31CiPBHx2ZFAo+ovfWjKQWszFvgztSTryhR
	28OZJJRHdZQS2i7cMfr+4yinrrsHntXd6WepV/H6eX069EF7Tbsnv5t/eMrQFgLoyCyb
	XNVk6HbasI5YsE+mm+GCuvZw7oj10Ko7UhmnoLwkTZC+yZbQno3HDbWFUIbZxUNAcpX4
	Dw4gY/TjgCuQfmq8wUsO6WYC7ADha/wTo1wGEBb1SDS4rij4agn9VYa3qcQXdrNfPybT
	vumO1kdykO8yQsO7K+mSRy2M2mNbi26teIvEdH+TPfP4y4sqt7qAjFcDzgpGALu0yBnN
	3BWQ==
X-Gm-Message-State: AA+aEWZBlMU9puOw6wj8n2cqq94bzPiL5StP9qKCU5xHEm8MVtMI2/KQ
	WTETsG9mG733wVmYjxVQqoAR/G5U4ByIkg==
X-Google-Smtp-Source: AFSGD/VYUUXHRiMI5e+u93x4k1ZtByhOTlWwkSe+fgUGIP4PABX9J37jMbqvs3bPE71+sPXxhdQ4Ng==
X-Received: by 2002:adf:f903:: with SMTP id b3mr14726177wrr.82.1542984382198; 
	Fri, 23 Nov 2018 06:46:22 -0800 (PST)
Received: from cloudburst.twiddle.net ([195.77.246.50])
	by smtp.gmail.com with ESMTPSA id
	p74sm10339630wmd.29.2018.11.23.06.46.21
	(version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
	Fri, 23 Nov 2018 06:46:21 -0800 (PST)
From: Richard Henderson <richard.henderson@linaro.org>
To: qemu-devel@nongnu.org
Date: Fri, 23 Nov 2018 15:45:43 +0100
Message-Id: <20181123144558.5048-23-richard.henderson@linaro.org>
X-Mailer: git-send-email 2.17.2
In-Reply-To: <20181123144558.5048-1-richard.henderson@linaro.org>
References: <20181123144558.5048-1-richard.henderson@linaro.org>
X-detected-operating-system: by eggs.gnu.org: Genre and OS details not
	recognized.
X-Received-From: 2a00:1450:4864:20::443
Subject: [Qemu-devel] [PATCH for-4.0 v2 22/37] tcg/ppc: Add constraints for
 R7-R8
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <http://lists.nongnu.org/archive/html/qemu-devel/>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: Alistair.Francis@wdc.com
Errors-To: qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>

These are function call arguments that we will need soon.

Signed-off-by: Richard Henderson <richard.henderson@linaro.org>
---
 tcg/ppc/tcg-target.inc.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/tcg/ppc/tcg-target.inc.c b/tcg/ppc/tcg-target.inc.c
index 6377e3a829..484d90ead2 100644
--- a/tcg/ppc/tcg-target.inc.c
+++ b/tcg/ppc/tcg-target.inc.c
@@ -236,10 +236,11 @@ static inline void tcg_out_bc_noaddr(TCGContext *s, int insn)
 static const char *target_parse_constraint(TCGArgConstraint *ct,
                                            const char *ct_str, TCGType type)
 {
-    switch (*ct_str++) {
-    case 'A': case 'B': case 'C': case 'D':
+    char c = *ct_str++;
+    switch (c) {
+    case 'A': case 'B': case 'C': case 'D': case 'E': case 'F':
         ct->ct |= TCG_CT_REG;
-        tcg_regset_set_reg(ct->u.regs, 3 + ct_str[0] - 'A');
+        tcg_regset_set_reg(ct->u.regs, 3 + c - 'A');
         break;
     case 'r':
         ct->ct |= TCG_CT_REG;
-- 
2.17.2


