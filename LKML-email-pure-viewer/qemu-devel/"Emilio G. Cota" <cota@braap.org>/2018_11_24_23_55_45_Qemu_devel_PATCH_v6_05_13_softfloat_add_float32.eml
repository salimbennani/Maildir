Return-Path: <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 25 Nov 2018 14:43:00 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga007.jf.intel.com (orsmga007.jf.intel.com [10.7.209.58])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 4D2E6580478
	for <like.xu@linux.intel.com>; Sat, 24 Nov 2018 15:57:02 -0800 (PST)
Received: from fmsmga104.fm.intel.com ([10.1.193.100])
  by orsmga007-1.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 24 Nov 2018 15:57:02 -0800
IronPort-PHdr: =?us-ascii?q?9a23=3AGTGKqR+fhSC0n/9uRHKM819IXTAuvvDOBiVQ1KB2?=
 =?us-ascii?q?1+0cTK2v8tzYMVDF4r011RmVBdWds6oMotGVmpioYXYH75eFvSJKW713fDhBt/?=
 =?us-ascii?q?8rmRc9CtWOE0zxIa2iRSU7GMNfSA0tpCnjYgBaF8nkelLdvGC54yIMFRXjLwp1?=
 =?us-ascii?q?Ifn+FpLPg8it2O2+557ebx9UiDahfLh/MAi4oQLNu8cMnIBsMLwxyhzHontJf+?=
 =?us-ascii?q?RZ22ZlLk+Nkhj/+8m94odt/zxftPw9+cFAV776f7kjQrxDEDsmKWE169b1uhTF?=
 =?us-ascii?q?UACC+2ETUmQSkhpPHgjF8BT3VYr/vyfmquZw3jSRMNboRr4oRzut86ZrSAfpiC?=
 =?us-ascii?q?gZMT457HrXgdF0gK5CvR6tuwBzz4vSbYqINvRxY7ndcMsaS2RfUMhfVCtPDYGy?=
 =?us-ascii?q?b4USF+oMP+RWoobgq1YAsRexGxKsCfjzxjNUnHL6wbc33/g9HQzAwQcuH8gOsH?=
 =?us-ascii?q?PRrNjtOqscXuW1zKjMzTXCaPNdxDbz5JLVeR0/pvGMQah/fcTMwkQoCwzFiUmQ?=
 =?us-ascii?q?ppb+MjyOzOQCqXKU7/J6WeKokW4npBh8rz6yzckvkonEnpwZxkzH+Clj3Yo5ON?=
 =?us-ascii?q?61RFRlbdOqEJZcrTyWOoluTs8/XW1luzw2x70CtJKhYiQG1I4rywDCZ/GGdYWD?=
 =?us-ascii?q?/wjtW/yLIThigXJoYLK/iAi28Uin0uD8Usi00E1WripeiNXMuXYN1wHJ5siAUP?=
 =?us-ascii?q?t98V+t2TeJ1w/N9uFJOV44mbbYJpI737I8i5kevV7dEiL4mEj6lrKae0c89uit?=
 =?us-ascii?q?8evnY7HmppGGN49zjwHzKr0uldK6AeQlKwQBQnaU+fqi273n5EH2W7JKjuAwkq?=
 =?us-ascii?q?bFrp/aPsMXpqq4Aw9WzIkv8Rm+Dyq+3dQcnHkHKk9FeR2dg4joPVHOPO73DfOl?=
 =?us-ascii?q?j1uwlzdrwuvLPrvmApXLIXjDlqrhcax6605Gxwo/1cpf6I5MCrEdPPLzXVf8tN?=
 =?us-ascii?q?jZDh86LQO42enmCMhm24MaWGKPBLKZMazIvV+J4OIvP/eDZIsPtDnhLPgl4q2m?=
 =?us-ascii?q?sHkihFVIfbW1xYBFLze8H+96OAOfZnzjhMpHFn0F+Q83TejvgVvFViZPZnG0RO?=
 =?us-ascii?q?Ul6zQmTY6rE4rHFb2rm6GLiSKyH5lKYTJfB1WRVHvlaYiAHu0BcT+fOdNJlDsC?=
 =?us-ascii?q?Wr68DYg72ka1qQX4xrF7e/fS4TASrpn51dJ4tNHUwAg/8CExA8mD3mWlSWZykW?=
 =?us-ascii?q?UVATgs0/NRu0t4nx2u1Kl8gvsQOpobzPRVW01yYZXb0+VSAcr7UxqHec2GHgX1?=
 =?us-ascii?q?Cu66CC08G4pii+QFZFxwTpD71kjO?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AUAADu5PlbhxHrdtBiHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUQcBAQsBgTCCYowRX59zhHeBcBcYFIhaIjQJDQEDAQEBAQEBAgETAQEBCgs?=
 =?us-ascii?q?JCBsOIwyCNgUCAxoBBoJcAwMBAj0BAQQKHAoDAQIDAQIGAQFICAMBUxkFgxyCA?=
 =?us-ascii?q?gEEoymCH4J2AQEFgkOEUgiHXoMPgRwRBoF/iW6FDpASj3IHAgKRIgsYiU+HOSy?=
 =?us-ascii?q?YBIFGgg19CIMnghuDbYUUhVxUgQIFIROJXIF3AQE?=
X-IPAS-Result: =?us-ascii?q?A0AUAADu5PlbhxHrdtBiHAEBAQQBAQcEAQGBUQcBAQsBgTC?=
 =?us-ascii?q?CYowRX59zhHeBcBcYFIhaIjQJDQEDAQEBAQEBAgETAQEBCgsJCBsOIwyCNgUCA?=
 =?us-ascii?q?xoBBoJcAwMBAj0BAQQKHAoDAQIDAQIGAQFICAMBUxkFgxyCAgEEoymCH4J2AQE?=
 =?us-ascii?q?FgkOEUgiHXoMPgRwRBoF/iW6FDpASj3IHAgKRIgsYiU+HOSyYBIFGgg19CIMng?=
 =?us-ascii?q?huDbYUUhVxUgQIFIROJXIF3AQE?=
X-IronPort-AV: E=Sophos;i="5.56,275,1539673200"; 
   d="scan'208";a="52491896"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from lists.gnu.org ([208.118.235.17])
  by mtab.intel.com with ESMTP/TLS/AES256-SHA; 24 Nov 2018 15:56:52 -0800
Received: from localhost ([::1]:58143 helo=lists.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>)
	id 1gQhn9-0003Gp-OX
	for like.xu@linux.intel.com; Sat, 24 Nov 2018 18:56:51 -0500
Received: from eggs.gnu.org ([2001:4830:134:3::10]:57454)
	by lists.gnu.org with esmtp (Exim 4.71)
	(envelope-from <cota@braap.org>) id 1gQhmV-0003G0-SP
	for qemu-devel@nongnu.org; Sat, 24 Nov 2018 18:56:12 -0500
Received: from Debian-exim by eggs.gnu.org with spam-scanned (Exim 4.71)
	(envelope-from <cota@braap.org>) id 1gQhmS-0005NP-4w
	for qemu-devel@nongnu.org; Sat, 24 Nov 2018 18:56:11 -0500
Received: from wout2-smtp.messagingengine.com ([64.147.123.25]:58305)
	by eggs.gnu.org with esmtps (TLS1.0:DHE_RSA_AES_256_CBC_SHA1:32)
	(Exim 4.71) (envelope-from <cota@braap.org>) id 1gQhmQ-0004j3-O9
	for qemu-devel@nongnu.org; Sat, 24 Nov 2018 18:56:08 -0500
Received: from compute4.internal (compute4.nyi.internal [10.202.2.44])
	by mailout.west.internal (Postfix) with ESMTP id 42DD1CFF;
	Sat, 24 Nov 2018 18:56:02 -0500 (EST)
Received: from mailfrontend2 ([10.202.2.163])
	by compute4.internal (MEProxy); Sat, 24 Nov 2018 18:56:02 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=braap.org; h=
	from:to:cc:subject:date:message-id:in-reply-to:references; s=
	mesmtp; bh=kIeLqTq4Rg/eYmqPOg5c92+v8rTPU4/b//I2wiwiWi4=; b=xbgVZ
	lEHFOYfjjkqg89qX8i0arb4cwKLZq2Z05QXIKqF67tFS2z1Y0VZ1CwnkO3XY94jZ
	9ZSn+SRBozszZmIv56WNkynDIc2p6lb9grsFy3c6lrkACXNGt8uYbnXlaEvZ/mra
	v78/yIt/MQRkCu1/nXdjKOlSBs2a4s7VZVTf6c=
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=cc:date:from:in-reply-to:message-id
	:references:subject:to:x-me-proxy:x-me-proxy:x-me-sender
	:x-me-sender:x-sasl-enc; s=fm1; bh=kIeLqTq4Rg/eYmqPOg5c92+v8rTPU
	4/b//I2wiwiWi4=; b=iLmgum38s/twWeXQzA15xjGBRTTpdf0PrZc6d6gV3nun6
	Xp1ziyIRu9mAE9iQUnXbK4Rx0CgDs3dV7M/1/6xi6r4d9/Ka+aAMx3plWzRw6G6r
	Qe6QX1DG05OWzBR8xW03zo5s3Z9jMWHgroMICz1cOFZJ2sf1CbnsAY4Rdc0vnp5L
	CP7CQ/AADcWi9i9i2gZjjJ4zG6WOyF6fPIymFuwF6yC2EtDQp8Cy/Z0UiIM/BZ6U
	QIOS5bYi6J+EXc6O50QHdjYp/JBSFVutGdX/r9TKzmWSBNY/fqdoQJBVmZkcBzJk
	WeyWkWW39GPa1SR8Wg6ok4Qfi1e4jU9cAj/lXDMVQ==
X-ME-Sender: <xms:EeX5W5ye-1FDv0uLfu4KN5gtILyAMIjIDN3ryjckySvuRt7ewsvStw>
X-ME-Proxy: <xmx:EeX5WyQPD6BfJMhHSKduGKr1N4W1lcjYptUt19MgKTi2nZJZnGQqWw>
	<xmx:EeX5WwAlmK5LAwv4drTbx4QHjMr39B6nUlckw5dH7En-ouhQLdcPYw>
	<xmx:EeX5W9ojcKuW8BeiKOMrHmy7-BGFkYvvdzZ416gTLKSMhcJfHDuVEg>
	<xmx:EeX5Wy9kxiwlJwW_Z2YRoc03rZHBrBtmyH0XA_NKZ_pTgPqiOZNaOg>
	<xmx:EeX5W2DQYGLzTkshQdxFBeJ5hP7Uhc2lceFSBEtd0fNmkJuA9ntbaw>
	<xmx:EeX5W8xBPOdud4sqwwia3_VEyd7p2BVXe3MhDoPx2HNWMsSevBrluA>
Received: from localhost (flamenco.cs.columbia.edu [128.59.20.216])
	by mail.messagingengine.com (Postfix) with ESMTPA id 843A1102F2;
	Sat, 24 Nov 2018 18:56:01 -0500 (EST)
From: "Emilio G. Cota" <cota@braap.org>
To: qemu-devel@nongnu.org
Date: Sat, 24 Nov 2018 18:55:45 -0500
Message-Id: <20181124235553.17371-6-cota@braap.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20181124235553.17371-1-cota@braap.org>
References: <20181124235553.17371-1-cota@braap.org>
X-detected-operating-system: by eggs.gnu.org: GNU/Linux 2.2.x-3.x [generic]
	[fuzzy]
X-Received-From: 64.147.123.25
Subject: [Qemu-devel] [PATCH v6 05/13] softfloat: add float{32,
 64}_is_zero_or_normal
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <http://lists.nongnu.org/archive/html/qemu-devel/>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
	<mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: Richard Henderson <richard.henderson@linaro.org>,
	=?UTF-8?q?Alex=20Benn=C3=A9e?= <alex.bennee@linaro.org>
Errors-To: qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+like.xu=linux.intel.com@nongnu.org>

These will gain some users very soon.

Signed-off-by: Emilio G. Cota <cota@braap.org>
---
 include/fpu/softfloat.h | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/include/fpu/softfloat.h b/include/fpu/softfloat.h
index 9eeccd88a5..38a5e99cf3 100644
--- a/include/fpu/softfloat.h
+++ b/include/fpu/softfloat.h
@@ -474,6 +474,11 @@ static inline bool float32_is_denormal(float32 a)
     return float32_is_zero_or_denormal(a) && !float32_is_zero(a);
 }
 
+static inline bool float32_is_zero_or_normal(float32 a)
+{
+    return float32_is_normal(a) || float32_is_zero(a);
+}
+
 static inline float32 float32_set_sign(float32 a, int sign)
 {
     return make_float32((float32_val(a) & 0x7fffffff) | (sign << 31));
@@ -625,6 +630,11 @@ static inline bool float64_is_denormal(float64 a)
     return float64_is_zero_or_denormal(a) && !float64_is_zero(a);
 }
 
+static inline bool float64_is_zero_or_normal(float64 a)
+{
+    return float64_is_normal(a) || float64_is_zero(a);
+}
+
 static inline float64 float64_set_sign(float64 a, int sign)
 {
     return make_float64((float64_val(a) & 0x7fffffffffffffffULL)
-- 
2.17.1


