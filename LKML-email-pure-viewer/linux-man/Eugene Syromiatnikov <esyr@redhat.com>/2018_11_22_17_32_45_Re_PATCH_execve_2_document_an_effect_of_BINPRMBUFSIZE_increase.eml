Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 23 Nov 2018 08:30:22 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga006.fm.intel.com (fmsmga006.fm.intel.com [10.253.24.20])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 42599580460;
	Thu, 22 Nov 2018 09:32:37 -0800 (PST)
Received: from fmsmga104.fm.intel.com ([10.1.193.100])
  by fmsmga006-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Nov 2018 09:32:36 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3Af+cJ8RwpTqehquzXCy+O+j09IxM/srCxBDY+r6Qd?=
 =?us-ascii?q?0e8QKPad9pjvdHbS+e9qxAeQG9mDu7Qc06L/iOPJYSQ4+5GPsXQPItRndiQuro?=
 =?us-ascii?q?EopTEmG9OPEkbhLfTnPGQQFcVGU0J5rTngaRAGUMnxaEfPrXKs8DUcBgvwNRZv?=
 =?us-ascii?q?JuTyB4Xek9m72/q99pHPYAhEniaxba9vJxiqsAvdsdUbj5F/Iagr0BvJpXVIe+?=
 =?us-ascii?q?VSxWx2IF+Yggjx6MSt8pN96ipco/0u+dJOXqX8ZKQ4UKdXDC86PGAv5c3krgfM?=
 =?us-ascii?q?QA2S7XYBSGoWkx5IAw/Y7BHmW5r6ryX3uvZh1CScIMb7Vq4/Vyi84Kh3SR/okC?=
 =?us-ascii?q?YHOCA/8GHLkcx7kaZXrAu8qxBj34LYZYeYP+d8cKzAZ9MXXWRPUMZPWSJcAY28?=
 =?us-ascii?q?YYQAAPYcMulaoYb9vEMOoBmlCAmwGO/i0CNEimPs0KEk1ekqDAHI3BYnH9ILqH?=
 =?us-ascii?q?nao8j1NKgMXuCz0qbD0CjNbvNM2Tf67YjIcwouoe2KXbJxcsrRzlcvHB7Cg1qO?=
 =?us-ascii?q?sozkPymV2/8Xs2eF8uVgVfigi3I9pw5tpTivw94hh4/UjYwbzVDE8D92wIczJd?=
 =?us-ascii?q?CgTE57YtukEJ9KuyGdLYt2TdsuQ2J2tyYgzL0Jp5q7cDINyJQ9yB7Tc/mHfJKO?=
 =?us-ascii?q?4h/hTuqRJi14hH1jdbmihBiy6VCtxvPgWsSwylpGsyRInsfWunwQ1BHf9tKLR/?=
 =?us-ascii?q?p/80u5xzqDywTe5vtZLU06i6bXMYMtz70+m5YJr0jOHSn7k1jsgqCMbEUr4O2o?=
 =?us-ascii?q?5vznYrr4op+cMJd5ih/xMqswgMyzG+c4PRYUX2id5+u80Kfv/UrjQLVFlvE2k6?=
 =?us-ascii?q?/Zv47GJckDuKK1HwtY3pw+5xuxETuqyskUkHobIF5feR+KjZDlO1TUL/D5Cfe/?=
 =?us-ascii?q?jU6skDBux/3eOr3hA5PNLmXMkbv4frZy9VRcyAwtwtBb/p5UDb8AIPTtVU/rr9?=
 =?us-ascii?q?HYEBA5PBKuw+r9C9VyyJkeWWSRDa+dKq/StkWI5u03L+mWeIAVoCr9K+Qi5/P2?=
 =?us-ascii?q?iX85mFwdcrez0ZoYdXC1BfBmI0SfYXrxjdYNC2YKvgwiTOP0jF2OSyJcZ3G3X6?=
 =?us-ascii?q?gk/DE0FJqmDZvfRoCqmLGB3D20HpxKZm9cDVCAC3fod5ieVPcKZyKfOcthkj0C?=
 =?us-ascii?q?Vbi8RI4tzxCutAnmy7V5KurY4DEXtZXm1NJt/e3ciQky9SBoD8Say2yNTWZ0kX?=
 =?us-ascii?q?0SSz8126B/p0p9ylCY3Kh8gvxYE8FT5vxTXgc7M57c0/J1C9ToVg3dedeJTU6s?=
 =?us-ascii?q?Qs+6DjEpUtIx39gObl5nFNW5jhDD2CmqD6UPl7ORBpw56abc33n3J8ZgxHfKzq?=
 =?us-ascii?q?ghj186QsRRMW2qnLJw9w/WB4TRiUWWi76qdbgA3C7K7GqDznCBvEdCXA50UKXK?=
 =?us-ascii?q?R3YfZkTNoNT950PCSaKuCLs9PgtAz86CNrVFatnzgVpaQ/fjPczUY3itlGeoGR?=
 =?us-ascii?q?aI2rSMYZL3dGoHwiXSFlIIkwAJ8naALggxGCGhr2XaDDxtEFLvZ1jh8e1/qHO9?=
 =?us-ascii?q?U081wBuGb0xn17qp5BEVgeaQRO8U3rIBoC0hsSl7HE6h39LKDNqNvxduc79CYd?=
 =?us-ascii?q?wj+ltH1XjWtwpmPpO+KaBvnVoecwVxv0Pz2BR7EIRAkc42rHw0yAp+M76X0FRE?=
 =?us-ascii?q?dzmAx5D/JqXXKnXu/BCoc6PWxlDe0NOR+qcT6PQ5q0/vvB2zGkol6XVn19hV03?=
 =?us-ascii?q?2T5pjRCAoSUJTxUls49hRgprHaZDU96J3Q1XF2Laa0tTrC0cozBOQ50hagY8tf?=
 =?us-ascii?q?MKScGQDoF80VGcevJ/IqmlSzdR0EIf1d+7QyP8OlcPuGxrWmPOJhnDKgkGRG75?=
 =?us-ascii?q?px0kOK9ypgVOHI24wJzO2f3guCTz38lkuustjrmYBYYjEfBmq+yTX+CIFNfKFz?=
 =?us-ascii?q?fIYLBn2oI8243dh+g5/tW3hF9F+sHV8G2cmpeQaMYFz5xwFfyUMXoXm/kyui0z?=
 =?us-ascii?q?N0iy0prraY3CHW2eTidQYINXRRRGZ/ilfgO460gM4AXEipdgQmiAGq5ULnyKdF?=
 =?us-ascii?q?vqR/KG/TTFxMfyj3KWFiT6SxuqCDY85J9JMnryFXXP6gblCdT773uwEa3D/7H2?=
 =?us-ascii?q?tC2DA7cCmnu5X4nxBgiGORNm1zrGffecxrwRff5drcReNe3zYcRSl4jyXXCUa4?=
 =?us-ascii?q?P9Wz4dqUkJLDuPikV229Tp1TbTXrzYSYuSu5/2JqGx6/n/O0mtH9Cgg1yyz719?=
 =?us-ascii?q?prVSXOshn8ZJLm16C7MeJhY0lpC0Xw68t8GoFijIQwgIsc1mQdhpWQ5XAHi3v8?=
 =?us-ascii?q?Mc1H2aLia3oAXT4KzMTS4AT/2k1jL3SJypn9VnWcxMtheta7bnkX2iI788BFFq?=
 =?us-ascii?q?OU4KZYkityp1qytRjRbuRlnjcB1fsu72YXg+ITtwos1CmdAq0SElNePSzjjBmI?=
 =?us-ascii?q?69G+rKNKZGega7Sw1Ux+ncy/A7GGuA1TRHH5epI6Fy9q8sp/KE7M0GH06oz8fd?=
 =?us-ascii?q?nQbNETuQeOnxbOkedVM44xmeQQhSV8J239p3IlxvU/jRxv25G6oYeGJ39s/KK/?=
 =?us-ascii?q?Hh5XKDn1a9kP9THqiKZUhtyW0Jy3HpV9BjULW4PlTe6vEDIXr/jmNhyBEDshqn?=
 =?us-ascii?q?eAArrfHBSS6ENnr3LJDpCqOGubJHgfzdV+WhadIFZTjxwTXDU/hpQ5DBylxNT9?=
 =?us-ascii?q?cEdl4TAc/kX3pQFLyuJsKhnzSGPfpBqzZzcwSZifKgdW7w5Y60fUN8ye8vx8Hy?=
 =?us-ascii?q?VC8pK9qwyNL3SRZx5UAmERRkyEG1fjM6Gs5dba9uiXGPG+I+HSYbmUquxeSvSI?=
 =?us-ascii?q?xY+p0oR85DaBLcGPPnhkD/0m1UtPR3F5G8LFmzoRTywbjT7Cb8mepB2k4C14st?=
 =?us-ascii?q?i/8Oj3WALo/YaOC7xSMch2+xCrm6iDMfSchD1+KTZe2ZMB3nvIyLkZ3F4PhCBi?=
 =?us-ascii?q?bTitEbIctSHTSKLcgLNYDxkeaylrLstH87o83hVROc7ckt711qB3jv82C1dGVF?=
 =?us-ascii?q?ztgMKpZdYNI2GyKlzHHluLNK+dKD3PwsH3Z768SLJKgOVVsR2wpSiUE0v5Mjuf?=
 =?us-ascii?q?kDnpUgilMftQgyGDIBxepIa9fw53Bmj+V93mcAO0Md9tgT0ywL05nXfKNW8aMT?=
 =?us-ascii?q?hhfEJBtLyQ7SVEgvphH2xN9GZqLe6BmyyB9enXNo4Wsed3AiRzj+9a/HU6y75P?=
 =?us-ascii?q?4C5YXvB6hCvSocBoo1y9lumPyzxnUAdBqzpRhYKLu1liNrvd9pVaRXnE+xcN53?=
 =?us-ascii?q?2KCxsWv9tlFsHvu6dIx9nPjq3zLjJC89PS/cQEBsnUKNiIMHwuMRfyHD7UDQ0F?=
 =?us-ascii?q?TSOkNG3Fhkxdlu2S+WORrpQgtpfsn58OGfdnUwl/M/IRCk1oGJQhLY1tXygn2f?=
 =?us-ascii?q?6ehchN/XOxoQKQDo0Ou4zEEPebB+3mJzuCpbZBbhoMh7j/KNJAGJf83hlPd1Z3?=
 =?us-ascii?q?momCIFvKWtVMqzFnbwwzvg0Z/WNvVEUp1k7lYx/r63gWQ63n1iUqgxdzNLx+vA?=
 =?us-ascii?q?zn5E06cx+T/HM9?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ABAACm5/Zbh0O0hNFiGQEBAQEBAQEBA?=
 =?us-ascii?q?QEBAQcBAQEBAQGBUQQBAQEBAQsBgmmBAieHNIRcX4sigg0UiQSOIoFuGRgHDAG?=
 =?us-ascii?q?IUiI0CQ0BAwEBAQEBAQIBEwEBAQgNCQgpIwyCNiQBgmEBAQEBAgEBAjc/BQEJA?=
 =?us-ascii?q?QEKGAklAwwFSRMFBBODBQGBdAUIBQqqboQtARNAhR6MCReBQD+EI4MCDgsBBYE?=
 =?us-ascii?q?3g1uCBCICiRmBeIVNjyQJhnyKKAsYgVlNhyuHNyyJQYNWgkyIIYFGgg1wFYMnC?=
 =?us-ascii?q?RaKfYU/PgEBMYEFAQEciWyCTAEB?=
X-IPAS-Result: =?us-ascii?q?A0ABAACm5/Zbh0O0hNFiGQEBAQEBAQEBAQEBAQcBAQEBAQG?=
 =?us-ascii?q?BUQQBAQEBAQsBgmmBAieHNIRcX4sigg0UiQSOIoFuGRgHDAGIUiI0CQ0BAwEBA?=
 =?us-ascii?q?QEBAQIBEwEBAQgNCQgpIwyCNiQBgmEBAQEBAgEBAjc/BQEJAQEKGAklAwwFSRM?=
 =?us-ascii?q?FBBODBQGBdAUIBQqqboQtARNAhR6MCReBQD+EI4MCDgsBBYE3g1uCBCICiRmBe?=
 =?us-ascii?q?IVNjyQJhnyKKAsYgVlNhyuHNyyJQYNWgkyIIYFGgg1wFYMnCRaKfYU/PgEBMYE?=
 =?us-ascii?q?FAQEciWyCTAEB?=
X-IronPort-AV: E=Sophos;i="5.56,266,1539673200"; 
   d="scan'208";a="52306424"
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 22 Nov 2018 09:32:35 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2392035AbeKWEMw (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Thu, 22 Nov 2018 23:12:52 -0500
Received: from mx1.redhat.com ([209.132.183.28]:57058 "EHLO mx1.redhat.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1732076AbeKWEMw (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 22 Nov 2018 23:12:52 -0500
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com [10.5.11.16])
        (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
        (No client certificate requested)
        by mx1.redhat.com (Postfix) with ESMTPS id E2E7430D34E5;
        Thu, 22 Nov 2018 17:32:31 +0000 (UTC)
Received: from asgard.redhat.com (ovpn-200-33.brq.redhat.com [10.40.200.33])
        by smtp.corp.redhat.com (Postfix) with ESMTPS id C08307E3BF;
        Thu, 22 Nov 2018 17:32:28 +0000 (UTC)
Date: Thu, 22 Nov 2018 18:32:45 +0100
From: Eugene Syromiatnikov <esyr@redhat.com>
To: "Michael Kerrisk (man-pages)" <mtk.manpages@gmail.com>
Cc: linux-man <linux-man@vger.kernel.org>,
        Andrew Morton <akpm@linux-foundation.org>,
        Ben Woodard <woodard@redhat.com>,
        "Eric W. Biederman" <ebiederm@xmission.com>,
        Kees Cook <keescook@chromium.org>,
        Michal Hocko <mhocko@suse.com>, linux-kernel@vger.kernel.org,
        Oleg Nesterov <oleg@redhat.com>,
        Alan Cox <gnomes@lxorguk.ukuu.org.uk>
Subject: Re: [PATCH] execve.2: document an effect of BINPRM_BUF_SIZE increase
 to 256
Message-ID: <20181122173245.GF20018@asgard.redhat.com>
References: <20181116174911.6fcff580@alans-desktop>
 <20181121160753.GA32685@asgard.redhat.com>
 <CAKgNAkhFikJXeOx3W3yL3EUKa9ruXtAw93m4M=N+3Kg-bXbPDQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <CAKgNAkhFikJXeOx3W3yL3EUKa9ruXtAw93m4M=N+3Kg-bXbPDQ@mail.gmail.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16 (mx1.redhat.com [10.5.110.42]); Thu, 22 Nov 2018 17:32:32 +0000 (UTC)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Thu, Nov 22, 2018 at 04:59:24PM +0100, Michael Kerrisk (man-pages) wrote:
> Hi Eugene,
> 
> On Wed, 21 Nov 2018 at 17:07, Eugene Syromiatnikov <esyr@redhat.com> wrote:
> >
> > Increase of BINPRM_BUF_SIZE to 256 increases the limit on the possible
> > interpreter line length for scripts to 255.
> 
> I don't see this in the kernel source tree? Could you point me at the
> right source file / git commit?

Sorry, it's a corresponding man page update for a proposed kernel
change[1][2], and I failed to Cc: all the related parties properly.

[1] https://lkml.org/lkml/2018/11/12/2330
[2] https://lkml.org/lkml/2018/11/12/2328

> Thanks,
> 
> Michael
> 
> > Signed-off-by: Eugene Syromiatnikov <esyr@redhat.com>
> > ---
> >  man2/execve.2 | 5 +++--
> >  1 file changed, 3 insertions(+), 2 deletions(-)
> >
> > diff --git a/man2/execve.2 b/man2/execve.2
> > index d2bb861..f4e37d6 100644
> > --- a/man2/execve.2
> > +++ b/man2/execve.2
> > @@ -633,8 +633,9 @@ prototype:
> >  .in
> >  .\"
> >  .SS Interpreter scripts
> > -A maximum line length of 127 characters is allowed for the first line in
> > -an interpreter script.
> > +Before Linux 4.20, a maximum line length of 127 characters was allowed
> > +for the first line in an interpreter script.
> > +In Linux 4.20 onwards, this limit was increased up to 255 characters.
> >  .PP
> >  The semantics of the
> >  .I optional-arg
> > --
> > 2.1.4
> >
> 
> 
> -- 
> Michael Kerrisk
> Linux man-pages maintainer; http://www.kernel.org/doc/man-pages/
> Linux/UNIX System Programming Training: http://man7.org/training/
