Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 24 Nov 2018 12:36:13 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga001.jf.intel.com (orsmga001.jf.intel.com [10.7.209.18])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id A5F1358037D;
	Fri, 23 Nov 2018 08:58:08 -0800 (PST)
Received: from orsmga103.jf.intel.com ([10.7.208.35])
  by orsmga001-1.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 23 Nov 2018 08:58:08 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AtwO5YhE1g+idSS/4ZRlKYJ1GYnF86YWxBRYc798d?=
 =?us-ascii?q?s5kLTJ75os6+bnLW6fgltlLVR4KTs6sC17KG9fi4EUU7or+5+EgYd5JNUxJXwe?=
 =?us-ascii?q?43pCcHRPC/NEvgMfTxZDY7FskRHHVs/nW8LFQHUJ2mPw6arXK99yMdFQviPgRp?=
 =?us-ascii?q?OOv1BpTSj8Oq3Oyu5pHfeQpFiCa+bL9oMBm6sRjau9ULj4dlNqs/0AbCrGFSe+?=
 =?us-ascii?q?RRy2NoJFaTkAj568yt4pNt8Dletuw4+cJYXqr0Y6o3TbpDDDQ7KG81/9HktQPC?=
 =?us-ascii?q?TQSU+HQRVHgdnwdSDAjE6BH6WYrxsjf/u+Fg1iSWIdH6QLYpUjmk8qxlSgLniD?=
 =?us-ascii?q?0fOjA57m/Zl8J+gqFcrhK6vxxywZXZbJ2JOPdkYq/QZ88WSXZHU81MVyJBGIS8?=
 =?us-ascii?q?b44XAuUDJ+lYqYb9p0cUohu5GAKiAuLvwSJPi3/q3K061eQgHRvI3QwhGdIBrX?=
 =?us-ascii?q?XVrdTuOacdVOC61qjIzTHZY/xK3jf97ZHFfxY8qv+PRbJ9adTdxVUrGg/fk1md?=
 =?us-ascii?q?p5LpMymI2ukOr2SX9ettWOC3h2MmqAx9uCWjy8Yvh4XTm44YxEzI+T97zYs3I9?=
 =?us-ascii?q?CzVVR1bsS+EJRKsiGXL4t2Td0mQ2FvoCs61LIGtoChfCQQy5Qo2QTfa/qZfIiM?=
 =?us-ascii?q?+B7jU/yRIThgiHJkfrKwmQqy/FC+xuHgUsS4yktGoyRbntXWq3wA1ADf5tKGR/?=
 =?us-ascii?q?Z/5kuh3CyA1wHX6uFKO0A0kq/bJoYlwr4xkJoTrEvCEjb1mErolq+WcFsr+uyx?=
 =?us-ascii?q?5+TgbLTmoIGTN5VvhwHgPaQhhNa/Df47MgcQRWib//qz1Ln58U3+WrVKgeU6kr?=
 =?us-ascii?q?PFv5DCOcQbuqm5DhdR0oYi6BawES2q0dsFnXQcKFJFeRSHj5XmOl3UIfD4C+u/?=
 =?us-ascii?q?jEqokDtx2//GObjhCI3XLnffiLfhYap960lExQoz199f5o5UBasGIP7pWk/xqc?=
 =?us-ascii?q?bXDhk2MwGvx+bnCdN91p4RWG6VA6+ZNr/SvkGM5u41P+aMY4oVsi7nK/c5//7u?=
 =?us-ascii?q?kWM5mVgFcKmr2psYdmq0HvdhI0WfZ3rshcwMEWMLvgo4Uezrh0eOUT9VZ3auQa?=
 =?us-ascii?q?084is3B56hDYfGXoqtmqCO3D+nHp1KYWBLEkqDEWzod4WDWPcAcjiSLdVjkjEf?=
 =?us-ascii?q?UbihSokh1QyhtQPgyrpnKPbU9TMctZ75yNd14OjTnwko9TNoF8Sdz32NT2Zsk2?=
 =?us-ascii?q?MLXTA22rpzoUh8yliZ16h4jOdVFdhS5/NPTwc7OoTQz+18C9DuRA3Bes2FR0qh?=
 =?us-ascii?q?QtWjGTsxVM4+w8cSY0ZhHNWvlg3M0DC0A7ALjbCLBIY78qTH33fvIcZxzHLG1K?=
 =?us-ascii?q?okj1kiWcZPMWymhqhi9wncHYLJkkOZl7q0eqQYxiLC6GCDzW+WtkFCTAFwSbnF?=
 =?us-ascii?q?XWwYZkbOsNv2/F3CQKG0BbQnKARBz9WCJbVMatDyiVVGRfHjOMnRYm6rmmewAw?=
 =?us-ascii?q?qIya2IbIbwZ2od2yDdAlAekw8P5XaGKRQ+BiC5rmLCDTxuEFXvY1/s8eh+sn+7?=
 =?us-ascii?q?UlU4zwaQb01l1rq1/BEViOeYS/MS2LIEpSggpy91HFa7w9LZFd6AqxB9c6VbZN?=
 =?us-ascii?q?M3+E1H2n7BtwxhIpygKLhviUQacwtpsELhyRV2Bp9bnsg3sXwl1gxyKaGf0FNf?=
 =?us-ascii?q?bD6Y2ZHwOrvKKmj95hyvaqjW2k3A39aS4KsA9PM4q1D7tgGzCkUi62ln08VS03?=
 =?us-ascii?q?aE5pTKERAeXo7rXkc29xh1vbfaYiYm6oPQ1H1sN7S0szDY19IoAusl1givf9NF?=
 =?us-ascii?q?PKyYEw/yFtUQB9KyJ+wyh1ipchUEMfhI9K41I8ypbeGG17OsPOp6mjKpk35H4I?=
 =?us-ascii?q?Fk3k2Q7SV8TvPH0Igfw/Gf2AuKTDP8jFanssDqloFIfzASHmyjySf6AI5dfLF9?=
 =?us-ascii?q?fYEOCW22Oc242s1+h4LxW35f7FOiB1IG1NWpeBaIdFz9wAtQ2F8ToXymnyu40j?=
 =?us-ascii?q?N1nysorqqZwCzB3eDieAAbNW5MQWlolU3sLpSsj9AGQEioaBAklBm/6kbgxKhb?=
 =?us-ascii?q?p6N/I3PIQUhSfCj2LGBiUq2uubqEeMNP7JIosSNKUOWze1yaS7j9owcE3CPnBW?=
 =?us-ascii?q?dR2Dc7dzSysJXjgxN6kH6dLGp0rHfBecB/3xDf6MbeRf5Q2DoLXy14iTjRBlih?=
 =?us-ascii?q?MNil59SUl5Hfsu+gU2KtTIFccS7uzYmYriu0+XVqAQGjn/C0gtDnEhI10S7h29?=
 =?us-ascii?q?lqSCXHthD8Yobw2qS+MOJneFRoBVDm58p7HIF+jpU/hJUK1XcGgZWV+GINkX3v?=
 =?us-ascii?q?PtVDxaL+cH0NSCYOw97U4wjqwldvL3yXyILiSnWS3NFhaMKkbWMM1SIw9MRKCK?=
 =?us-ascii?q?aS7LxZkip5uFu4rQTNYfdjmjcR0+ch6Hkfg+sRogoi0j2dAqwOHUlfJSHsixOI?=
 =?us-ascii?q?79WkoKRWfmmvd6Ww1FFlndCgF7yCpgBcWHDkepYtByNw78N/ME7S33338I3rZN?=
 =?us-ascii?q?7QbdcLvB2OjxjAl/RVKI42lvcSniVoI2X9vXk4y+IhiRxuwIq3vIyGK2Vr4aK4?=
 =?us-ascii?q?DQRUNjzzZ8MP5D7tibxSkdqR34CqBp9hACkEXIP0TfK0FzIfrfbnOByLEDIisX?=
 =?us-ascii?q?eXA6bfERWc6Ed7rHLPDparOGuMJHQCydViRR+dJFFQgQwOXTU6mII5GR6uxMD7?=
 =?us-ascii?q?bEh54TUR7EbiqhRQ0uJoKwX/UmDHqQaobTc0VYGfLAdM4QFE/UvVKsue7uR8Hy?=
 =?us-ascii?q?xD+p2hrQqNKnGUZghSDGEJXFCECE7nPrW0+dbA9O2YDPKkL/TSebWOtfBeV/CQ?=
 =?us-ascii?q?yJKvzIRm/jWMNsaOPnV4DP07wE1DXX9nFMTDhjUPUDcalybMb86duRe99Td7rs?=
 =?us-ascii?q?G58PT3Rg3v4ZGDBKdVMdVq4xq2m7uMN/aMhCZlLjZVzokDxWLTx7gFwlETizti?=
 =?us-ascii?q?dz2sEbkbsS7NTaTQmrJYDhIBaiNzMtdI4Lw43gVXJcHbjdb13KZijvEpE1dFSU?=
 =?us-ascii?q?DhmsaxaMwWImG9MUnLC1qROLuaJT3E3cf3bLi4Sb1RiuVUqhKxtSyaE0/lIjSM?=
 =?us-ascii?q?iT3pWwqzPuFLiSGRJAZet52lchZxFWjjS8rrax2hP99xiD02wLs0iWvLNG4cKz?=
 =?us-ascii?q?d8dUxNo6aU7SNZhPV/BmNA4mBkLemChyaW8e3YJowKvvtsByQn395dtWg1z6t9?=
 =?us-ascii?q?6CBCWeBvny3TvphirhXukOCUzTxPVBNNpzpCiYeMuwNkNLmdvpxJQ32C7gML4m?=
 =?us-ascii?q?SdETwDvd4jAdrq/+hVwd/Wia/3KTEE6M7RppE0CM3dKcbBO30kdVLgHDPEBQ0J?=
 =?us-ascii?q?VzPtKWbFiFFQuOqOsHaSq9xyr5H2k9wRDLBcUk48Ev4IIkp/EdFELo0zFjYtl6?=
 =?us-ascii?q?WziccO/mD4px7UF+tAuZWSZ/uUDunmL369jPEQexoO0PXnLIIfJJ/T1Elra108?=
 =?us-ascii?q?l4PPTRmDFetRqzFsO1dn6H5G92JzGzU+?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ARAADcMPhbh0O0hNFjHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUQcBAQsBgl0MgQInjBFfiyFQAQEGgUmJBY4igXMSAQEYBwwBiFoiNAkNAQM?=
 =?us-ascii?q?BAQEBAQECARMBAQEIDQkIKSMMgjYigmwCJBkBGx0BAwIJAgUQOwMeAhEBBQEjE?=
 =?us-ascii?q?gWDHAGBaAEDCA0Fm0U8jAkWBQEXgncFhC4KGScNWoE3AgYSh0yDD4EcgQ+BB4E?=
 =?us-ascii?q?RgmSDBIgDAokZhgB3To52LgcCDYZvhwiDIAsYiVGHNgEsjiGJPAYCCQcPIYElg?=
 =?us-ascii?q?g1wgQGCOwmCEgwXg0qKcCIygQIDAQEhE4ttAQE?=
X-IPAS-Result: =?us-ascii?q?A0ARAADcMPhbh0O0hNFjHAEBAQQBAQcEAQGBUQcBAQsBgl0?=
 =?us-ascii?q?MgQInjBFfiyFQAQEGgUmJBY4igXMSAQEYBwwBiFoiNAkNAQMBAQEBAQECARMBA?=
 =?us-ascii?q?QEIDQkIKSMMgjYigmwCJBkBGx0BAwIJAgUQOwMeAhEBBQEjEgWDHAGBaAEDCA0?=
 =?us-ascii?q?Fm0U8jAkWBQEXgncFhC4KGScNWoE3AgYSh0yDD4EcgQ+BB4ERgmSDBIgDAokZh?=
 =?us-ascii?q?gB3To52LgcCDYZvhwiDIAsYiVGHNgEsjiGJPAYCCQcPIYElgg1wgQGCOwmCEgw?=
 =?us-ascii?q?Xg0qKcCIygQIDAQEhE4ttAQE?=
X-IronPort-AV: E=Sophos;i="5.56,270,1539673200"; 
   d="scan'208";a="53477596"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 23 Nov 2018 08:57:31 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2633085AbeKXDja (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 23 Nov 2018 22:39:30 -0500
Received: from mail-pl1-f194.google.com ([209.85.214.194]:44661 "EHLO
        mail-pl1-f194.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1729195AbeKXDj3 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Nov 2018 22:39:29 -0500
Received: by mail-pl1-f194.google.com with SMTP id k8so221380pls.11
        for <linux-kernel@vger.kernel.org>; Fri, 23 Nov 2018 08:54:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=from:to:cc:subject:date:message-id;
        bh=WW3J8j9iZqfBD+hZUUX3dXfVR9VrJwd4siyzP2VyQYA=;
        b=hQO6iO8C59nWlhe9pXkXGrxshbku1Fl6s6jjEdYiS+WKFYNXsWkOXf4/6aPBSadsp2
         4XeqPFp35cVQa11Tm+iXbYDXTI6ArHM7w0uEHoT/t1mysKdYyVAWN3f+CphGgUsUChH1
         Y6NlV+1wTUzSh1hIh4Ya/LAiXu0SmW5Y2+A0dWaICWy637G6qtvHTYyke4eCA1FWzcYS
         yBucaBjEfm+RyVSxjclX54wNYCSMvVC5ivnWPYkwk5YhNg5kxlK8GEak+TpXf64ImFuB
         3+8tGOjrMYLJA+BVWmFFDo7r98grPWGlYu7Uf6HePfORYmstOHA89GfnD/dzGXudr0/O
         ofAA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:to:cc:subject:date:message-id;
        bh=WW3J8j9iZqfBD+hZUUX3dXfVR9VrJwd4siyzP2VyQYA=;
        b=AHSMfKD4KT3pVkIqLyCIpu6IK5PhbedYxmAv3D1U6WmAR6KRKBzzZ3/w+z7NYTUWAf
         TXSbQyFuHwonzdeoUc51Vb5FmBsMdLHe62US8tN43/khWD/gBu603XU93PM/lvvYGKaV
         qcqLXen67T5CgSdQrlsiH4tXVY6vIyfDILL17ZuRpjL///UFyo0fAr8y7829Eh1g7eM+
         KgXLU5191Mf5l6ABie+98yfNlmTL6fCTOnr5tvoH2U5SV72zV0VELgGwo//b+2xmqJyw
         u2UafoMsVvfv07iwdGo0Z1jLkeiYQbxeuDYrWQrXNPwaP1e1OGGGiwteCjESk6HhB+uN
         opkA==
X-Gm-Message-State: AA+aEWbaAIvg5c3hJHoEvLasht2WuOJApjGmKZJlKwf7ve9d+yxE8RIU
        38gBh/SfJpGT0uLF3KBeCkQ=
X-Google-Smtp-Source: AFSGD/VIExSGMpleWx80wksg4Ql7daWG6aG+OpJ51gZQCXuzyK532ZIYUIXobaQHjjdSM0yq8ZpwbA==
X-Received: by 2002:a17:902:102b:: with SMTP id b40-v6mr16616767pla.319.1542992068016;
        Fri, 23 Nov 2018 08:54:28 -0800 (PST)
Received: from localhost (68.168.130.77.16clouds.com. [68.168.130.77])
        by smtp.gmail.com with ESMTPSA id v70sm19118326pfa.152.2018.11.23.08.54.25
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Fri, 23 Nov 2018 08:54:26 -0800 (PST)
From: Yangtao Li <tiny.windzz@gmail.com>
To: tglx@linutronix.de, jason@lakedaemon.net, marc.zyngier@arm.com,
        mcoquelin.stm32@gmail.com, alexandre.torgue@st.com,
        marc.w.gonzalez@free.fr, mans@mansr.com
Cc: linux-kernel@vger.kernel.org,
        linux-stm32@st-md-mailman.stormreply.com,
        linux-arm-kernel@lists.infradead.org,
        Yangtao Li <tiny.windzz@gmail.com>
Subject: [PATCH] irqchhip: Convert to using %pOFn instead of device_node.name
Date: Fri, 23 Nov 2018 11:54:18 -0500
Message-Id: <20181123165418.27745-1-tiny.windzz@gmail.com>
X-Mailer: git-send-email 2.17.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

In preparation to remove the node name pointer from struct device_node,
convert printf users to use the %pOFn format specifier.

Signed-off-by: Yangtao Li <tiny.windzz@gmail.com>
---
 drivers/irqchip/irq-mscc-ocelot.c |  6 +++---
 drivers/irqchip/irq-stm32-exti.c  |  6 +++---
 drivers/irqchip/irq-tango.c       | 10 +++++-----
 3 files changed, 11 insertions(+), 11 deletions(-)

diff --git a/drivers/irqchip/irq-mscc-ocelot.c b/drivers/irqchip/irq-mscc-ocelot.c
index b63e40c00a02..88143c0b700c 100644
--- a/drivers/irqchip/irq-mscc-ocelot.c
+++ b/drivers/irqchip/irq-mscc-ocelot.c
@@ -72,7 +72,7 @@ static int __init ocelot_irq_init(struct device_node *node,
 	domain = irq_domain_add_linear(node, OCELOT_NR_IRQ,
 				       &irq_generic_chip_ops, NULL);
 	if (!domain) {
-		pr_err("%s: unable to add irq domain\n", node->name);
+		pr_err("%pOFn: unable to add irq domain\n", node);
 		return -ENOMEM;
 	}
 
@@ -80,14 +80,14 @@ static int __init ocelot_irq_init(struct device_node *node,
 					     "icpu", handle_level_irq,
 					     0, 0, 0);
 	if (ret) {
-		pr_err("%s: unable to alloc irq domain gc\n", node->name);
+		pr_err("%pOFn: unable to alloc irq domain gc\n", node);
 		goto err_domain_remove;
 	}
 
 	gc = irq_get_domain_generic_chip(domain, 0);
 	gc->reg_base = of_iomap(node, 0);
 	if (!gc->reg_base) {
-		pr_err("%s: unable to map resource\n", node->name);
+		pr_err("%pOFn: unable to map resource\n", node);
 		ret = -ENOMEM;
 		goto err_gc_free;
 	}
diff --git a/drivers/irqchip/irq-stm32-exti.c b/drivers/irqchip/irq-stm32-exti.c
index 0a2088e12d96..363385750fa7 100644
--- a/drivers/irqchip/irq-stm32-exti.c
+++ b/drivers/irqchip/irq-stm32-exti.c
@@ -678,8 +678,8 @@ static int __init stm32_exti_init(const struct stm32_exti_drv_data *drv_data,
 	domain = irq_domain_add_linear(node, drv_data->bank_nr * IRQS_PER_BANK,
 				       &irq_exti_domain_ops, NULL);
 	if (!domain) {
-		pr_err("%s: Could not register interrupt domain.\n",
-		       node->name);
+		pr_err("%pOFn: Could not register interrupt domain.\n",
+		       node);
 		ret = -ENOMEM;
 		goto out_unmap;
 	}
@@ -768,7 +768,7 @@ __init stm32_exti_hierarchy_init(const struct stm32_exti_drv_data *drv_data,
 					  host_data);
 
 	if (!domain) {
-		pr_err("%s: Could not register exti domain.\n", node->name);
+		pr_err("%pOFn: Could not register exti domain.\n", node);
 		ret = -ENOMEM;
 		goto out_unmap;
 	}
diff --git a/drivers/irqchip/irq-tango.c b/drivers/irqchip/irq-tango.c
index 580e2d72b9ba..ae28d8648679 100644
--- a/drivers/irqchip/irq-tango.c
+++ b/drivers/irqchip/irq-tango.c
@@ -184,11 +184,11 @@ static int __init tangox_irq_init(void __iomem *base, struct resource *baseres,
 
 	irq = irq_of_parse_and_map(node, 0);
 	if (!irq)
-		panic("%s: failed to get IRQ", node->name);
+		panic("%pOFn: failed to get IRQ", node);
 
 	err = of_address_to_resource(node, 0, &res);
 	if (err)
-		panic("%s: failed to get address", node->name);
+		panic("%pOFn: failed to get address", node);
 
 	chip = kzalloc(sizeof(*chip), GFP_KERNEL);
 	chip->ctl = res.start - baseres->start;
@@ -196,12 +196,12 @@ static int __init tangox_irq_init(void __iomem *base, struct resource *baseres,
 
 	dom = irq_domain_add_linear(node, 64, &irq_generic_chip_ops, chip);
 	if (!dom)
-		panic("%s: failed to create irqdomain", node->name);
+		panic("%pOFn: failed to create irqdomain", node);
 
 	err = irq_alloc_domain_generic_chips(dom, 32, 2, node->name,
 					     handle_level_irq, 0, 0, 0);
 	if (err)
-		panic("%s: failed to allocate irqchip", node->name);
+		panic("%pOFn: failed to allocate irqchip", node);
 
 	tangox_irq_domain_init(dom);
 
@@ -219,7 +219,7 @@ static int __init tangox_of_irq_init(struct device_node *node,
 
 	base = of_iomap(node, 0);
 	if (!base)
-		panic("%s: of_iomap failed", node->name);
+		panic("%pOFn: of_iomap failed", node);
 
 	of_address_to_resource(node, 0, &res);
 
-- 
2.17.0

