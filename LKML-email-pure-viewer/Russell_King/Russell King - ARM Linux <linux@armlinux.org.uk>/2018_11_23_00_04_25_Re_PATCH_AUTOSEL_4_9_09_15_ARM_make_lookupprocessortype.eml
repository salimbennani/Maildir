Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 23 Nov 2018 08:32:52 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga006.jf.intel.com (orsmga006.jf.intel.com [10.7.209.51])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 2EC2D580460;
	Thu, 22 Nov 2018 16:04:38 -0800 (PST)
Received: from orsmga101.jf.intel.com ([10.7.208.22])
  by orsmga006-1.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Nov 2018 16:04:38 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3Ak8u2CRzia5JMJj/XCy+O+j09IxM/srCxBDY+r6Qd?=
 =?us-ascii?q?0e8fLfad9pjvdHbS+e9qxAeQG9mDu7Qc06L/iOPJYSQ4+5GPsXQPItRndiQuro?=
 =?us-ascii?q?EopTEmG9OPEkbhLfTnPGQQFcVGU0J5rTngaRAGUMnxaEfPrXKs8DUcBgvwNRZv?=
 =?us-ascii?q?JuTyB4Xek9m72/q99pHPYAhEniaxba9vJxiqsAvdsdUbj5F/Iagr0BvJpXVIe+?=
 =?us-ascii?q?VSxWx2IF+Yggjx6MSt8pN96ipco/0u+dJOXqX8ZKQ4UKdXDC86PGAv5c3krgfM?=
 =?us-ascii?q?QA2S7XYBSGoWkx5IAw/Y7BHmW5r6ryX3uvZh1CScIMb7Vq4/Vyi84Kh3SR/okC?=
 =?us-ascii?q?YHOCA/8GHLkcx7kaZXrAu8qxBj34LYZYeYP+d8cKzAZ9MXXWRPUMZPWSJcAY28?=
 =?us-ascii?q?YYQAAPYcMulaoYb9vEMOoBmlCAmwGO/j1iNEimPs0KEk1ekqDAHI3BYnH9ILqH?=
 =?us-ascii?q?nasMj1NLwJUe+ryKnIySjIYfZX2Tf754jDbwktquyQULxsdsTa1E8hFwLDjlWN?=
 =?us-ascii?q?po3uIjSY1uAMs2id8uphWvmihHQ9qwF0pjivx8EsipTGh44PzVDE7yp5zJwoJd?=
 =?us-ascii?q?27UUN2Z8OvHpVXtyGfLYR2Q8UiTnlytyYgz70GvZ+7fC4XyJUo3RLfbOaHc4eS?=
 =?us-ascii?q?7hL+V+adOTd4i2x/d72inhq97U+gyuj5Vsmz1lZGtDFFncLUunAWzxzc9NaIRe?=
 =?us-ascii?q?Zh/ki/wjaPyxrf6udaLkAok6fQNp0vwqYom5YNrUjOGjX6lFj4gaOIbEko5+ul?=
 =?us-ascii?q?5/j9brjnpJKQL415hwLkPqkghMCzG+o1PhQUU2SF5Oix17vu9lDjTrpQlP05iK?=
 =?us-ascii?q?zZvYjaJcsFoq65BBdY0pgs6xmhFTeqytcYkmcdLFJDZh2Hi5LlO1bUIPD3Ffu/?=
 =?us-ascii?q?glKsnyl3x/3eILHtHpHAImLenLrvY7px8VNQxQkvwdxF5p9ZCKkNIPfpVU/wsN?=
 =?us-ascii?q?zYAAU5Mwuxw+v/DNV914UeWX+AA6OAM6Pdr0WI5uQxLOmIfYMVvzj8K/476P70?=
 =?us-ascii?q?lnI5h1Adcrez3ZcNa3C3AO5mI0OHbnromNsBFn0KvgUmQOzwlFKCSSJTZ2q1X6?=
 =?us-ascii?q?8k4jE7CYGmApnZSoGinbyMxyO7HpxQZmBbBVGAC3bod4OYW/gSbCKeONNukjsB?=
 =?us-ascii?q?VbK5UY8uyQmutBPmy7pgNufU+jcXtZP/1Ndv4O3fjxEy9SFuAMSb3GGAVGV0nm?=
 =?us-ascii?q?IORz8r06Fzu019ylGf0admh/xUD8Bc5/RMUg0iL57T0/R6C8zuWgLGZtqJSlGm?=
 =?us-ascii?q?Tcu8DTEySdIxxdkOY0FmFtWmjxDD2TeqArAPm7yKApw07rzT33zrK8lhzHbG0b?=
 =?us-ascii?q?Erj0M6TctXKW2mmql/+hDJCI7Sk0WZkKWqeb4G3CHX9meO1m6OvEBeUA5tXqTJ?=
 =?us-ascii?q?R3EfZk3Krdvn4kPOVaOhCbMiMgFZ086NNrNKasH1jVVBXPrjO87RY2Srl2e0BB?=
 =?us-ascii?q?aH3LWMbIXxdmUZ3SXdDlUEkg8J8XaHMwg+Gjmuo2bEADNyElLvZlvm8fNip3Oj?=
 =?us-ascii?q?Uk800waKYlV82LWv5B4am+aQS/MJ0bICoycutTN0EFG539LVDtqAoxFsfKFdYd?=
 =?us-ascii?q?M7/VdG2njVtw17Ppy8Ma9igkQSfBhwv0Przx93EJlPkdA2rHM2ywp/Mb+X30lf?=
 =?us-ascii?q?dzyGx5zwOqfYKm/p/B+xba7bwVXe0NeQ+qcS5/U0sVTjvAe1FkU893VrycVa03?=
 =?us-ascii?q?yZ5p/SFgodTYrxUlor9xh9v7zafig954bT1X1wMam1siXO284zCOsi0Bage9Zf?=
 =?us-ascii?q?MKWLFALpF80aBs6uKPElmlSzbxIEOvxS+7AwP8+8a/SG36urNv56nD26lWRH/J?=
 =?us-ascii?q?x90kWU+iVmTu7HwZkEzO+Y3wedTDj8kUquvdrxmYBHYjESAHGyySzlBI5Xe61z?=
 =?us-ascii?q?cpwHCWaoI82r2Np+g4ThVGJf9F6mH1kGwtOmeQKOb1zh2g1dzUQWoWG9lSSk1T?=
 =?us-ascii?q?B1kjEpobCZ3CzB2OnicBsHOmhWRGhtl1vsII60j8wEU0isdQQmiByl5UPizahB?=
 =?us-ascii?q?uKt/N3XTQVtPfyXuNWFiU7e/uaCYY8FS75MkqyNXX/qmYVCbU7LyvwEV0yf+EG?=
 =?us-ascii?q?RA3jA7cDeqt479nxx7jmKdMXlyoGDYecF22RfQ+tjcSeRN0ToBQSlykSPXCUSk?=
 =?us-ascii?q?P9m14dWUkI/Os+C/V267VpxfazLrzZ6GtCag4W1qABu/n+28m9H9EAg61zP72M?=
 =?us-ascii?q?duVSnSsBn8ZYzr3bygMe17ZkloGEP8681iF4F8iIQwnpIQ2XsdhpmP5noIi2Tz?=
 =?us-ascii?q?MdZa2aL4cnUNQyUGw9rU4AjjxU1iIWiFx4P/VnWB3MRhY8O2bX8R2iI498pKEr?=
 =?us-ascii?q?ub7KRYnStppVq1tQLQbuJ6njsHy/su6XgajvoNuAosyCWdH78TEVNZPSzqixSH?=
 =?us-ascii?q?8dS+oL9La2aodLi6zFB+ksy5DLGevgFcX270epQ4Ei9x9Ml/ME/M32f16oHrY9?=
 =?us-ascii?q?TQadMTthuJkxbPleRVKZQxluYUiipjI27yoXoly+sjhxx0wZ66pJSHK3lq/K+h?=
 =?us-ascii?q?Bx5YNz71aNkJ9jDjk6lehdqW0J61Hpp6BDoLRpToQOmsEDITs/TnKgmPHCc9qn?=
 =?us-ascii?q?edBbrQAwuf5F16oHLIFpChL2uXK2UBzdV+WBmdI1RSgBwTXDU/hJI4FxqlxMr8?=
 =?us-ascii?q?cEdi/TAR50X1qh9NyuJuKhn+XX3TpAauajcoVpefKABa4R1F50fQKcae9P58Hz?=
 =?us-ascii?q?lE/p29qwyAMneUaB5PDWENR0yIHVTjPqS16NnE8uiYAPe+LvTUbbWPr+xeS+mH?=
 =?us-ascii?q?xZa13oR6+DaMM92FPmN+AP0jxkpDQXd5FtzbmzoVTiwYiTnNY9SHpBum+S13s8?=
 =?us-ascii?q?O/8OntWA31/ouCEL9SMdRp+xCrjqaPLe+QhCBlKTlG0pMA32PHyL8a3FQKkSFh?=
 =?us-ascii?q?ayGtEagctS7KVK/RmqhXDwMCayNuLsRI6bgw3hJKOc7dhdP4zbp4jv8zC1dYWl?=
 =?us-ascii?q?3tgMCpZcoWI26jMFPLHlqENLODJTfT2cH4fbu8SaFMjOVTrxCwuSiUE07gPjSA?=
 =?us-ascii?q?ljnlTROvMftLjCGUIhNeopy9cg12BGjnTdLmbAC7MdBtgT03x700mm3FNWoGPT?=
 =?us-ascii?q?dgdENNq6Wa7TlEjfVnB2xB8n1lIPGelCaE9ObYMIgZsPtxDiRwluJX+3A6y7pT?=
 =?us-ascii?q?7CFZS/15girSrthyo164lumD0CZoUB1LqjxTnoKEoV1iObnF9plHQXvE4BMN7W?=
 =?us-ascii?q?CKBxsWvddqFt3vtL5WytXUkKLzKTFC88/b/McGBsjULt6HP2QlMRbzBDHUCw4F?=
 =?us-ascii?q?RyaxNW7Dn0xdjO2S9nqNo5k6sJfsnp8OSr5dVFMtF/IaCl5qHNoNIJpsWjMkkL?=
 =?us-ascii?q?ibjNMH5HakrRnRQtlasY7DVv6IHfrvLzOZ3vF4YE4zyKj4JMw3O5P63QQ2cVBh?=
 =?us-ascii?q?nI3OM0ndR9ZApmtmdABi82tX930rdHAowE/hbkuO4XkcXbv8tyQTwi9/Z/k9vG?=
 =?us-ascii?q?Po4lEqNnLDvi40kU8siZPimz/XbT2nf/T4Zp1fFyeh7xt5CZj8WQsgKFTqxUE?=
 =?us-ascii?q?=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ABAAALQ/dbh0O0hNFiGgEBAQEBAgEBA?=
 =?us-ascii?q?QEHAgEBAQGBUQUBAQEBCwGBMIE5gQInjBGLf4INFJIvhHeBbhkYCwgBhECEEiI?=
 =?us-ascii?q?0CQ0BAwEBAQEBAQIBEwEBAQgNCQgpIwyCNiQBgmEBAQEBAwECNwYBATcBBQkBA?=
 =?us-ascii?q?QoVAwklAwwFKCETBYMcAYIBAQMBCqcWgh+CdgEBBYcWCIwJFz6BQYEQAYMSgxC?=
 =?us-ascii?q?CFIU1oAQJkSQLGIFZiC6HASyYBIFGgg0zGggsBDuCbAmCEotnglhAMoEFAQGMV?=
 =?us-ascii?q?QEB?=
X-IPAS-Result: =?us-ascii?q?A0ABAAALQ/dbh0O0hNFiGgEBAQEBAgEBAQEHAgEBAQGBUQU?=
 =?us-ascii?q?BAQEBCwGBMIE5gQInjBGLf4INFJIvhHeBbhkYCwgBhECEEiI0CQ0BAwEBAQEBA?=
 =?us-ascii?q?QIBEwEBAQgNCQgpIwyCNiQBgmEBAQEBAwECNwYBATcBBQkBAQoVAwklAwwFKCE?=
 =?us-ascii?q?TBYMcAYIBAQMBCqcWgh+CdgEBBYcWCIwJFz6BQYEQAYMSgxCCFIU1oAQJkSQLG?=
 =?us-ascii?q?IFZiC6HASyYBIFGgg0zGggsBDuCbAmCEotnglhAMoEFAQGMVQEB?=
X-IronPort-AV: E=Sophos;i="5.56,267,1539673200"; 
   d="scan'208";a="41932523"
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Unscannable: 2
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 22 Nov 2018 16:04:36 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2439208AbeKWKqY (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 23 Nov 2018 05:46:24 -0500
Received: from pandora.armlinux.org.uk ([78.32.30.218]:42546 "EHLO
        pandora.armlinux.org.uk" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1733280AbeKWKqY (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Nov 2018 05:46:24 -0500
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
        d=armlinux.org.uk; s=pandora-2014; h=Sender:In-Reply-To:Content-Type:
        MIME-Version:References:Message-ID:Subject:Cc:To:From:Date:Reply-To:
        Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:
        Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:
        List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
         bh=EV/6CX4YVSwrMAUO/QgiUIJuemdrfVOOgyIUmTRV2Ac=; b=hLaXA0m6dnZBpZhx9dHaGlOnI
        YpCawVkU9gl8f4s00SKB94xqz9lFdDBKJ//Dz1A1SjA+/B5XRokZ9KKW4VJRjTpfYO60nx73PgoEc
        xlqO3MtTbDtM6ZjAiuqOFBjuLpa9PCEvVlQjAugpQbhVrtyXB0O2NjsSnu+x024fkGocI=;
Received: from n2100.armlinux.org.uk ([fd8f:7570:feb6:1:214:fdff:fe10:4f86]:40483)
        by pandora.armlinux.org.uk with esmtpsa (TLSv1.2:ECDHE-RSA-AES128-GCM-SHA256:128)
        (Exim 4.90_1)
        (envelope-from <linux@armlinux.org.uk>)
        id 1gPyxS-0004o7-JH; Fri, 23 Nov 2018 00:04:30 +0000
Received: from linux by n2100.armlinux.org.uk with local (Exim 4.90_1)
        (envelope-from <linux@n2100.armlinux.org.uk>)
        id 1gPyxP-0007me-Tu; Fri, 23 Nov 2018 00:04:28 +0000
Date: Fri, 23 Nov 2018 00:04:25 +0000
From: Russell King - ARM Linux <linux@armlinux.org.uk>
To: Sasha Levin <sashal@kernel.org>
Cc: stable@vger.kernel.org, linux-kernel@vger.kernel.org
Subject: Re: [PATCH AUTOSEL 4.9 09/15] ARM: make lookup_processor_type()
 non-__init
Message-ID: <20181123000425.GN30658@n2100.armlinux.org.uk>
References: <20181122195621.13776-1-sashal@kernel.org>
 <20181122195621.13776-9-sashal@kernel.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20181122195621.13776-9-sashal@kernel.org>
User-Agent: Mutt/1.5.23 (2014-03-12)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

This, and your patch 11 aren't fixes on their own.  They're part of a
rework for the "ARM: spectre-v2: per-CPU vtables to work around
big.Little systems" patch.  It doesn't make sense to back port these
without that patch, even though they can be applied without.

On Thu, Nov 22, 2018 at 02:56:15PM -0500, Sasha Levin wrote:
> From: Russell King <rmk+kernel@armlinux.org.uk>
> 
> [ Upstream commit 899a42f836678a595f7d2bc36a5a0c2b03d08cbc ]
> 
> Move lookup_processor_type() out of the __init section so it is callable
> from (eg) the secondary startup code during hotplug.
> 
> Reviewed-by: Julien Thierry <julien.thierry@arm.com>
> Signed-off-by: Russell King <rmk+kernel@armlinux.org.uk>
> Signed-off-by: Sasha Levin <sashal@kernel.org>
> ---
>  arch/arm/kernel/head-common.S | 6 +++---
>  1 file changed, 3 insertions(+), 3 deletions(-)
> 
> diff --git a/arch/arm/kernel/head-common.S b/arch/arm/kernel/head-common.S
> index 8733012d231f..7e662bdd5cb3 100644
> --- a/arch/arm/kernel/head-common.S
> +++ b/arch/arm/kernel/head-common.S
> @@ -122,6 +122,9 @@ __mmap_switched_data:
>  	.long	init_thread_union + THREAD_START_SP @ sp
>  	.size	__mmap_switched_data, . - __mmap_switched_data
>  
> +	__FINIT
> +	.text
> +
>  /*
>   * This provides a C-API version of __lookup_processor_type
>   */
> @@ -133,9 +136,6 @@ ENTRY(lookup_processor_type)
>  	ldmfd	sp!, {r4 - r6, r9, pc}
>  ENDPROC(lookup_processor_type)
>  
> -	__FINIT
> -	.text
> -
>  /*
>   * Read processor ID register (CP#15, CR0), and look up in the linker-built
>   * supported processor list.  Note that we can't use the absolute addresses
> -- 
> 2.17.1
> 

-- 
RMK's Patch system: http://www.armlinux.org.uk/developer/patches/
FTTC broadband for 0.8mile line in suburbia: sync at 12.1Mbps down 622kbps up
According to speedtest.net: 11.9Mbps down 500kbps up
