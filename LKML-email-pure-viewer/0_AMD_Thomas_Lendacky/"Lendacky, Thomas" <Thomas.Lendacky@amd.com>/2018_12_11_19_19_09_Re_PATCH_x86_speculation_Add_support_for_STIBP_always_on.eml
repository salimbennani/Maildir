Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 12 Dec 2018 08:55:15 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga006.fm.intel.com (fmsmga006.fm.intel.com [10.253.24.20])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id AB2F0580380;
	Tue, 11 Dec 2018 11:19:23 -0800 (PST)
Received: from orsmga106.jf.intel.com ([10.7.208.65])
  by fmsmga006-1.fm.intel.com with ESMTP; 11 Dec 2018 11:19:23 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3ARDb+KR9Slxw08f9uRHKM819IXTAuvvDOBiVQ1KB9?=
 =?us-ascii?q?1ekQIJqq85mqBkHD//Il1AaPAd2Lraocw8Pt8InYEVQa5piAtH1QOLdtbDQizf?=
 =?us-ascii?q?ssogo7HcSeAlf6JvO5JwYzHcBFSUM3tyrjaRsdF8nxfUDdrWOv5jAOBBr/KRB1?=
 =?us-ascii?q?JuPoEYLOksi7ze+/94HQbglSmDaxfa55IQmrownWqsQYm5ZpJLwryhvOrHtIeu?=
 =?us-ascii?q?BWyn1tKFmOgRvy5dq+8YB6/ShItP0v68BPUaPhf6QlVrNYFygpM3o05MLwqxbO?=
 =?us-ascii?q?SxaE62YGXWUXlhpIBBXF7A3/U5zsvCb2qvZx1S+HNsDtU7s6RSqt4LtqSB/wiS?=
 =?us-ascii?q?cIKTg58H3MisdtiK5XuQ+tqwBjz4LRZoyeKfhwcb7Hfd4CRWRPQNtfVzBPDI2/?=
 =?us-ascii?q?YYsADesBMvpXoYbyvFsOtRmzCBKwBOz00DJEmmP60bE43uknDArI3BYgH9ULsH?=
 =?us-ascii?q?nMotn7MrkdUeaow6bS0TrDbPNX1S/g44bWchAhpvSMUqhrccbf1EIiEB3LjlWX?=
 =?us-ascii?q?qYzgJTyVzf4BvW6F4OpmSO2gkXIoqwJxozW03Mgsj5TGipgJxVDD8CV02YA4Ls?=
 =?us-ascii?q?C2Rk58ZN6rCppQtyeCOot1XMwiWWdotzg+yrEcvp67ZicKxZI6zBDcc/yKa5aE?=
 =?us-ascii?q?7g7nWeqLPDt1imxpdKiiixux7USs0OzxW8us3FpXrydIksPAum4R2xHc8MSKSP?=
 =?us-ascii?q?lw8l281TqX2QDc9OJJLVwxmKfeMJEu3qI8mYQWvEnBEC/7mkv2gaqIeUo6++Wl?=
 =?us-ascii?q?6+Hqbav4qpCBN4J5jBz1PL40lcylG+s4NxADX2iF9uS4073u5VP5QLpUgf0siK?=
 =?us-ascii?q?XZs47VJd4dpqGnBw9ZyIEj6wywDzu+0dQYm2cILE5ddR6Zk4TkP0vCLO32APuh?=
 =?us-ascii?q?mVigjTRmy+zcMrDgAJjBNn3Dn63gfbZ55U5c0g0zzdVH6pJQC7EBJu/zW0DouN?=
 =?us-ascii?q?zbEBA5KQq0zPjjCNlk0YMfV2SPDbGDMK7Jr1+I6fwgI/OWaI8Wpjn9Mf4l6ODq?=
 =?us-ascii?q?jXMjnl8dZ6ap0YMNaH+kBvRmP1mZYX30j9cFEGcKvRQxQPbliV2fSjNTY3eyX6?=
 =?us-ascii?q?Qh5jA0Eo6mDIHDRpyzj7yFxiu0AppWZmVeAFCWDXjob5mEW+sLaC+KIs9uiD0E?=
 =?us-ascii?q?VaS7RI8mzx2utBL6xKBhLurb4SAYsZPj1N5o5+zcjx0y9Dp0D9iD3GGJVW17gm?=
 =?us-ascii?q?QIRzou1qBlvUN90kuD0bR/g/FAF9xT4O1GXh05NZ7byex6DdfyVxnFfteITlam?=
 =?us-ascii?q?X9qnDSswTtI3398BfUJ9F8++gRDE2iqgG6UVmKCTBJwo7qLc2GD8KNxmy3bG06?=
 =?us-ascii?q?khjEMqQtFVOm2knaN/8wnTB4jUk0SWjaqqdKIc3DLT+2eH12aBoEZYUAtoW6Xf?=
 =?us-ascii?q?QX8fflfWrcj+5k7aTL+hE7InPhFFyc6DMKRKbNLpgE5CRPfiPtTefm2wl32xBR?=
 =?us-ascii?q?aO2rODco7qd38B0yXaDUgOixoT8mqeNQgiGiehpHrTAyF0GlLxfUzg6+l+p2m9?=
 =?us-ascii?q?Tk8v0Q6KaUpt1762+h4QgfyRUPcT3rMCuCc8pDR4Ble939TKC9WeowptZrlTYd?=
 =?us-ascii?q?Q44F1fz2LWqxR9PoC8L6BlnlMRbh54v13w2BltCoVPi84qrGg0wwp0Mq+Y1FJB?=
 =?us-ascii?q?dzWF3ZH/ILHXK2/y/AyxZK7SwF3RzNGW+qIX4vQit1rjpB2pFlYl83h/z9lV0n?=
 =?us-ascii?q?6c5pLWDAoSUZP9SFo3+wJ9p7HAZik95oXU1XJ3PKmwsz/C3c8pBeQ/xhaheddf?=
 =?us-ascii?q?LL2LFAvoH8IGAMiuLfQgm0K1YRIcIOBS6Kk0Mtu8ePuCxqGqM/hvnTK8gWtc/Y?=
 =?us-ascii?q?Byz1iD9yx/Su7PwZYI2PWY3gqBVzfhg1atqMH3mYZYZT4MGmqz0zTrBIlUZqdq?=
 =?us-ascii?q?Z4YEFX+uI9GrxtV5n5PsW2NY+ES/CF8c2c6peQCdb1ry3QBL0UQXoHqnmTa3zj?=
 =?us-ascii?q?BukjEpqLaf0zLKw+j4aBUHPWtLTnF4jVjwOYi0k8waXE+wYggzlRuq+Vz1x7JG?=
 =?us-ascii?q?q6R4NWXTR1lHfzL3L217TqS/rL6CbNNR55MytiVXVv+xYVSbSr77vhsb3DnvH2?=
 =?us-ascii?q?pYxDAnaT6qvo/1kAB9iGKYNHxztmbWedlsxRfD49zRXf5Q3jscSCh4kzXXHUW8?=
 =?us-ascii?q?P9+y8NWQlpfDtP2+Vm27Wp1Sdynr0Z2PtC+h6WJ2Bh2/mui5msf7HggizS/7y9?=
 =?us-ascii?q?5qWD3KrBnmeInr1Ke6MeV9cklzHlD86Ml6GoB4koQugpEdwnwahpST/Xoanmb/?=
 =?us-ascii?q?K9Rb2aTibHUTQT4H2cLa4A/g2Ed7NHKG25r5VmmBwstmf9S7YnkZ2iUn48BICa?=
 =?us-ascii?q?eU6qdJnS90olq+sALQbuJxnjYbyfsy9nEah/sFtxYqziWYGroSB1VXPTTwlxSU?=
 =?us-ascii?q?6NCztKZXa3yucbSq1Ep+gMquDLeNogxHXHb5e5EiHTJ/78llMVLM1mHz5Z/geN?=
 =?us-ascii?q?XKcd0TsRiUmQ/aj+dJMJIxiuYKhS1/NGL4vH0lyPQ0gQZg3J6kp4iHN3ti/Lii?=
 =?us-ascii?q?DRFGLD31aNge+jXsjaZYg8aX0JqjHpRnGjUXQpToSeikHy4VtfTiLwyOCiEzqm?=
 =?us-ascii?q?+HGbrDGg+S8Ftmr3XKE5yxNnCYPn8Zzch5RBmGJUxSmwQUXDQ8np4kGQGm3s3h?=
 =?us-ascii?q?cEFl5j8P4l70sAdDyuVtNxPnSGfQuB+oaisoSJiYNBdZ9RtN50DRMcyD9O5zGz?=
 =?us-ascii?q?xY84alrAyMLGybegtJAXsIWkyCG1DsIL2u6cPc/OifA+q0N+HObqmWqexCS/eI?=
 =?us-ascii?q?woqi0ol88DaJKMqPJWNuD+Eh1kpAQHB5GNnZmzMVRCwMjC/Na8+bpBGh+ix4tM?=
 =?us-ascii?q?y/8fLrWB7x6ouLEbddLdJv+xWui6eZK+GQnDp5KSpf1p4UxX7Iz6Uf3EcPiy50?=
 =?us-ascii?q?cTmhC68AtSnLTKLfgaJXCx8bayVuNMpH9a483w9NOdLFhdPxzLJ3kvk1C1JdX1?=
 =?us-ascii?q?z7hs6pfdAKI326NF7fBEaEKrWGJT7Iw8H2e6+8SqdQjOJbtxKuozabDlTjMy+H?=
 =?us-ascii?q?lznoURCvLO5NgDuaPBxYpIGybBJtBXL/Q9Lhbx2xKMV3giEuwb0omnPKMnYRPi?=
 =?us-ascii?q?Jhc0xWtL2f8yNZju97G2xA9XdlKeiEmyCE7+jXMJoWsP1rAjhqmOJe+ng117xV?=
 =?us-ascii?q?7CRcTvxvhCTStsJuo02hkuSX1jpnUR9OpixXi46RoUpiObvW9p9bVHbA/RIN63?=
 =?us-ascii?q?iQChsQq9tkDN3vp75fytzVmK3vLzdC9sre/dEACMjMNMKHLH0hPALpGTHOCgsF?=
 =?us-ascii?q?SD+rNWfHiE1ckPGd7HuVrpchp5jomZoOTKJbVVMvGvMbDERlAMINIJNtUjw4lr?=
 =?us-ascii?q?6biZ1A2X3r5gmBGu1Zs4rBW/bUBu/gYn7NnekaTxgF27X1KcIULIKtnwQoblh8?=
 =?us-ascii?q?gZSPGEfKW91JijNuYxVyo0hX9nV6CGop1AitPges5mIDUP25hBg7jiNgbuk3sj?=
 =?us-ascii?q?Th+VE6IhzNviRmw2crntCwyxScdjL4J6ShGclqCy3xvlN7esfHQwFwZBb0uUFi?=
 =?us-ascii?q?OD7PRKN5hr5sM2tsjVmP6tN0BfdAQPgcM1crzvaNaqBtiAwEpw=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AKAAD7DBBch0O0hNFkGwEBAQEDAQEBB?=
 =?us-ascii?q?wMBAQGBUQYBAQELAYEwUGlzBAsnCoNxg0cDhE+LR0qBYC0Ulz6BJANMEwEYAxA?=
 =?us-ascii?q?BhEAZglUiNAkNAQMBAQEBAQECARMBAQEIDQkIKSMMgjYkAYJhAQEBAQIBAQIgE?=
 =?us-ascii?q?QwBAR0aAQUJAQEBAQgYAgImAgICAS8VEAIEAQ0FBYMcAYFpAw0IAQICmnkCigd?=
 =?us-ascii?q?wgS+CdgEBBYUJGIIJCIELizCBWD6BOIJrhQGDBIJXiy2VUAMEAgKHB4pCHpFAi?=
 =?us-ascii?q?SOPaQIEAgQFAg0BAQWBRoIOcIM8CYISDBeDSoUUhT9BMYEFAQEhiSMBgR4BAQ?=
X-IPAS-Result: =?us-ascii?q?A0AKAAD7DBBch0O0hNFkGwEBAQEDAQEBBwMBAQGBUQYBAQE?=
 =?us-ascii?q?LAYEwUGlzBAsnCoNxg0cDhE+LR0qBYC0Ulz6BJANMEwEYAxABhEAZglUiNAkNA?=
 =?us-ascii?q?QMBAQEBAQECARMBAQEIDQkIKSMMgjYkAYJhAQEBAQIBAQIgEQwBAR0aAQUJAQE?=
 =?us-ascii?q?BAQgYAgImAgICAS8VEAIEAQ0FBYMcAYFpAw0IAQICmnkCigdwgS+CdgEBBYUJG?=
 =?us-ascii?q?IIJCIELizCBWD6BOIJrhQGDBIJXiy2VUAMEAgKHB4pCHpFAiSOPaQIEAgQFAg0?=
 =?us-ascii?q?BAQWBRoIOcIM8CYISDBeDSoUUhT9BMYEFAQEhiSMBgR4BAQ?=
X-IronPort-AV: E=Sophos;i="5.56,343,1539673200"; 
   d="scan'208";a="43642465"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 11 Dec 2018 11:19:21 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727219AbeLKTTO (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Tue, 11 Dec 2018 14:19:14 -0500
Received: from mail-eopbgr720040.outbound.protection.outlook.com ([40.107.72.40]:27460
        "EHLO NAM05-CO1-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726794AbeLKTTN (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Tue, 11 Dec 2018 14:19:13 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3d86I3JNDweQiMaFZQ4rADRAFl/OHBAHita4+BKPbOQ=;
 b=H2pFOaJ733CCjeucW2R/v90auTbzvHu8icyCnBn5YIq4S5o5ZPNXTyWa5Rw+lkhv3ErRFoW1pNZOWWx9H7HX3V5bpDlv89aYeh5neS0jHj4ZpgCVqZ8J93yaE1n4JYfIqdi/XTZ9IMcr4f8V3RpzeJxtmpJGytlWCn5ENyXGMN8=
Received: from SN1PR12MB0175.namprd12.prod.outlook.com (10.162.3.15) by
 SN1PR12MB0909.namprd12.prod.outlook.com (10.164.27.23) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1404.20; Tue, 11 Dec 2018 19:19:10 +0000
Received: from SN1PR12MB0175.namprd12.prod.outlook.com
 ([fe80::bc0e:7f7f:ee65:e2d5]) by SN1PR12MB0175.namprd12.prod.outlook.com
 ([fe80::bc0e:7f7f:ee65:e2d5%6]) with mapi id 15.20.1425.016; Tue, 11 Dec 2018
 19:19:10 +0000
From: "Lendacky, Thomas" <Thomas.Lendacky@amd.com>
To: "x86@kernel.org" <x86@kernel.org>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
CC: Andrea Arcangeli <aarcange@redhat.com>,
        Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
        Jiri Kosina <jkosina@suse.cz>, Ingo Molnar <mingo@redhat.com>,
        Borislav Petkov <bp@alien8.de>,
        Thomas Gleixner <tglx@linutronix.de>,
        Tim Chen <tim.c.chen@linux.intel.com>,
        David Woodhouse <dwmw@amazon.co.uk>
Subject: Re: [PATCH] x86/speculation: Add support for STIBP always-on
 preferred mode
Thread-Topic: [PATCH] x86/speculation: Add support for STIBP always-on
 preferred mode
Thread-Index: AQHUkYUdUUqHSw55jUaGOaWlduXUMaV56boA
Date: Tue, 11 Dec 2018 19:19:09 +0000
Message-ID: <3308b5d2-0c59-fa33-472b-f56633d39575@amd.com>
References: <20181211190959.28321.56433.stgit@tlendack-t1.amdoffice.net>
In-Reply-To: <20181211190959.28321.56433.stgit@tlendack-t1.amdoffice.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: SN4PR0201CA0022.namprd02.prod.outlook.com
 (2603:10b6:803:2b::32) To SN1PR12MB0175.namprd12.prod.outlook.com
 (2a01:111:e400:5143::15)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Thomas.Lendacky@amd.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.77.1]
x-ms-publictraffictype: Email
x-microsoft-exchange-diagnostics: 1;SN1PR12MB0909;20:Io0/tEHetG07zpYMUkWNcCziLndT7xBhn2IRSVEpNQP1/8Im69fDitQRpSHuLc/r8ipOCtjVZtICH9vEukqq8exsyZVsZkgJcFZhV4xBdjnLkk4gi7rP5HhM1Px9Cy/TnikTmDSp1PHks5OwRz4hwcOldREBdQzCp8wAP/o3oNSaqNEqf/pnf56JJbN7rRWHhQPK+zhAFZp5Xr5HR0RSucp2GfuHUmf9I5LEjqud8aFbfJ5GaHAiR0WAX/0Fdxj9
x-ms-office365-filtering-correlation-id: 6933fb7e-7ea3-4404-22e6-08d65f9d86c2
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390098)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600074)(711020)(4618075)(2017052603328)(7153060)(7193020);SRVR:SN1PR12MB0909;
x-ms-traffictypediagnostic: SN1PR12MB0909:
x-microsoft-antispam-prvs: <SN1PR12MB090987DB117F71EBF8E1751DECA60@SN1PR12MB0909.namprd12.prod.outlook.com>
x-ms-exchange-senderadcheck: 1
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(8211001083)(3230017)(999002)(6040522)(2401047)(5005006)(8121501046)(3231472)(944501520)(52105112)(3002001)(10201501046)(93006095)(93001095)(6055026)(148016)(149066)(150057)(6041310)(20161123558120)(20161123562045)(20161123564045)(20161123560045)(201703131423095)(201702281528075)(20161123555045)(201703061421075)(201703061406153)(201708071742011)(7699051)(76991095);SRVR:SN1PR12MB0909;BCL:0;PCL:0;RULEID:;SRVR:SN1PR12MB0909;
x-forefront-prvs: 08831F51DC
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(376002)(346002)(136003)(396003)(366004)(39860400002)(189003)(199004)(31686004)(486006)(81166006)(5660300001)(6116002)(7736002)(6512007)(3846002)(14444005)(53936002)(71200400001)(2906002)(305945005)(256004)(6436002)(106356001)(68736007)(36756003)(76176011)(476003)(478600001)(4326008)(229853002)(71190400001)(6246003)(25786009)(6486002)(72206003)(14454004)(97736004)(26005)(105586002)(2616005)(186003)(102836004)(52116002)(8936002)(53546011)(386003)(11346002)(31696002)(7416002)(6506007)(81156014)(8676002)(86362001)(316002)(110136005)(54906003)(446003)(66066001)(2501003)(99286004);DIR:OUT;SFP:1101;SCL:1;SRVR:SN1PR12MB0909;H:SN1PR12MB0175.namprd12.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;MX:1;A:1;
x-microsoft-antispam-message-info: 6ixTA/GZ8DqP6lLHWy3TbUkMQcvPqtjzDR7Ioo+PMI6uCGGer4onPsfRz1PlB3kz69KQ1NX/9NumbXyken5WaH/rg4yYF2O36Jje5rTbt5j7Xs2BtJ+uy1XvSvXYFhLObNCRbpJv7tyK2zRy36Ysq+qL5ALCWDlsWayScbbjMf+CWsvXi7vyR+8FC4lHO2uKqdbrf3WZSPAjnJd0R3qcpT4ZxXYDKbA8ZeZWx8avwln075lh6xLSKsNWbVSYkSsm4J6Z8pFeKH/eJVRakQ3r0ZZNwj8vqeV1vg0QMqv7BFoRvNoFzWmL2nAiFCTBwQ+Q
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-ID: <43CFFF97D8ED39428FB825EDB2E403AC@namprd12.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6933fb7e-7ea3-4404-22e6-08d65f9d86c2
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Dec 2018 19:19:09.8680
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN1PR12MB0909
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

DQoNCk9uIDEyLzExLzIwMTggMDE6MTAgUE0sIExlbmRhY2t5LCBUaG9tYXMgd3JvdGU6DQo+IERp
ZmZlcmVudCBBTUQgcHJvY2Vzc29ycyBtYXkgaGF2ZSBkaWZmZXJlbnQgaW1wbGVtZW50YXRpb25z
IG9mIFNUSUJQLg0KPiBXaGVuIFNUSUJQIGlzIGNvbmRpdGlvbmFsbHkgZW5hYmxlZCwgc29tZSBp
bXBsZW1lbnRhdGlvbnMgd291bGQgYmVuZWZpdA0KPiBmcm9tIGhhdmluZyBTVElCUCBhbHdheXMg
b24gaW5zdGVhZCBvZiB0b2dnbGluZyB0aGUgU1RJQlAgYml0IHRocm91Z2ggTVNSDQo+IHdyaXRl
cy4gVGhpcyBwcmVmZXJlbmNlIGlzIGFkdmVydGlzZWQgdGhyb3VnaCBhIENQVUlEIGZlYXR1cmUg
Yml0Lg0KPiANCj4gV2hlbiBjb25kaXRpb25hbCBTVElCUCBzdXBwb3J0IGlzIHJlcXVlc3RlZCBh
dCBib290IGFuZCB0aGUgQ1BVIGFkdmVydGlzZXMNCj4gU1RJQlAgYWx3YXlzLW9uIG1vZGUgYXMg
cHJlZmVycmVkLCBzd2l0Y2ggdG8gU1RJQlAgIm9uIiBzdXBwb3J0LiBUbyBzaG93DQo+IHRoYXQg
dGhpcyB0cmFuc2l0aW9uIGhhcyBvY2N1cnJlZCwgY3JlYXRlIGEgbmV3IHNwZWN0cmVfdjJfdXNl
cl9taXRpZ2F0aW9uDQo+IHZhbHVlIGFuZCBhIG5ldyBzcGVjdHJlX3YyX3VzZXJfc3RyaW5ncyBt
ZXNzYWdlLiBUaGUgbmV3IG1pdGlnYXRpb24gdmFsdWUNCj4gaXMgdXNlZCBpbiBzcGVjdHJlX3Yy
X3VzZXJfc2VsZWN0X21pdGlnYXRpb24oKSB0byBwcmludCB0aGUgbmV3IG1pdGlnYXRpb24NCj4g
bWVzc2FnZSBhcyB3ZWxsIGFzIHRvIHJldHVybiBhIG5ldyBzdHJpbmcgZnJvbSBzdGlicF9zdGF0
ZSgpLg0KDQpBbHRlcm5hdGl2ZWx5LCBJIGNhbiByZXVzZSBTUEVDVFJFX1YyX1VTRVJfU1RSSUNU
IGFuZCBpc3N1ZSBwcl9pbmZvX29uY2UoKQ0KdG8gc2hvdyB0aGF0IHRoZSBtZXRob2QgaGFzIGJl
ZW4gc3dpdGNoZWQuICBUaGlzIHdvdWxkIHJlZHVjZSB0aGUgY2hhbmdlcw0KdG8gdGhlIGNvZGUs
IGJ1dCB0aGVuIHRoZSBzeXNmcyBpbmZvcm1hdGlvbiBkb2Vzbid0IHNob3cgdGhlIHN3aXRjaCAo
d2hpY2gNCm1heSBiZSBqdXN0IGZpbmUpLg0KDQpBbHNvLCBJJ20gb3BlbiB0byB0aGUgd29yZGlu
ZyBvZiB0aGUgbWVzc2FnZXMgaWYgdGhlIGRlY2lzaW9uIGlzIHRvIHN0aWNrDQp3aXRoIFNQRUNU
UkVfVjJfVVNFUl9TVFJJQ1RfUFJFRkVSUkVELg0KDQpUaGFua3MsDQpUb20NCg0KPiANCj4gU2ln
bmVkLW9mZi1ieTogVG9tIExlbmRhY2t5IDx0aG9tYXMubGVuZGFja3lAYW1kLmNvbT4NCj4gLS0t
DQo+IA0KPiBUaGlzIHBhdGNoIGlzIGFnYWluc3QgdGhlIHg4Ni9wdGkgYnJhbmNoIG9mIHRoZSB0
aXAgdHJlZToNCj4gICBnaXQ6Ly9naXQua2VybmVsLm9yZy9wdWIvc2NtL2xpbnV4L2tlcm5lbC9n
aXQvdGlwL3RpcC5naXQgeDg2L3B0aQ0KPiANCj4gIGFyY2gveDg2L2luY2x1ZGUvYXNtL2NwdWZl
YXR1cmVzLmggICB8ICAgIDEgKw0KPiAgYXJjaC94ODYvaW5jbHVkZS9hc20vbm9zcGVjLWJyYW5j
aC5oIHwgICAgMSArDQo+ICBhcmNoL3g4Ni9rZXJuZWwvY3B1L2J1Z3MuYyAgICAgICAgICAgfCAg
IDI4ICsrKysrKysrKysrKysrKysrKysrKystLS0tLS0NCj4gIDMgZmlsZXMgY2hhbmdlZCwgMjQg
aW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkNCj4gDQo+IGRpZmYgLS1naXQgYS9hcmNoL3g4
Ni9pbmNsdWRlL2FzbS9jcHVmZWF0dXJlcy5oIGIvYXJjaC94ODYvaW5jbHVkZS9hc20vY3B1ZmVh
dHVyZXMuaA0KPiBpbmRleCAyOGM0YTUwLi5kZjhlOTRlMiAxMDA2NDQNCj4gLS0tIGEvYXJjaC94
ODYvaW5jbHVkZS9hc20vY3B1ZmVhdHVyZXMuaA0KPiArKysgYi9hcmNoL3g4Ni9pbmNsdWRlL2Fz
bS9jcHVmZWF0dXJlcy5oDQo+IEBAIC0yODQsNiArMjg0LDcgQEANCj4gICNkZWZpbmUgWDg2X0ZF
QVRVUkVfQU1EX0lCUEIJCSgxMyozMisxMikgLyogIiIgSW5kaXJlY3QgQnJhbmNoIFByZWRpY3Rp
b24gQmFycmllciAqLw0KPiAgI2RlZmluZSBYODZfRkVBVFVSRV9BTURfSUJSUwkJKDEzKjMyKzE0
KSAvKiAiIiBJbmRpcmVjdCBCcmFuY2ggUmVzdHJpY3RlZCBTcGVjdWxhdGlvbiAqLw0KPiAgI2Rl
ZmluZSBYODZfRkVBVFVSRV9BTURfU1RJQlAJCSgxMyozMisxNSkgLyogIiIgU2luZ2xlIFRocmVh
ZCBJbmRpcmVjdCBCcmFuY2ggUHJlZGljdG9ycyAqLw0KPiArI2RlZmluZSBYODZfRkVBVFVSRV9B
TURfU1RJQlBfQUxXQVlTX09OCSgxMyozMisxNykgLyogIiIgU2luZ2xlIFRocmVhZCBJbmRpcmVj
dCBCcmFuY2ggUHJlZGljdG9ycyBhbHdheXMtb24gcHJlZmVycmVkICovDQo+ICAjZGVmaW5lIFg4
Nl9GRUFUVVJFX0FNRF9TU0JECQkoMTMqMzIrMjQpIC8qICIiIFNwZWN1bGF0aXZlIFN0b3JlIEJ5
cGFzcyBEaXNhYmxlICovDQo+ICAjZGVmaW5lIFg4Nl9GRUFUVVJFX1ZJUlRfU1NCRAkJKDEzKjMy
KzI1KSAvKiBWaXJ0dWFsaXplZCBTcGVjdWxhdGl2ZSBTdG9yZSBCeXBhc3MgRGlzYWJsZSAqLw0K
PiAgI2RlZmluZSBYODZfRkVBVFVSRV9BTURfU1NCX05PCQkoMTMqMzIrMjYpIC8qICIiIFNwZWN1
bGF0aXZlIFN0b3JlIEJ5cGFzcyBpcyBmaXhlZCBpbiBoYXJkd2FyZS4gKi8NCj4gZGlmZiAtLWdp
dCBhL2FyY2gveDg2L2luY2x1ZGUvYXNtL25vc3BlYy1icmFuY2guaCBiL2FyY2gveDg2L2luY2x1
ZGUvYXNtL25vc3BlYy1icmFuY2guaA0KPiBpbmRleCAwMzJiNjAwLi5kYWQxMmI3IDEwMDY0NA0K
PiAtLS0gYS9hcmNoL3g4Ni9pbmNsdWRlL2FzbS9ub3NwZWMtYnJhbmNoLmgNCj4gKysrIGIvYXJj
aC94ODYvaW5jbHVkZS9hc20vbm9zcGVjLWJyYW5jaC5oDQo+IEBAIC0yMzIsNiArMjMyLDcgQEAg
ZW51bSBzcGVjdHJlX3YyX21pdGlnYXRpb24gew0KPiAgZW51bSBzcGVjdHJlX3YyX3VzZXJfbWl0
aWdhdGlvbiB7DQo+ICAJU1BFQ1RSRV9WMl9VU0VSX05PTkUsDQo+ICAJU1BFQ1RSRV9WMl9VU0VS
X1NUUklDVCwNCj4gKwlTUEVDVFJFX1YyX1VTRVJfU1RSSUNUX1BSRUZFUlJFRCwNCj4gIAlTUEVD
VFJFX1YyX1VTRVJfUFJDVEwsDQo+ICAJU1BFQ1RSRV9WMl9VU0VSX1NFQ0NPTVAsDQo+ICB9Ow0K
PiBkaWZmIC0tZ2l0IGEvYXJjaC94ODYva2VybmVsL2NwdS9idWdzLmMgYi9hcmNoL3g4Ni9rZXJu
ZWwvY3B1L2J1Z3MuYw0KPiBpbmRleCA1ODY4OWFjLi5lNTNjZWZhIDEwMDY0NA0KPiAtLS0gYS9h
cmNoL3g4Ni9rZXJuZWwvY3B1L2J1Z3MuYw0KPiArKysgYi9hcmNoL3g4Ni9rZXJuZWwvY3B1L2J1
Z3MuYw0KPiBAQCAtMjYyLDEwICsyNjIsMTEgQEAgZW51bSBzcGVjdHJlX3YyX3VzZXJfY21kIHsN
Cj4gIH07DQo+ICANCj4gIHN0YXRpYyBjb25zdCBjaGFyICogY29uc3Qgc3BlY3RyZV92Ml91c2Vy
X3N0cmluZ3NbXSA9IHsNCj4gLQlbU1BFQ1RSRV9WMl9VU0VSX05PTkVdCQk9ICJVc2VyIHNwYWNl
OiBWdWxuZXJhYmxlIiwNCj4gLQlbU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF0JPSAiVXNlciBzcGFj
ZTogTWl0aWdhdGlvbjogU1RJQlAgcHJvdGVjdGlvbiIsDQo+IC0JW1NQRUNUUkVfVjJfVVNFUl9Q
UkNUTF0JCT0gIlVzZXIgc3BhY2U6IE1pdGlnYXRpb246IFNUSUJQIHZpYSBwcmN0bCIsDQo+IC0J
W1NQRUNUUkVfVjJfVVNFUl9TRUNDT01QXQk9ICJVc2VyIHNwYWNlOiBNaXRpZ2F0aW9uOiBTVElC
UCB2aWEgc2VjY29tcCBhbmQgcHJjdGwiLA0KPiArCVtTUEVDVFJFX1YyX1VTRVJfTk9ORV0JCQk9
ICJVc2VyIHNwYWNlOiBWdWxuZXJhYmxlIiwNCj4gKwlbU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF0J
CT0gIlVzZXIgc3BhY2U6IE1pdGlnYXRpb246IFNUSUJQIHByb3RlY3Rpb24iLA0KPiArCVtTUEVD
VFJFX1YyX1VTRVJfU1RSSUNUX1BSRUZFUlJFRF0JPSAiVXNlciBzcGFjZTogTWl0aWdhdGlvbjog
U1RJQlAgYWx3YXlzLW9uIHByZWZlcnJlZCBwcm90ZWN0aW9uIiwNCj4gKwlbU1BFQ1RSRV9WMl9V
U0VSX1BSQ1RMXQkJCT0gIlVzZXIgc3BhY2U6IE1pdGlnYXRpb246IFNUSUJQIHZpYSBwcmN0bCIs
DQo+ICsJW1NQRUNUUkVfVjJfVVNFUl9TRUNDT01QXQkJPSAiVXNlciBzcGFjZTogTWl0aWdhdGlv
bjogU1RJQlAgdmlhIHNlY2NvbXAgYW5kIHByY3RsIiwNCj4gIH07DQo+ICANCj4gIHN0YXRpYyBj
b25zdCBzdHJ1Y3Qgew0KPiBAQCAtMzU1LDYgKzM1NiwxNSBAQCBzdGF0aWMgdm9pZCBfX2luaXQg
c3BlY192Ml91c2VyX3ByaW50X2NvbmQoY29uc3QgY2hhciAqcmVhc29uLCBib29sIHNlY3VyZSkN
Cj4gIAkJYnJlYWs7DQo+ICAJfQ0KPiAgDQo+ICsJLyoNCj4gKwkgKiBBdCB0aGlzIHBvaW50LCBh
biBTVElCUCBtb2RlIG90aGVyIHRoYW4gIm9mZiIgaGFzIGJlZW4gc2V0Lg0KPiArCSAqIElmIFNU
SUJQIHN1cHBvcnQgaXMgbm90IGJlaW5nIGZvcmNlZCwgY2hlY2sgaWYgU1RJQlAgYWx3YXlzLW9u
DQo+ICsJICogaXMgcHJlZmVycmVkLg0KPiArCSAqLw0KPiArCWlmIChtb2RlICE9IFNQRUNUUkVf
VjJfVVNFUl9TVFJJQ1QgJiYNCj4gKwkgICAgYm9vdF9jcHVfaGFzKFg4Nl9GRUFUVVJFX0FNRF9T
VElCUF9BTFdBWVNfT04pKQ0KPiArCQltb2RlID0gU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF9QUkVG
RVJSRUQ7DQo+ICsNCj4gIAkvKiBJbml0aWFsaXplIEluZGlyZWN0IEJyYW5jaCBQcmVkaWN0aW9u
IEJhcnJpZXIgKi8NCj4gIAlpZiAoYm9vdF9jcHVfaGFzKFg4Nl9GRUFUVVJFX0lCUEIpKSB7DQo+
ICAJCXNldHVwX2ZvcmNlX2NwdV9jYXAoWDg2X0ZFQVRVUkVfVVNFX0lCUEIpOw0KPiBAQCAtNjEw
LDYgKzYyMCw3IEBAIHZvaWQgYXJjaF9zbXRfdXBkYXRlKHZvaWQpDQo+ICAJY2FzZSBTUEVDVFJF
X1YyX1VTRVJfTk9ORToNCj4gIAkJYnJlYWs7DQo+ICAJY2FzZSBTUEVDVFJFX1YyX1VTRVJfU1RS
SUNUOg0KPiArCWNhc2UgU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF9QUkVGRVJSRUQ6DQo+ICAJCXVw
ZGF0ZV9zdGlicF9zdHJpY3QoKTsNCj4gIAkJYnJlYWs7DQo+ICAJY2FzZSBTUEVDVFJFX1YyX1VT
RVJfUFJDVEw6DQo+IEBAIC04MTIsNyArODIzLDggQEAgc3RhdGljIGludCBpYl9wcmN0bF9zZXQo
c3RydWN0IHRhc2tfc3RydWN0ICp0YXNrLCB1bnNpZ25lZCBsb25nIGN0cmwpDQo+ICAJCSAqIElu
ZGlyZWN0IGJyYW5jaCBzcGVjdWxhdGlvbiBpcyBhbHdheXMgZGlzYWJsZWQgaW4gc3RyaWN0DQo+
ICAJCSAqIG1vZGUuDQo+ICAJCSAqLw0KPiAtCQlpZiAoc3BlY3RyZV92Ml91c2VyID09IFNQRUNU
UkVfVjJfVVNFUl9TVFJJQ1QpDQo+ICsJCWlmIChzcGVjdHJlX3YyX3VzZXIgPT0gU1BFQ1RSRV9W
Ml9VU0VSX1NUUklDVCB8fA0KPiArCQkgICAgc3BlY3RyZV92Ml91c2VyID09IFNQRUNUUkVfVjJf
VVNFUl9TVFJJQ1RfUFJFRkVSUkVEKQ0KPiAgCQkJcmV0dXJuIC1FUEVSTTsNCj4gIAkJdGFza19j
bGVhcl9zcGVjX2liX2Rpc2FibGUodGFzayk7DQo+ICAJCXRhc2tfdXBkYXRlX3NwZWNfdGlmKHRh
c2spOw0KPiBAQCAtODI1LDcgKzgzNyw4IEBAIHN0YXRpYyBpbnQgaWJfcHJjdGxfc2V0KHN0cnVj
dCB0YXNrX3N0cnVjdCAqdGFzaywgdW5zaWduZWQgbG9uZyBjdHJsKQ0KPiAgCQkgKi8NCj4gIAkJ
aWYgKHNwZWN0cmVfdjJfdXNlciA9PSBTUEVDVFJFX1YyX1VTRVJfTk9ORSkNCj4gIAkJCXJldHVy
biAtRVBFUk07DQo+IC0JCWlmIChzcGVjdHJlX3YyX3VzZXIgPT0gU1BFQ1RSRV9WMl9VU0VSX1NU
UklDVCkNCj4gKwkJaWYgKHNwZWN0cmVfdjJfdXNlciA9PSBTUEVDVFJFX1YyX1VTRVJfU1RSSUNU
IHx8DQo+ICsJCSAgICBzcGVjdHJlX3YyX3VzZXIgPT0gU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF9Q
UkVGRVJSRUQpDQo+ICAJCQlyZXR1cm4gMDsNCj4gIAkJdGFza19zZXRfc3BlY19pYl9kaXNhYmxl
KHRhc2spOw0KPiAgCQlpZiAoY3RybCA9PSBQUl9TUEVDX0ZPUkNFX0RJU0FCTEUpDQo+IEBAIC04
OTYsNiArOTA5LDcgQEAgc3RhdGljIGludCBpYl9wcmN0bF9nZXQoc3RydWN0IHRhc2tfc3RydWN0
ICp0YXNrKQ0KPiAgCQkJcmV0dXJuIFBSX1NQRUNfUFJDVEwgfCBQUl9TUEVDX0RJU0FCTEU7DQo+
ICAJCXJldHVybiBQUl9TUEVDX1BSQ1RMIHwgUFJfU1BFQ19FTkFCTEU7DQo+ICAJY2FzZSBTUEVD
VFJFX1YyX1VTRVJfU1RSSUNUOg0KPiArCWNhc2UgU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF9QUkVG
RVJSRUQ6DQo+ICAJCXJldHVybiBQUl9TUEVDX0RJU0FCTEU7DQo+ICAJZGVmYXVsdDoNCj4gIAkJ
cmV0dXJuIFBSX1NQRUNfTk9UX0FGRkVDVEVEOw0KPiBAQCAtMTA4OSw2ICsxMTAzLDggQEAgc3Rh
dGljIGNoYXIgKnN0aWJwX3N0YXRlKHZvaWQpDQo+ICAJCXJldHVybiAiLCBTVElCUDogZGlzYWJs
ZWQiOw0KPiAgCWNhc2UgU1BFQ1RSRV9WMl9VU0VSX1NUUklDVDoNCj4gIAkJcmV0dXJuICIsIFNU
SUJQOiBmb3JjZWQiOw0KPiArCWNhc2UgU1BFQ1RSRV9WMl9VU0VSX1NUUklDVF9QUkVGRVJSRUQ6
DQo+ICsJCXJldHVybiAiLCBTVElCUDogYWx3YXlzLW9uIHByZWZlcnJlZCI7DQo+ICAJY2FzZSBT
UEVDVFJFX1YyX1VTRVJfUFJDVEw6DQo+ICAJY2FzZSBTUEVDVFJFX1YyX1VTRVJfU0VDQ09NUDoN
Cj4gIAkJaWYgKHN0YXRpY19rZXlfZW5hYmxlZCgmc3dpdGNoX3RvX2NvbmRfc3RpYnApKQ0KPiAN
Cg==
