Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 07 Dec 2018 08:48:44 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga004.fm.intel.com (fmsmga004.fm.intel.com [10.253.24.48])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 67E6258042F;
	Thu,  6 Dec 2018 06:59:24 -0800 (PST)
Received: from orsmga103.jf.intel.com ([10.7.208.35])
  by fmsmga004-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 06 Dec 2018 06:59:23 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AG8fArRKkozpgth7LK9mcpTZWNBhigK39O0sv0rFi?=
 =?us-ascii?q?tYgUL//4rarrMEGX3/hxlliBBdydt6oUzbKO+4nbGkU4qa6bt34DdJEeHzQksu?=
 =?us-ascii?q?4x2zIaPcieFEfgJ+TrZSFpVO5LVVti4m3peRMNQJW2aFLduGC94iAPERvjKwV1?=
 =?us-ascii?q?Ov71GonPhMiryuy+4ZLebxlLiTanfb9+MAi9oBnMuMURnYZsMLs6xAHTontPde?=
 =?us-ascii?q?RWxGdoKkyWkh3h+Mq+/4Nt/jpJtf45+MFOTav1f6IjTbxFFzsmKHw65NfqtRbY?=
 =?us-ascii?q?UwSC4GYXX3gMnRpJBwjF6wz6Xov0vyDnuOdxxDWWMMvrRr0vRz+s87lkRwPpiC?=
 =?us-ascii?q?cfNj427mfXitBrjKlGpB6tvgFzz5LIbI2QMvd1Y6HTcs4ARWdZXshfSTFPDI2/?=
 =?us-ascii?q?YYUIDeUBM+hXoIbhqFUBthu+HQuhCfjzyjJLiHL6wbc33v4jHAzAwQcuH8gOsH?=
 =?us-ascii?q?PRrNjtNakSS/66zKbVxjvGdfNW3i3y6IjRfh4ju/6MR65wcc/LxkkpCgjIiVqQ?=
 =?us-ascii?q?qZb7MDOa1eQNs3OW7+5hVeKplm4mpA9xoj+yxscql4bGnJ4VylHD9SV/2oo1Is?=
 =?us-ascii?q?e4SEFibNOiDZBeuSaaN45sTcMjRWFloCI6yrwAuZ6mcykG0ZEnxx/Ha/ycaYSI?=
 =?us-ascii?q?5QjjVOmXLDxlh3xlYKqyiwiu/UWk0OHwS8e53EhQoiZYkdTAqmoB2h3R58SfSf?=
 =?us-ascii?q?Zw8F2t1DWO2gzJ6exJJVo4mbfHJ5MjxLM7i4Advl7ZHiDsnUX7lK+WeVsg+uiv?=
 =?us-ascii?q?8+nnfLrmqYGGN4NuiQHxLL4umsqhDuQ8KAQOWHKb+euk2L3i+032XqlKg+Uonq?=
 =?us-ascii?q?XFtJ3WP9kXq6CnDwNPz4ou6AqzAy2n3dkahXUHKUhKeBODj4jnIVHOJ/X4AO+7?=
 =?us-ascii?q?g1Stljdr2v/HMqTiAprTNHjDlqnufbJk505bxgszy85Q54hPB7EfL/L8RFXxuM?=
 =?us-ascii?q?bbDhAnKQy0xfjoCNFn2oMZQ2KPDbeVMLnOvl+Q+uIvP+6MaZcRuDb8KPgq+eTi?=
 =?us-ascii?q?jHAkmVIGeamp3J0XaG23H/h8IkWZZ2bsjckFEWsQogU+S+nqgkWYUTFPf3ayQ7?=
 =?us-ascii?q?485jYjBYKmF4jDR5ytj6aG3CuhHp1We3pJClaDEXrzc4WEWvEMaD+dI8N7kzwE?=
 =?us-ascii?q?U6ShRJEl1R20qAD6zL9nJPLO+iIErZLjyMR15+rLmBEw8jx7Ed6R02KKT2FymG?=
 =?us-ascii?q?MIQCQ73KR+oUx711eC3rJ0g/1eFdxP+fxJVh02OoLbz+x/E9ryQB7Ofs+VSFa6?=
 =?us-ascii?q?RdWrGSs+Tskxw98JYEZxAc+igQrB3yexB78VlrqLBIE7867G3njxIdp9xGjC1K?=
 =?us-ascii?q?U7k1YmRc5PP3W8hqFj7wjTG5LJk0KBmqapb6sc2jTB9GOCzWWUukFYXxV9UaHE?=
 =?us-ascii?q?XXAZe0vXos715kLET7+yF7snNhFNxtKFKqtPctfpl0lJRO//ONTCZGK8g3q/Cg?=
 =?us-ascii?q?yWxrySdobqe38S3CPGCEcalQAf+nKGNQs7BieluG/eCD1uFVTyY0Lj6+V+qXW7?=
 =?us-ascii?q?TlMqwAGOdUFuy721+hsNj/yGV/wTxq4EuDsmqzhsAVmyxczWBMSaqwphZqpcZ8?=
 =?us-ascii?q?g970lB1W/Cswx9P5qgL71th1IEcgR3uV/u2AtzColajccqq3YqxhJoKa2EyFNB?=
 =?us-ascii?q?ay+Y3ZfoN73LK2ny+Reva7LW2lDeytqW5r0D6PMiq1XnvQGpEEUi/m5j09lU1X?=
 =?us-ascii?q?uc+5rLABATUZL3TkY46Rx6q6vGbSk64oPezWdsPrWssj/ex9IpA/MoxQykf9hB?=
 =?us-ascii?q?P6KLCg/zH9cBCMizNeMlgV6pbhEDPOBM76M0O8Kmd/2b2K+kJupgnTSmjXhZ74?=
 =?us-ascii?q?B5yE6D6y18SuvQ1ZYf3/6YxheHVyv7jFq5ssH3hJpIai0IEmu+ySjrHohRZqJp?=
 =?us-ascii?q?cIYPCGeuJdC3x9pki57sXX5Y6ECsB1cc1MC1fhqSakT33RdM2kQPvXynhSy4wi?=
 =?us-ascii?q?RukzEosqWQxjbOzPnldBYdPG5EWnNijVb1LYeold8aWFWnYBYzlBui40b33Kxb?=
 =?us-ascii?q?pKV5L2nOTkZEZSn2L2d+UqSusrqOedJA6JQtsS9PSuSzfUiaSqLhoxsdyy7iH2?=
 =?us-ascii?q?peyCo7dj2woZX5ghp6hXmZLHZyqnrZZM5xyQ3e5NzaWf5ewD4GSDNkhjnQA1i2?=
 =?us-ascii?q?J8Op8smMl5ffruC+UHqsVp9JfinxzoOAtyy76XdxARKlnPCzmdznEQ4k3i/9zN?=
 =?us-ascii?q?RqUSTIrBDhYojkzai6MORnflV2C1/48cZ1BoZ+ko4ojpEKxXcanomV/WYAkWrr?=
 =?us-ascii?q?MdRUw6X+YGAPRT4Kxd7Y+wzl2ExlLnKUyIP1THSdws19Z9akZmMawD4y78dPCK?=
 =?us-ascii?q?2M9rxLgTN1okakrQLWefV9nS0Syfo05H4anuEGogwtziqGD7AWHElYOzHslhuS?=
 =?us-ascii?q?49C/qqVXeHigcbyq2EVimtChCamIohtAV3bhZpciAShw4916MFLN03388Jvoed?=
 =?us-ascii?q?fOYtIIqh2bjQ3AgPNLJ5IrmfoHni5nOWP7vX04xO83lx1u3ZemvIeZL2Vh5r62?=
 =?us-ascii?q?AhldNjftfcMc5intjbpCnsaRx42vApJhGjARUJrpV/2oFi8Ste/8NwaPCzA8rn?=
 =?us-ascii?q?abGbzCHQ6Q8ktmrnTPE4y1OHGTPnUW0dJiRByFLkxFnA8URCk6noI+Fg2y38Pu?=
 =?us-ascii?q?akB55jQM5lLirhtM1/llNx3+UmfZuQepZS04SJmZLBpK8A5C413ZPtCZ7uJ2By?=
 =?us-ascii?q?tY5IGurBSRKmyHYARFFWMJVVaBB1/9Jbmi/8XA//KbBuqjLPvOfLOOpvZFV/qT?=
 =?us-ascii?q?wZKv041m/yuDN8mVP3liCeE71VRHXXxjB8vZnDAPQTQNly3Rd86buAu8+ipvo8?=
 =?us-ascii?q?G/9/TrRRvv5ZaVBLtUK9lv4Be2gaGMN+OLgCZ5KDBY1o4DxHPSybgf2kIShD9q?=
 =?us-ascii?q?dzW3DbsAsivNRrrKmqBLFx4bdz9zNMxQ4qI8wAZNOM3bitD01rJijf41EVBFVV?=
 =?us-ascii?q?P/lcGzeMwKOHqwNFfGBEaNKbSHKifHw8DxYaOgV7JQiP9YuAG3uTaeC0XjJCiM?=
 =?us-ascii?q?lyH1VxCzNuFBlDuUPAFFt4GnbBlsCXLvTNbnahCgNN93jDs2waA7h3/QNG4cNy?=
 =?us-ascii?q?R8fF1JrrGK8SxYhfB/EXRb7nV5NemEhzqZ7+7AJ5YKsPtrBz54mP5A7Hsmy7ta?=
 =?us-ascii?q?8idESedxmCvTqN5uvl6nnvOOyjphTBpBtDJLiJiXskVlPKXT7oNAVmrc/BIR8W?=
 =?us-ascii?q?WQDAwHptt/Bd3pvqBQy97Pm7ryKTdC6d3U+8QcCtPQKMKGNnohLBXoFCTVDAsD?=
 =?us-ascii?q?UT6kK2Xfi1ZBn/GV833G5qQ9/5ztnoceD7xWTlo4EtsEBUl/Wt8POpF6WnUji7?=
 =?us-ascii?q?HIotQP4C+RthTeDOZAuZnHE9KbG+nqITDR2bZeahQLwZv8LIIOJoP8xkpuY0V7?=
 =?us-ascii?q?m4KMHFDfC4Me6hZ9ZxM59R0euEN1SXc+jge8Mlug?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AHAABsOAlch0O0hNFkGwEBAQEDAQEBB?=
 =?us-ascii?q?wMBAQGBUgUBAQELAYJpgQIng3qIeIsvgg0UiH6OPIEkA0kXGAsIAYdXIjUIDQE?=
 =?us-ascii?q?DAQEBAQEBAgETAQEBCA0JCCkjDII2JAGCYgMDAQIgDwENAQE3AQUJAQEfBQIFI?=
 =?us-ascii?q?QICAwwSNhkFgxwBgWkDFQQBCqRrcIEIJ4J2AQEFgTABg1INghQDBYELhmWDE4E?=
 =?us-ascii?q?cF4F/gRGFaYFzgQSCN4JXiTeBb5UNLgmHBIcUgyMjgVyFFYpFLI1OgQ6KBIFIA?=
 =?us-ascii?q?oIJMxoIKAiDJ4IbiQGFQD8ygQIDAQEhE4c5gk0BAQ?=
X-IPAS-Result: =?us-ascii?q?A0AHAABsOAlch0O0hNFkGwEBAQEDAQEBBwMBAQGBUgUBAQE?=
 =?us-ascii?q?LAYJpgQIng3qIeIsvgg0UiH6OPIEkA0kXGAsIAYdXIjUIDQEDAQEBAQEBAgETA?=
 =?us-ascii?q?QEBCA0JCCkjDII2JAGCYgMDAQIgDwENAQE3AQUJAQEfBQIFIQICAwwSNhkFgxw?=
 =?us-ascii?q?BgWkDFQQBCqRrcIEIJ4J2AQEFgTABg1INghQDBYELhmWDE4EcF4F/gRGFaYFzg?=
 =?us-ascii?q?QSCN4JXiTeBb5UNLgmHBIcUgyMjgVyFFYpFLI1OgQ6KBIFIAoIJMxoIKAiDJ4I?=
 =?us-ascii?q?biQGFQD8ygQIDAQEhE4c5gk0BAQ?=
X-IronPort-AV: E=Sophos;i="5.56,322,1539673200"; 
   d="scan'208";a="55194838"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 06 Dec 2018 06:59:22 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726074AbeLFO6o (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Thu, 6 Dec 2018 09:58:44 -0500
Received: from mail.kernel.org ([198.145.29.99]:46208 "EHLO mail.kernel.org"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1729640AbeLFOlz (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 6 Dec 2018 09:41:55 -0500
Received: from localhost (5356596B.cm-6-7b.dynamic.ziggo.nl [83.86.89.107])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by mail.kernel.org (Postfix) with ESMTPSA id BC26E2082B;
        Thu,  6 Dec 2018 14:41:54 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=default; t=1544107315;
        bh=oa6Duyzvd0Mgx+dUfoiglxBLoU0jULAIvbRqYr74jBA=;
        h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
        b=jqyVcIfu0SWJbmsz9Wk+lbWnqVlgfrNDt7aG3LD9j2aS1X1SuchL7pl7LtrZTT4fe
         djO/z0wwiTE+4SNdkh6bqNHCqjzLbaBQGEEUtdX5tkpFr5IF4qr8MTX1eoNvPvPyYZ
         sGWTbjETXvuL4ZOBj7UXt65rwZOpy+j/EE3N9a9w=
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: linux-kernel@vger.kernel.org
Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        stable@vger.kernel.org,
        Kristian Evensen <kristian.evensen@gmail.com>,
        Mathias Kresin <dev@kresin.me>,
        Paul Burton <paul.burton@mips.com>,
        John Crispin <john@phrozen.org>,
        Ralf Baechle <ralf@linux-mips.org>,
        James Hogan <jhogan@kernel.org>, linux-mips@linux-mips.org
Subject: [PATCH 4.14 15/55] MIPS: ralink: Fix mt7620 nd_sd pinmux
Date: Thu,  6 Dec 2018 15:38:49 +0100
Message-Id: <20181206143002.547368132@linuxfoundation.org>
X-Mailer: git-send-email 2.19.2
In-Reply-To: <20181206143001.749982936@linuxfoundation.org>
References: <20181206143001.749982936@linuxfoundation.org>
User-Agent: quilt/0.65
X-stable: review
X-Patchwork-Hint: ignore
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

4.14-stable review patch.  If anyone has any objections, please let me know.

------------------

From: Mathias Kresin <dev@kresin.me>

commit 7d35baa4e9ec4b717bc0e58a39cdb6a1c50f5465 upstream.

In case the nd_sd group is set to the sd-card function, Pins 45 + 46 are
configured as GPIOs. If they are blocked by the sd function, they can't
be used as GPIOs.

Reported-by: Kristian Evensen <kristian.evensen@gmail.com>
Signed-off-by: Mathias Kresin <dev@kresin.me>
Signed-off-by: Paul Burton <paul.burton@mips.com>
Fixes: f576fb6a0700 ("MIPS: ralink: cleanup the soc specific pinmux data")
Patchwork: https://patchwork.linux-mips.org/patch/21220/
Cc: John Crispin <john@phrozen.org>
Cc: Ralf Baechle <ralf@linux-mips.org>
Cc: James Hogan <jhogan@kernel.org>
Cc: linux-mips@linux-mips.org
Cc: linux-kernel@vger.kernel.org
Cc: stable@vger.kernel.org # v3.18+
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

---
 arch/mips/ralink/mt7620.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/arch/mips/ralink/mt7620.c
+++ b/arch/mips/ralink/mt7620.c
@@ -84,7 +84,7 @@ static struct rt2880_pmx_func pcie_rst_g
 };
 static struct rt2880_pmx_func nd_sd_grp[] = {
 	FUNC("nand", MT7620_GPIO_MODE_NAND, 45, 15),
-	FUNC("sd", MT7620_GPIO_MODE_SD, 45, 15)
+	FUNC("sd", MT7620_GPIO_MODE_SD, 47, 13)
 };
 
 static struct rt2880_pmx_group mt7620a_pinmux_data[] = {


