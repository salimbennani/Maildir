Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by i7-8700 with POP3-SSL;
  16 Dec 2018 10:41:33 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga008.jf.intel.com (orsmga008.jf.intel.com [10.7.209.65])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id B906058061F;
	Sat, 15 Dec 2018 02:31:56 -0800 (PST)
Received: from orsmga106.jf.intel.com ([10.7.208.65])
  by orsmga008-1.jf.intel.com with ESMTP; 15 Dec 2018 02:31:56 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AdDsP9hYyYOfAIRN1b88qZc3/LSx+4OfEezUN459i?=
 =?us-ascii?q?sYplN5qZpcm5Yh7h7PlgxGXEQZ/co6odzbaO4+a4ASQp2tWoiDg6aptCVhsI24?=
 =?us-ascii?q?09vjcLJ4q7M3D9N+PgdCcgHc5PBxdP9nC/NlVJSo6lPwWB6nK94iQPFRrhKAF7?=
 =?us-ascii?q?Ovr6GpLIj8Swyuu+54Dfbx9HiTahYr5+Ngm6oRnMvcQKnIVuLbo8xAHUqXVSYe?=
 =?us-ascii?q?RWwm1oJVOXnxni48q74YBu/SdNtf8/7sBMSar1cbg2QrxeFzQmLns65Nb3uhnZ?=
 =?us-ascii?q?TAuA/WUTX2MLmRdVGQfF7RX6XpDssivms+d2xSeXMdHqQb0yRD+v9LlgRgP2hy?=
 =?us-ascii?q?gbNj456GDXhdJ2jKJHuxKquhhzz5fJbI2JKPZye6XQctQHS2pcRcZRTzJODZ+g?=
 =?us-ascii?q?b4UBCOoBOPxXr4j7p1ATqRezCg2hCObpxzRVhHH5wLc63vwvHw/GwgIuAtEAsH?=
 =?us-ascii?q?rbo9rpKagdU+66zLLQzTjBdP5W1ivx5ZLSfxw9u/yAQ7R9etfRx0k1EAPFi02d?=
 =?us-ascii?q?p5b/MDOLyOsNt3WQ4e16Wu2zi24otQJxqSWoy8c0kIbJmJwaylTf+CVk3Ik0K8?=
 =?us-ascii?q?e0R1J6YNO9FpZbqi+UN4xzQsw4QmFovj43yrkHuZ6lYicKypMnxwPFa/yBaYeI?=
 =?us-ascii?q?5gjvW/qWITd9nH5qZK+/hxCz8US61uL9V8+520tJoCpditTAqGwB2hjJ5sSaRP?=
 =?us-ascii?q?Zx4F2t1SuM2gzP8O1JIEI5mbLGJ5MlwrM8jIcfvVnNEyPshkn7jbWaelgg9+Wm?=
 =?us-ascii?q?7ensf6/oqYWGN4BujwHzKqQuldK7AeQ/KgUOQWeb9vqm1LH5/k32Xq9Kjvsona?=
 =?us-ascii?q?ndqpzaIt4bpqGhDw9U1IYs9Qq/Ai+43NgEmXQLNk9JdRyZg4TzJl3DI+z0Ae2+?=
 =?us-ascii?q?jlmuiDtrwurJPrzlApXDNHjDl7LhcK55605dzgoz0N9e64tXCr4fOvLzXFH+tN?=
 =?us-ascii?q?jBAh8+PQ20xfjoCM9m24MAVmKAHLWZPLnRsVCW/OIvJfeDZIsPtDb6Mfgl6Obi?=
 =?us-ascii?q?jWUlll8FYampwZwXZWi8HvRnIEWWf2Dgg9gcEWoRugo+TerqiECNUDJJZnayWb?=
 =?us-ascii?q?486S8/CI68EYjDQYWtiqSb3CinBp1WenxGCleUHHfobYqEWusMZziVIsN7kjwE?=
 =?us-ascii?q?SKKuS4ku1Ry1sA/6yrxnLvfb+yECtJLj0sR16PPXlR0o6TN0CMGd2XmXT25ohm?=
 =?us-ascii?q?MIWyM23KdnrEx/zVeMz7J0g/9fFdxV4fNJVRw3NZrdz+x8FtDzVRjNftaPSFa6?=
 =?us-ascii?q?XNqmBSs9Qc42w98Le0x9Acmtjgjf3yq2BL8Yj6aEBIc08qLb3Hj9Pdx9xGzE1K?=
 =?us-ascii?q?Q6i1kmQ81PNXCph6Jl9gjTAZLJnFudl6qwaasc2yvN/n+ZzWWSpEFYTBJwUaLd?=
 =?us-ascii?q?UHAcfETWq8715kfDT7C0D7QnPRBMycqDKqtMd93ogk9KRPblONTCfW2xn328Cg?=
 =?us-ascii?q?qPxrOJdIDqYXkS3D3BCEgYlAAe5WuJOhIgBii/uW7eDCZhFVT0Y0zy9+lyr3e7?=
 =?us-ascii?q?TkwxzwGOdEBh07u1+hgIhf2TUf8T37QEuDs/pDVwBlqyw9XWC9+YrQp7YKpcec?=
 =?us-ascii?q?894EtA1W/BqgNyJIKgIL54il4eaQt3uVju2AtxCohblcgqrXUqzBd9KK6C0VNB?=
 =?us-ascii?q?cS+Y0o70OrHNNmby+xWvYbbM2l7CyNaW5rsP6PMgplX/vQGpE00i82ln09hVyX?=
 =?us-ascii?q?ec+o/GDA0IUZL1U0Y38Rd6qqreYik84YPUyHJtPbO1sj/Ex9ImGu8lxgy8cNdY?=
 =?us-ascii?q?NaOODBXyHNECB8iyNOwqnECkYQgAPO9M+687IcOne+Gd1662IelvhjSmjWdA4I?=
 =?us-ascii?q?BjyU+M8yt8SujV35cK2f2Y3w2HVyvig1elqMz4hYdEZTQKFGql1SfkHJJRZrF1?=
 =?us-ascii?q?fYsTCWauPte7yclki5/sW35X7lijB1wd1c+teBqSaUH93AJK2UQWp3ynhTW3zz?=
 =?us-ascii?q?hunz41qaqf2TTEw/7+exofJm5LWG5igE/2IYi1k98VRlKoYBUulBe/40b12bJb?=
 =?us-ascii?q?pKVmI2bPW0hIezX5IH94Uqu3sLqPeMpP6JIusSVKX+Wwe1GaSrjhoxQE1yPvBX?=
 =?us-ascii?q?dRxDc+dzuyoJX2gwR6iH6BLHZ0tHfYecBwyQ3f5dDGXv5RwzwGSTJ8iTnWAFi8?=
 =?us-ascii?q?Itao8c+Vl5fFruCxSWahWodPfinsyIOKrDG76nFyAR2jg/CzncXqEQog3i/h1N?=
 =?us-ascii?q?lqViLIoAznYobx1KS6MuNnfk92C1/68Md6HoB+ko0thJAfw3Qah5OV/WYZnmf3?=
 =?us-ascii?q?K9lUxaX+bH8VTz4R39HV+BTl2FFkLn+Rx4P2THKdztFjZ9m7ZGMbwSY978FMCK?=
 =?us-ascii?q?eJ471Ihyp1olykrQ3PZfhxhCsSyfwr6HQCmeEGpBItzjmBArAVBURYPjbjlxWS?=
 =?us-ascii?q?49C+saVYfmCvcber2Up6nNChCqyCow5GVHb4fJciATF/7sFlPF3Q133z75nueM?=
 =?us-ascii?q?PMYtILqh2UjxDAgvBQKJIwlfoFnzBrOGzjsn0+1+40kwZu0oqks4idJGVg56a5?=
 =?us-ascii?q?Ah9eNj3oaMIf4DDtjaBCnsmI24CjBIluGjIOXJHwV/KnDCoStej7NwaJCDA8tn?=
 =?us-ascii?q?CbGb/FEQ6e8khmqW/PE4uwN3GWP3QZydRiRB+AJE1QmgwUXTM6noInGQCu3sDu?=
 =?us-ascii?q?bEB55jUJ7F7ithRM0v5oNwX4UmrHvwincDA0SJyCLBZM6gFC+lzYMcif7uJ1Ai?=
 =?us-ascii?q?FZ8YetrA2LKmyHeQtICXsFVVCDB1DmJrOu/8XP8/CEBuqiKPvDebeOpvZbV/iW?=
 =?us-ascii?q?3pKjyJdm8yyPNsWSPXliEvs71VBYXX1iH8TZmjMPSzEYli7Xbs6bogu89TNzrs?=
 =?us-ascii?q?yl7PvrXwfv75OVC7ROKdVv5wy2gaCbOu+QgyZ5NC9Y1o4Wyn/O0rQfx1kSiydh?=
 =?us-ascii?q?dzS2FbQAtCjNTL/fm6NNDh4bbT9zO9VM764mwgZNPsvbgMvv1rFklv41F0tFVV?=
 =?us-ascii?q?v5l8Gpe8MKImK9NFDGBEqRN7SGPzrLw87pbqOmVL1Ql/5ZtxmxuTadDk/iMS6P?=
 =?us-ascii?q?lzjvVxCzL+5MiDuXMwBZuIG4ahxtE3TsTMr6ah2nN996lSc5waAviXPQK2EdMS?=
 =?us-ascii?q?Jwc0dMrrCL6SNYg/N/G3FO73Z/LOmEnTqZ4PfcKpoMrfRrBSF0nfpA4Hsm07tV?=
 =?us-ascii?q?8D1ERPttlSvOr95upkuqnfWVxjV7UBpBtDBLiZmPvUVjP6XZ65ZBVWzF/BIL8W?=
 =?us-ascii?q?WfFRAKq8F5Bd3ovqBa0sLPm77rKDde79LU+tMRBsjOJ8KBNXohMBzpFybVDQsF?=
 =?us-ascii?q?VzGrM27fildZkPGT8H2Vs5c7poLtmJoIVr9USlg1GukGBURiGdxRaKtwCw0jk6?=
 =?us-ascii?q?KWh85A3XOgqBjSDJFEuZLbW/mSKe7yMzvfhqsSNDUSxratFY0NO4mz/kVpalR5?=
 =?us-ascii?q?1NDSElTdWfhQqTInZR1i8xYFy2R3UmBmgxGtUQiq+nJGUKPtkw=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ADAADN1hRch0O0hNFkFgQBAQEBAQIBA?=
 =?us-ascii?q?QEBBwIBAQEBgVIEAQEBAQsBgVqBD4ECJ5gNgg0UjXyJSIFtAxIdCwgBh0ciNQg?=
 =?us-ascii?q?NAQMBAQEBAQECARMBAQEKCwkIKSMMgjYkgmMBAgMBAiRSBgkBAQoYCSUDDAUYM?=
 =?us-ascii?q?RiCUksBggAEAQqmGjOIV4FKD4JtiVEXgX+EI4MTCwOFGYImAqEZCYIohGWKQiM?=
 =?us-ascii?q?KVoFKjyiDCIsqjHoDggkzGggwgycJgh4Xg0ooiiw+MwEBgQMBAYxyAQE?=
X-IPAS-Result: =?us-ascii?q?A0ADAADN1hRch0O0hNFkFgQBAQEBAQIBAQEBBwIBAQEBgVI?=
 =?us-ascii?q?EAQEBAQsBgVqBD4ECJ5gNgg0UjXyJSIFtAxIdCwgBh0ciNQgNAQMBAQEBAQECA?=
 =?us-ascii?q?RMBAQEKCwkIKSMMgjYkgmMBAgMBAiRSBgkBAQoYCSUDDAUYMRiCUksBggAEAQq?=
 =?us-ascii?q?mGjOIV4FKD4JtiVEXgX+EI4MTCwOFGYImAqEZCYIohGWKQiMKVoFKjyiDCIsqj?=
 =?us-ascii?q?HoDggkzGggwgycJgh4Xg0ooiiw+MwEBgQMBAYxyAQE?=
X-IronPort-AV: E=Sophos;i="5.56,356,1539673200"; 
   d="asc'?scan'208";a="44175849"
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Unscannable: 2
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 15 Dec 2018 02:29:07 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1730084AbeLOK3G (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Sat, 15 Dec 2018 05:29:06 -0500
Received: from atrey.karlin.mff.cuni.cz ([195.113.26.193]:46415 "EHLO
        atrey.karlin.mff.cuni.cz" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1728731AbeLOK3G (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sat, 15 Dec 2018 05:29:06 -0500
Received: by atrey.karlin.mff.cuni.cz (Postfix, from userid 512)
        id BC19380990; Sat, 15 Dec 2018 11:28:59 +0100 (CET)
Date: Sat, 15 Dec 2018 11:29:02 +0100
From: Pavel Machek <pavel@ucw.cz>
To: Vojtech Pavlik <vojtech@suse.cz>
Cc: kernel list <linux-kernel@vger.kernel.org>, jikos@suse.cz,
        linux-input@vger.kernel.org, dmitry.torokhov@gmail.com
Subject: Re: [rfd] saving old mice -- button glitching/debouncing
Message-ID: <20181215102902.GA8022@amd>
References: <20181214232437.GA8310@amd>
 <20181215085510.GB12930@suse.com>
 <20181215094722.GA5804@amd>
 <20181215101221.GA23879@suse.com>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
        protocol="application/pgp-signature"; boundary="UlVJffcvxoiEqYs2"
Content-Disposition: inline
In-Reply-To: <20181215101221.GA23879@suse.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org


--UlVJffcvxoiEqYs2
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Sat 2018-12-15 11:12:21, Vojtech Pavlik wrote:
> On Sat, Dec 15, 2018 at 10:47:22AM +0100, Pavel Machek wrote:
>=20
> > > > b) would it be acceptable if done properly? (cmd line option to
> > > > enable, avoiding duplicate/wrong events?)
> > >=20
> > > Well, for one, you shouldn't be using a timer, all the debouncing can=
 be
> > > done by math on the event timestamps.
> >=20
> > Not... really, right? You need to send an release some time after
> > button indicates release if bounce did not happen. It is similar to
> > autorepeat needing a timer.
>=20
> You can send the first release and ignore all presses and releases in a
> time window after that.

I could, and it would work for glitches on release, but that would do
very bad things if switch glitched on press, right?

"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX XX           " ->
"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX              " ... ok

"XX XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX..." ->
"XX                                  ..." ... bad idea. [Maybe could be
detected with "XX " being unusually short?]

But I believe I see=20

"XXXXXXXXXXXXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXXXXXXXXX" on X220 device, too.

									Pavel
--=20
(english) http://www.livejournal.com/~pavelmachek
(cesky, pictures) http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blo=
g.html

--UlVJffcvxoiEqYs2
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlwU124ACgkQMOfwapXb+vKR/wCfcFxBeIlqKrMEK9h9TYHkH4ZF
ZbkAn0Eksq6l5ksxYC9/ryTMmsG8X9MF
=8YL4
-----END PGP SIGNATURE-----

--UlVJffcvxoiEqYs2--
