Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by i7-8700 with POP3-SSL;
  12 Dec 2018 19:45:10 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga002.fm.intel.com (fmsmga002.fm.intel.com [10.253.24.26])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 586B658079D;
	Wed, 12 Dec 2018 03:14:16 -0800 (PST)
Received: from orsmga101.jf.intel.com ([10.7.208.22])
  by fmsmga002-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 12 Dec 2018 03:14:15 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AhpjQNhcTz8RR3us+Ci57ScQ4lGMj4u6mDksu8pMi?=
 =?us-ascii?q?zoh2WeGdxc69bBSN2/xhgRfzUJnB7Loc0qyK6/CmATRIyK3CmUhKSIZLWR4BhJ?=
 =?us-ascii?q?detC0bK+nBN3fGKuX3ZTcxBsVIWQwt1Xi6NU9IBJS2PAWK8TW94jEIBxrwKxd+?=
 =?us-ascii?q?KPjrFY7OlcS30P2594HObwlSizexfbB/IA+qoQnNq8IbnZZsJqEtxxXTv3BGYf?=
 =?us-ascii?q?5WxWRmJVKSmxbz+MK994N9/ipTpvws6ddOXb31cKokQ7NYCi8mM30u683wqRbD?=
 =?us-ascii?q?VwqP6WACXWgQjxFFHhLK7BD+Xpf2ryv6qu9w0zSUMMHqUbw5Xymp4KB2Rh/1ky?=
 =?us-ascii?q?cHLyA2/33LisJ+i6JbpQiupx15w4XJZI2YO/5zcqbbcNwdS2RMUdpdWixYDo+g?=
 =?us-ascii?q?bYYDFvQPMvhCr4Lgo1cDoweyCRWpCO7p1zRGhGL53bci3usuHw/I3xEuEdIQvn?=
 =?us-ascii?q?vIt9X1LKUfXPupzKXU1zjPc+9a1Sv/5YXObxsvoeuMXbV1ccfJ0kkuFwLEgU6X?=
 =?us-ascii?q?qYz5IjiY0f8Nsmia7uV7UuKvl2krpxxtrjWuxcoshJXFi4YJxV3L+ih23Zs5KN?=
 =?us-ascii?q?2lREJlYdOoDIdfui+UOoZtWcMjQ2BpuCUgxb0CvZ60YjIKxI49yB7Hc/yHaJCI?=
 =?us-ascii?q?4hX/VOaUOzh4hXZldKijiBa19Eit0+vxXdS63lZNqypKiNjMtnYV2hzc7ciHTe?=
 =?us-ascii?q?Fx/kil2TqXzQ/T8vlEIVsslarcN54t2KI/lp0WsUnFAyT4m132gbeIekk4/uWk?=
 =?us-ascii?q?8fnrb7v4qpOGKoN5iR3yPr4vl8G9Geg0LBQCUmyB9em/1LDv51D1TbRLg/EskK?=
 =?us-ascii?q?TVrZbXLtkBqKGjGQ9ayIMj5g6/Dzi41NQYmmEKLExKeB2ZlYjlIVLOL+7iDfe5?=
 =?us-ascii?q?nVuslC1nx/fcPr3uGpnNL37Dn6n9fbtl9UJQ1A4+wcpC659aFL0NOu//V0ztuN?=
 =?us-ascii?q?DCDxI0MRS4w+P9B9V80oMeV3iPAqicMK7KtV+I5+QvI/SDZYMMuzbyNeIl5/jw?=
 =?us-ascii?q?gn89gFMdeqeo3Z0JZ3CiBflmPUqZbmT2gtsbEmcFoBA+TOr0h12GSzJTYGyyX6?=
 =?us-ascii?q?0k6jEhFI2mFZvDRpyqgLGZ2Ce7H55WaX5cBlGDDHflbIGEW/YKaCKPLc5tiD0E?=
 =?us-ascii?q?Vb69S4A/0RGirhP1y71iLuDM4C0XqYrj1MRp5+3UjRwy9SZ7D8WB026XSGF4hG?=
 =?us-ascii?q?MIRyIs06B5rkxw0VOD0al+g/xFGt1f/fJJUgEmNZHCy+x2Ecz9WgXEft2RUlap?=
 =?us-ascii?q?Xs2mAS0tTtI229IOYUF9FMu4ghDA2CqqBbkVl7uQCZww86Lc2WXxJslnx3bH0q?=
 =?us-ascii?q?khk0cpQs9VOWK6ga5/8hDZB5TVnEWBi6aqaaMc0TbX+2eYzWqOu0JYXBRqUarf?=
 =?us-ascii?q?X3ASfU/WrdX/5kPfQL6iE7UnMg1dycGcLqtGcMHmjVJDRP37ItTRf3qxm3usBR?=
 =?us-ascii?q?aP3r6Mb5Dle2MH0CXZCUgLiQYT/XmdOAg6ByehpX/eDTN0GVLuZUPs7fdxqHeh?=
 =?us-ascii?q?QkAoyAGKalVr16Cp9R4NmfycV/QT06oZtyg7tTV7Akyx39LMBNqGvApuYqNcbd?=
 =?us-ascii?q?Q54FdE0GLZsxdwPpihL6Bkm14ffB57v0Lo1xVrFIpAldImo28tzAp3MaiYyk9O?=
 =?us-ascii?q?dyuE3ZDsPb3aMnT98wqxa6HIwF3e0MyZ+qEU6PsmrVXupwWpFksk83V63NhZyX?=
 =?us-ascii?q?qc5pPWDAUMVZL9SFo49x9/p7vCeCky+5vU1WFwMamzqjLCx9MpBO4iyha8f9de?=
 =?us-ascii?q?MLmIFBPoH80dHciuLO0qm16mbh8fOOBS9ag0P96pdvec2a6rOvpgkyyijWhd/I?=
 =?us-ascii?q?991UeM/TJmSuHUx5YF3+2Y3gyfWjjmiFeurM/2lp5EZD0IBWW/1DXrC5RXZq1x?=
 =?us-ascii?q?eoYLF3yjI8m2xtV4mp7sVGRU9F+lB1MaxsCpfQCeYED63Q1VzU4Xu2ComTOkzz?=
 =?us-ascii?q?xolDEktqqe3DHUz+v+bhYGO25LS3NkjVfjOoW0i9EaXE61bwkmjhel5ED6x7RF?=
 =?us-ascii?q?q6R7NWXcXUBIfy3uJWF4TqSwrqaCY9JI6J4wqyVXUfizbkqASrHgpBsWySXjEH?=
 =?us-ascii?q?VExDA6bj2lpo/2nxhnh22DNnZzq3zZdNp0xRfe4tzcWPFQ0iAHRCl+lTnYGFy8?=
 =?us-ascii?q?M8O18tWTkpfJqvq+WH65Vp1PbSnrypuNtSu65WFwARyzheuzmsDhEQUh1S/71t?=
 =?us-ascii?q?9qVTjHrRrmY4nr0bi6PvxjfkVyGFD87M96EJlkkoQsnJEQxWQahpKN8HoFi2jz?=
 =?us-ascii?q?K9Zb2aH5bHYXXj4E2d3V4Avk2E1lMH2JwZn0VnGcwstnetm7bXka2iM778BWFq?=
 =?us-ascii?q?iU6KZIkjdyolq9tQjRe+Ryni8Byfsy734Xm+EItxAqzimHALASHE9YMDfolxSJ?=
 =?us-ascii?q?6dC+sapWaHyucbi2yEpxg9ShAKuerQFbXXbzYo0iEjNo7sVjLFLM12X+6oL+d9?=
 =?us-ascii?q?nRd94TtgCUnA3Gj+haM58xkvsKhSx6OWPyp3Elyug7jQBw0pG+poSIN2Jt/Keh?=
 =?us-ascii?q?CB5CKjL1f98T+i3qjatGm8aW3oOvEY97FjQFQpToVu6oHywItfv8KQmOCjI8p2?=
 =?us-ascii?q?yfGbreGw+f9Uhno2jOE5CtK3GYOn0Zwc9+SxmaIUxVmBoUUykinp4lCgCqw9Ts?=
 =?us-ascii?q?cFt+5jAU/FL5qwFDyuR1NxnkSWffpRylajM1SJiZMRpX4RtO50bTMcyC8O1zGz?=
 =?us-ascii?q?tU8YGmrAyIMmabfRhHDXkVWkyYAFDuJqKh6sPH8+icG+qyNf/OYaiVpOxaVveI?=
 =?us-ascii?q?w4+v04R88zaNMMWPImdtD/kh1kVfWnB5HtzTmy8TRCwPiyLNc8mbqQ+++iJtq8?=
 =?us-ascii?q?Cw7u/rVBjz5YeVCLtSLNZv+w2wgaiZLO6dnyJ5KTde1pMRyn7E0rkf3FgOiy5w?=
 =?us-ascii?q?czmhC6gPtSnITKjIgK9YEwYbaz9vNMtP96893g5NOdPCitPozLF4iOQ5C0xCVV?=
 =?us-ascii?q?znlcGkfsgKI2C7NFPaC0eHLrWGJTvXw87pZaOwU6FfjOJRtxeoozaUD1fjPiif?=
 =?us-ascii?q?lznuTx2vMf9DjCCYPBxduYGxaBVtCXLkTNLpdBK7KsJ3jSYtzL0wh3PKM3McMD?=
 =?us-ascii?q?dmf0NMqL2Q8T1XgvFlF2Nd6XplKPGOmzyF4OnANpYWrfxrDzxumOJH+3s60aVa?=
 =?us-ascii?q?7SFeSPxxmSvftdpuo1CgkumSxTtrShtOqjBXhI2VuUVuI7nW9p5FWXzc5hIC8X?=
 =?us-ascii?q?2QCwgWp9tiEtDvp6FQyt3VmK3vMjtN79LU8tUaB8XPLMKHMXwhMQfmGTLODQsF?=
 =?us-ascii?q?SyKrOn/bh0BHjP6S8XiVpIAgqpfwgJoOVqNbVFstG/IaEEtlGtkCIJZxXjw8kL?=
 =?us-ascii?q?+bjNQH5XyxrBTKQMVav5bHVu+dAPn1KTaZi6VEaAUMwb/iMYsTMYj7iARebQxz?=
 =?us-ascii?q?l4HHM0ndR9ZApmtmdABw6ExJ/Wh3SGE+wQT+agK24HwSE9awnxgrmk1/Z/gg8H?=
 =?us-ascii?q?Hn5FJzbljNoDA5uFM8ldXsnXaadzu1ZKOxW5xGTin5rU48NrvlTAtvKw6/h0pp?=
 =?us-ascii?q?MHHDXb0Vx75hc29soBXRtZtGBbhXSqgAKBkZwPGGevMn+VdRsCOqwQlA/+SBQY?=
 =?us-ascii?q?NviAYwY7atqXxa0g5uZdJzIrbfYOJS30pTj6aKszXt3P0+2ycRIEEC9G6dYikV?=
 =?us-ascii?q?oFdOPb4jdASy+ek58h2QkTxfMDwXRuggpe4prxtja+rYnim8j7IadxnrarSUdP?=
 =?us-ascii?q?ixoHnSlseMRl4qkEoQj1Jd+qRz2MYnNUGTUhZ8n/OqCx0VOJ+bekluZM1I+S2I?=
 =?us-ascii?q?IXeD?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0DMBQBO7BBch0O0hNFjEwEBCAEBBQEHB?=
 =?us-ascii?q?QGBVAUBCwGCaYECJ4N7lCuCIZJDhiADUCgLCAGCF4UkIjcGDQEDAQEBAQEBAgE?=
 =?us-ascii?q?TAQEBCA0JCCkKGQyCQgEEAQEBAQMDAwEBBwGCZgIXAQgEEUcJAiQCJgICAzEBB?=
 =?us-ascii?q?QEjEgWDHAGCAQUKmgs8iw18M4orBRJ5izGCFoERhjACAhiES4JXAoEqAQGIBwo?=
 =?us-ascii?q?JhX1+UY90AQYCAYMQgzhCgz6HDRiBXIUaBYpJLIh6hHOLETCBO1eBIXCBboFOH?=
 =?us-ascii?q?4IFAxeDSoFoiQweMwEXAQFrAQGKXCuCIAEB?=
X-IPAS-Result: =?us-ascii?q?A0DMBQBO7BBch0O0hNFjEwEBCAEBBQEHBQGBVAUBCwGCaYE?=
 =?us-ascii?q?CJ4N7lCuCIZJDhiADUCgLCAGCF4UkIjcGDQEDAQEBAQEBAgETAQEBCA0JCCkKG?=
 =?us-ascii?q?QyCQgEEAQEBAQMDAwEBBwGCZgIXAQgEEUcJAiQCJgICAzEBBQEjEgWDHAGCAQU?=
 =?us-ascii?q?Kmgs8iw18M4orBRJ5izGCFoERhjACAhiES4JXAoEqAQGIBwoJhX1+UY90AQYCA?=
 =?us-ascii?q?YMQgzhCgz6HDRiBXIUaBYpJLIh6hHOLETCBO1eBIXCBboFOH4IFAxeDSoFoiQw?=
 =?us-ascii?q?eMwEXAQFrAQGKXCuCIAEB?=
X-IronPort-AV: E=Sophos;i="5.56,344,1539673200"; 
   d="scan'208";a="44636002"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 12 Dec 2018 03:14:12 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727328AbeLLLLJ (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Wed, 12 Dec 2018 06:11:09 -0500
Received: from mail-io1-f71.google.com ([209.85.166.71]:52776 "EHLO
        mail-io1-f71.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1727226AbeLLLLH (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 12 Dec 2018 06:11:07 -0500
Received: by mail-io1-f71.google.com with SMTP id h7so17183791iof.19
        for <linux-kernel@vger.kernel.org>; Wed, 12 Dec 2018 03:11:06 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=JcDI9ToVAsNNGjowhwicYmfYkqDu6/ZWlv00o/5PTSI=;
        b=R/f3jZZOXxVfsGsrtlDWvNsaaXFaetr1HuKNgWGqPDHtKs4UHCX9ZdnFAPsPwoseH2
         fyg+5KOrXyEbGuceLK0XwIYtXpQnfpSkKPRR72Q+yjrfVTkEx3W/22ShTugICJh62JQe
         b0XMgsRDYgsX+8EBdAJpDjl/owU0nFdu6GvKzdwcCpQ97JXT9kk/g9xuJECcFdSA+Tzo
         pwwWg+A9WyUY7Iut4rlAeHDeDW2ltcLkP2nWp+Sle7TItUiwFxbctPleZ2qNW3I688fZ
         vrx3VCMtIajF5csjD88fMxRbXqLqoJPJCu/3rwtHnGo5SM7NZ1S8G55jEDlLugFX3DBk
         C+UQ==
X-Gm-Message-State: AA+aEWYrwYq8t+Strw3NgrfjDEdc045BL8R2J63jpqaHLlgJcymGPtGp
        ACBGL8487UoRK1wPH+AnsHXJculrIubdaDI1WWzWoHUmSehB
X-Google-Smtp-Source: AFSGD/VdiFmTK9xgLgvkg3dahAS5ANZtYHwBqjOsv3h5BFkLTc7aebEiIpwxAauTARdoOZE/s239FM9NvCOb7k+160q5eFkUEXce
MIME-Version: 1.0
X-Received: by 2002:a24:5dd4:: with SMTP id w203mr4430088ita.8.1544613065158;
 Wed, 12 Dec 2018 03:11:05 -0800 (PST)
Date: Wed, 12 Dec 2018 03:11:05 -0800
X-Google-Appengine-App-Id: s~syzkaller
X-Google-Appengine-App-Id-Alias: syzkaller
Message-ID: <00000000000010a9fb057cd14174@google.com>
Subject: possible deadlock in uprobe_clear_state
From: syzbot <syzbot+1068f09c44d151250c33@syzkaller.appspotmail.com>
To: acme@kernel.org, alexander.shishkin@linux.intel.com,
        jolsa@redhat.com, linux-kernel@vger.kernel.org, mingo@redhat.com,
        namhyung@kernel.org, peterz@infradead.org,
        syzkaller-bugs@googlegroups.com
Content-Type: text/plain; charset="UTF-8"; format=flowed; delsp=yes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Hello,

syzbot found the following crash on:

HEAD commit:    f5d582777bcb Merge branch 'for-linus' of git://git.kernel...
git tree:       upstream
console output: https://syzkaller.appspot.com/x/log.txt?x=16e6b2fb400000
kernel config:  https://syzkaller.appspot.com/x/.config?x=c8970c89a0efbb23
dashboard link: https://syzkaller.appspot.com/bug?extid=1068f09c44d151250c33
compiler:       gcc (GCC) 8.0.1 20180413 (experimental)

Unfortunately, I don't have any reproducer for this crash yet.

IMPORTANT: if you fix the bug, please add the following tag to the commit:
Reported-by: syzbot+1068f09c44d151250c33@syzkaller.appspotmail.com


======================================================
WARNING: possible circular locking dependency detected
4.20.0-rc6+ #150 Not tainted
------------------------------------------------------
khugepaged/1025 is trying to acquire lock:
000000006e466c89 (delayed_uprobe_lock){+.+.}, at:  
uprobe_clear_state+0xb4/0x390 kernel/events/uprobes.c:1511

but task is already holding lock:
000000006b315a29 (fs_reclaim){+.+.}, at:  
fs_reclaim_acquire.part.97+0x0/0x30 mm/internal.h:79

which lock already depends on the new lock.


the existing dependency chain (in reverse order) is:

-> #1 (fs_reclaim){+.+.}:
        __fs_reclaim_acquire mm/page_alloc.c:3730 [inline]
        fs_reclaim_acquire.part.97+0x24/0x30 mm/page_alloc.c:3741
        fs_reclaim_acquire+0x14/0x20 mm/page_alloc.c:3742
        slab_pre_alloc_hook mm/slab.h:418 [inline]
        slab_alloc mm/slab.c:3378 [inline]
        kmem_cache_alloc_trace+0x2d/0x750 mm/slab.c:3618
        kmalloc include/linux/slab.h:546 [inline]
        kzalloc include/linux/slab.h:741 [inline]
        delayed_uprobe_add kernel/events/uprobes.c:313 [inline]
        update_ref_ctr+0x36f/0x590 kernel/events/uprobes.c:447
        uprobe_write_opcode+0x94b/0xc50 kernel/events/uprobes.c:496
        set_swbp+0x2a/0x40
        install_breakpoint.isra.24+0x161/0x840 kernel/events/uprobes.c:885
        register_for_each_vma+0xa38/0xee0 kernel/events/uprobes.c:1041
        uprobe_apply+0xee/0x140 kernel/events/uprobes.c:1192
        uprobe_perf_open kernel/trace/trace_uprobe.c:1087 [inline]
        trace_uprobe_register+0x771/0xcf0 kernel/trace/trace_uprobe.c:1227
        perf_trace_event_open kernel/trace/trace_event_perf.c:181 [inline]
        perf_trace_event_init+0x1a5/0x990 kernel/trace/trace_event_perf.c:203
        perf_uprobe_init+0x1f1/0x280 kernel/trace/trace_event_perf.c:329
        perf_uprobe_event_init+0x106/0x1a0 kernel/events/core.c:8503
        perf_try_init_event+0x137/0x2f0 kernel/events/core.c:9770
        perf_init_event kernel/events/core.c:9801 [inline]
        perf_event_alloc.part.94+0x1d54/0x3740 kernel/events/core.c:10074
        perf_event_alloc kernel/events/core.c:10430 [inline]
        __do_sys_perf_event_open+0xada/0x3020 kernel/events/core.c:10531
        __se_sys_perf_event_open kernel/events/core.c:10420 [inline]
        __x64_sys_perf_event_open+0xbe/0x150 kernel/events/core.c:10420
        do_syscall_64+0x1b9/0x820 arch/x86/entry/common.c:290
        entry_SYSCALL_64_after_hwframe+0x49/0xbe

-> #0 (delayed_uprobe_lock){+.+.}:
        lock_acquire+0x1ed/0x520 kernel/locking/lockdep.c:3844
        __mutex_lock_common kernel/locking/mutex.c:925 [inline]
        __mutex_lock+0x166/0x16f0 kernel/locking/mutex.c:1072
        mutex_lock_nested+0x16/0x20 kernel/locking/mutex.c:1087
        uprobe_clear_state+0xb4/0x390 kernel/events/uprobes.c:1511
        __mmput kernel/fork.c:1041 [inline]
        mmput+0x1bc/0x610 kernel/fork.c:1066
        binder_alloc_free_page+0x5ab/0x1520  
drivers/android/binder_alloc.c:983
        __list_lru_walk_one+0x29d/0x8c0 mm/list_lru.c:234
        list_lru_walk_one+0xa5/0xe0 mm/list_lru.c:278
        list_lru_walk_node+0x43/0x280 mm/list_lru.c:307
        list_lru_walk include/linux/list_lru.h:214 [inline]
        binder_shrink_scan+0x164/0x220 drivers/android/binder_alloc.c:1019
        do_shrink_slab+0x501/0xd30 mm/vmscan.c:557
        shrink_slab+0x389/0x8c0 mm/vmscan.c:706
        shrink_node+0x431/0x16b0 mm/vmscan.c:2758
        shrink_zones mm/vmscan.c:2987 [inline]
        do_try_to_free_pages+0x3e7/0x1290 mm/vmscan.c:3049
        try_to_free_pages+0x4d0/0xb90 mm/vmscan.c:3264
        __perform_reclaim mm/page_alloc.c:3773 [inline]
        __alloc_pages_direct_reclaim mm/page_alloc.c:3795 [inline]
        __alloc_pages_slowpath+0xa48/0x2de0 mm/page_alloc.c:4185
        __alloc_pages_nodemask+0xad8/0xea0 mm/page_alloc.c:4393
        __alloc_pages include/linux/gfp.h:473 [inline]
        __alloc_pages_node include/linux/gfp.h:486 [inline]
        khugepaged_alloc_page+0x95/0x190 mm/khugepaged.c:773
        collapse_huge_page mm/khugepaged.c:963 [inline]
        khugepaged_scan_pmd+0x1715/0x3d60 mm/khugepaged.c:1216
        khugepaged_scan_mm_slot mm/khugepaged.c:1725 [inline]
        khugepaged_do_scan mm/khugepaged.c:1806 [inline]
        khugepaged+0xf20/0x1750 mm/khugepaged.c:1851
        kthread+0x35a/0x440 kernel/kthread.c:246
        ret_from_fork+0x3a/0x50 arch/x86/entry/entry_64.S:352

other info that might help us debug this:

  Possible unsafe locking scenario:

        CPU0                    CPU1
        ----                    ----
   lock(fs_reclaim);
                                lock(delayed_uprobe_lock);
                                lock(fs_reclaim);
   lock(delayed_uprobe_lock);

  *** DEADLOCK ***

3 locks held by khugepaged/1025:
  #0: 000000006b315a29 (fs_reclaim){+.+.}, at:  
fs_reclaim_acquire.part.97+0x0/0x30 mm/internal.h:79
  #1: 0000000086326917 (shrinker_rwsem){++++}, at: shrink_slab+0x207/0x8c0  
mm/vmscan.c:696
  #2: 000000000790c708 (&alloc->mutex){+.+.}, at:  
binder_alloc_free_page+0x12f/0x1520 drivers/android/binder_alloc.c:953

stack backtrace:
CPU: 0 PID: 1025 Comm: khugepaged Not tainted 4.20.0-rc6+ #150
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS  
Google 01/01/2011
Call Trace:
  __dump_stack lib/dump_stack.c:77 [inline]
  dump_stack+0x244/0x39d lib/dump_stack.c:113
  print_circular_bug.isra.35.cold.54+0x1bd/0x27d  
kernel/locking/lockdep.c:1221
  check_prev_add kernel/locking/lockdep.c:1863 [inline]
  check_prevs_add kernel/locking/lockdep.c:1976 [inline]
  validate_chain kernel/locking/lockdep.c:2347 [inline]
  __lock_acquire+0x3399/0x4c20 kernel/locking/lockdep.c:3341
  lock_acquire+0x1ed/0x520 kernel/locking/lockdep.c:3844
  __mutex_lock_common kernel/locking/mutex.c:925 [inline]
  __mutex_lock+0x166/0x16f0 kernel/locking/mutex.c:1072
  mutex_lock_nested+0x16/0x20 kernel/locking/mutex.c:1087
  uprobe_clear_state+0xb4/0x390 kernel/events/uprobes.c:1511
  __mmput kernel/fork.c:1041 [inline]
  mmput+0x1bc/0x610 kernel/fork.c:1066
  binder_alloc_free_page+0x5ab/0x1520 drivers/android/binder_alloc.c:983
  __list_lru_walk_one+0x29d/0x8c0 mm/list_lru.c:234
  list_lru_walk_one+0xa5/0xe0 mm/list_lru.c:278
  list_lru_walk_node+0x43/0x280 mm/list_lru.c:307
  list_lru_walk include/linux/list_lru.h:214 [inline]
  binder_shrink_scan+0x164/0x220 drivers/android/binder_alloc.c:1019
  do_shrink_slab+0x501/0xd30 mm/vmscan.c:557
  shrink_slab+0x389/0x8c0 mm/vmscan.c:706
  shrink_node+0x431/0x16b0 mm/vmscan.c:2758
  shrink_zones mm/vmscan.c:2987 [inline]
  do_try_to_free_pages+0x3e7/0x1290 mm/vmscan.c:3049
  try_to_free_pages+0x4d0/0xb90 mm/vmscan.c:3264
  __perform_reclaim mm/page_alloc.c:3773 [inline]
  __alloc_pages_direct_reclaim mm/page_alloc.c:3795 [inline]
  __alloc_pages_slowpath+0xa48/0x2de0 mm/page_alloc.c:4185
  __alloc_pages_nodemask+0xad8/0xea0 mm/page_alloc.c:4393
  __alloc_pages include/linux/gfp.h:473 [inline]
  __alloc_pages_node include/linux/gfp.h:486 [inline]
  khugepaged_alloc_page+0x95/0x190 mm/khugepaged.c:773
  collapse_huge_page mm/khugepaged.c:963 [inline]
  khugepaged_scan_pmd+0x1715/0x3d60 mm/khugepaged.c:1216
  khugepaged_scan_mm_slot mm/khugepaged.c:1725 [inline]
  khugepaged_do_scan mm/khugepaged.c:1806 [inline]
  khugepaged+0xf20/0x1750 mm/khugepaged.c:1851
  kthread+0x35a/0x440 kernel/kthread.c:246
  ret_from_fork+0x3a/0x50 arch/x86/entry/entry_64.S:352
netlink: 48 bytes leftover after parsing attributes in process  
`syz-executor1'.
binder: 15394:15401 got transaction with invalid fd, -1
binder_transaction: 14 callbacks suppressed
binder: 15394:15401 transaction failed 29201/-9, size 24-8 line 3077
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
netlink: 48 bytes leftover after parsing attributes in process  
`syz-executor1'.
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: send failed reply for transaction 4652 to 15394:15401
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15394:15401 ioctl c0306201 20000380 returned -14
binder: 15407:15408 ioctl 40046207 0 returned -16
binder_alloc: binder_alloc_mmap_handler: 15394 20001000-20004000 already  
mapped failed -16
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15407:15414 got reply transaction with no transaction stack
binder: 15394:15401 ioctl 40046207 0 returned -16
binder: 15407:15414 transaction failed 29201/-71, size 24-4 line 2741
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
binder_alloc: 15394: binder_alloc_buf, no vma
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15394:15418 transaction failed 29189/-3, size 0-0 line 2973
binder_release_work: 24 callbacks suppressed
binder: undelivered TRANSACTION_ERROR: 29190
binder: undelivered TRANSACTION_ERROR: 29189
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: undelivered TRANSACTION_COMPLETE
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15428:15430 got transaction with invalid fd, -1
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15428:15430 transaction failed 29201/-9, size 24-8 line 3077
binder: send failed reply for transaction 4657 to 15428:15430
binder: 15428:15430 ioctl c0306201 20000380 returned -14
binder_alloc: binder_alloc_mmap_handler: 15428 20001000-20004000 already  
mapped failed -16
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder_alloc: 15428: binder_alloc_buf, no vma
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15428:15430 ioctl 40046207 0 returned -16
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15428:15435 transaction failed 29189/-3, size 0-0 line 2973
binder: undelivered TRANSACTION_ERROR: 29190
binder: undelivered TRANSACTION_ERROR: 29189
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: undelivered TRANSACTION_COMPLETE
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: undelivered TRANSACTION_COMPLETE
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15449:15452 got transaction with invalid fd, -1
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
binder: 15449:15452 transaction failed 29201/-9, size 24-8 line 3077
binder_alloc: binder_alloc_mmap_handler: 15407 20001000-20004000 already  
mapped failed -16
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15407:15457 ioctl 40046207 0 returned -16
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
binder: undelivered TRANSACTION_ERROR: 29201
binder: send failed reply for transaction 4661 to 15449:15452
binder: 15449:15452 ioctl c0306201 20000380 returned -14
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15449 20001000-20004000 already  
mapped failed -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15463:15466 ioctl 40046207 0 returned -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15449:15452 ioctl 40046207 0 returned -16
binder_alloc: 15449: binder_alloc_buf, no vma
binder: 15449:15467 transaction failed 29189/-3, size 0-0 line 2973
binder: undelivered TRANSACTION_COMPLETE
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15463:15469 got reply transaction with no transaction stack
binder: 15463:15469 transaction failed 29201/-71, size 24-4 line 2741
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: undelivered TRANSACTION_ERROR: 29190
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15478:15484 got transaction with invalid fd, -1
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15478:15484 transaction failed 29201/-9, size 24-8 line 3077
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: send failed reply for transaction 4666 to 15478:15484
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15478:15484 ioctl c0306201 20000380 returned -14
binder: BINDER_SET_CONTEXT_MGR already set
binder_alloc: 15478: binder_alloc_buf, no vma
binder: 15478:15484 ioctl 40046207 0 returned -16
binder: 15478:15492 transaction failed 29189/-3, size 0-0 line 2973
binder: undelivered TRANSACTION_COMPLETE
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
binder: 15497:15499 got transaction with invalid fd, -1
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: send failed reply for transaction 4670 to 15497:15499
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15497:15499 ioctl c0306201 20000380 returned -14
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: 15497: binder_alloc_buf, no vma
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15463:15469 ioctl 40046207 0 returned -16
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
binder: 15497:15499 ioctl 40046207 0 returned -16
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15463:15469 got reply transaction with no transaction stack
binder: 15497:15506 got reply transaction with no transaction stack
binder: undelivered TRANSACTION_COMPLETE
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15497:15506 ioctl c0306201 20000380 returned -14
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
binder: 15518:15521 got reply transaction with no transaction stack
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15528:15530 ioctl 40046207 0 returned -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15528:15535 got reply transaction with no transaction stack
binder: release 15518:15519 transaction 4677 in, still active
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15518:15519 ioctl 40046207 0 returned -16
binder: 15528:15535 ioctl c0306201 20000380 returned -14
binder: send failed reply for transaction 4677 to 15528:15535
binder_alloc: 15528: binder_alloc_buf, no vma
binder: undelivered TRANSACTION_COMPLETE
binder: 15528:15530 ioctl c0306201 20000380 returned -14
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder_transaction: 1 callbacks suppressed
binder: 15546:15555 got reply transaction with no transaction stack
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15557:15560 ioctl 40046207 0 returned -16
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder_alloc_mmap_handler: 5 callbacks suppressed
binder_alloc: binder_alloc_mmap_handler: 15546 20001000-20004000 already  
mapped failed -16
binder: 15557:15564 got reply transaction with no transaction stack
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15557:15564 ioctl c0306201 20000380 returned -14
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15546:15552 ioctl 40046207 0 returned -16
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15546:15552 got reply transaction with no transaction stack
binder: release 15546:15552 transaction 4684 in, still active
binder: send failed reply for transaction 4684 to 15557:15560
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: 15579:15588 got reply transaction with no transaction stack
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15557 20001000-20004000 already  
mapped failed -16
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15557:15564 ioctl 40046207 0 returned -16
binder_alloc: binder_alloc_mmap_handler: 15579 20001000-20004000 already  
mapped failed -16
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: BINDER_SET_CONTEXT_MGR already set
binder: undelivered TRANSACTION_COMPLETE
binder: release 15579:15584 transaction 4689 in, still active
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
binder: 15579:15584 ioctl 40046207 0 returned -16
binder: send failed reply for transaction 4689 to 15557:15606
binder: undelivered TRANSACTION_COMPLETE
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: 15612:15615 got transaction with invalid fd, -1
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
binder: send failed reply for transaction 4691 to 15612:15615
binder: 15612:15615 ioctl c0306201 20000380 returned -14
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
binder_alloc: binder_alloc_mmap_handler: 15612 20001000-20004000 already  
mapped failed -16
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
binder: BINDER_SET_CONTEXT_MGR already set
binder_alloc: 15612: binder_alloc_buf, no vma
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
binder: 15612:15615 ioctl 40046207 0 returned -16
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: undelivered TRANSACTION_COMPLETE
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15629:15644 got reply transaction with no transaction stack
binder: 15633:15638 ioctl 40046207 0 returned -16
binder: 15633:15645 got reply transaction with no transaction stack
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15629 20001000-20004000 already  
mapped failed -16
binder: 15633:15645 ioctl c0306201 20000380 returned -14
binder: BINDER_SET_CONTEXT_MGR already set
binder_alloc: binder_alloc_mmap_handler: 15633 20001000-20004000 already  
mapped failed -16
binder: 15629:15635 ioctl 40046207 0 returned -16
binder: release 15629:15635 transaction 4696 in, still active
binder: send failed reply for transaction 4696 to 15633:15645
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: 15633: binder_alloc_buf, no vma
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: undelivered TRANSACTION_COMPLETE
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
binder: 15655:15664 got reply transaction with no transaction stack
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: 15665:15666 ioctl 40046207 0 returned -16
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15655 20001000-20004000 already  
mapped failed -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15665:15673 got reply transaction with no transaction stack
binder: release 15655:15658 transaction 4702 in, still active
binder: 15665:15673 ioctl c0306201 20000380 returned -14
binder: 15655:15658 ioctl 40046207 0 returned -16
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: 15678:15686 got reply transaction with no transaction stack
binder_transaction: 19 callbacks suppressed
binder: 15678:15686 transaction failed 29201/-71, size 24-4 line 2741
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15665 20001000-20004000 already  
mapped failed -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15665:15673 ioctl 40046207 0 returned -16
binder_alloc: binder_alloc_mmap_handler: 15678 20001000-20004000 already  
mapped failed -16
binder: undelivered TRANSACTION_COMPLETE
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
binder_release_work: 29 callbacks suppressed
binder: undelivered TRANSACTION_ERROR: 29189
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: release 15678:15681 transaction 4706 in, still active
binder_send_failed_reply: 1 callbacks suppressed
binder: send failed reply for transaction 4706 to 15665:15702
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
binder: undelivered TRANSACTION_ERROR: 29201
binder: undelivered TRANSACTION_COMPLETE
binder: undelivered TRANSACTION_ERROR: 29189
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: 15711:15712 got transaction with invalid fd, -1
binder: 15711:15712 transaction failed 29201/-9, size 24-8 line 3077
binder: send failed reply for transaction 4708 to 15711:15712
binder: 15711:15712 ioctl c0306201 20000380 returned -14
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder_alloc: binder_alloc_mmap_handler: 15711 20001000-20004000 already  
mapped failed -16
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
binder: 15713:15721 got reply transaction with no transaction stack
binder: 15713:15716 ioctl 40046207 0 returned -16
binder: 15713:15721 transaction failed 29201/-71, size 24-4 line 2741
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15711:15712 ioctl 40046207 0 returned -16
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder_alloc: 15711: binder_alloc_buf, no vma
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
binder: 15711:15731 transaction failed 29201/-71, size 24-8 line 2741
binder: undelivered TRANSACTION_ERROR: 29190
binder: 15711:15720 transaction failed 29189/-3, size 0-0 line 2973
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15711:15731 ioctl c0306201 20000380 returned -14
binder: undelivered TRANSACTION_ERROR: 29201
binder: 15740:15745 transaction failed 29201/-71, size 24-4 line 2741
binder: undelivered TRANSACTION_ERROR: 29189
binder: undelivered TRANSACTION_COMPLETE
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15749:15751 ioctl 40046207 0 returned -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15749:15755 transaction failed 29201/-71, size 24-8 line 2741
binder: 15740:15745 transaction failed 29201/-71, size 24-4 line 2741
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: 15740:15743 ioctl 40046207 0 returned -16
binder: release 15740:15743 transaction 4715 in, still active
binder: 15749:15755 ioctl c0306201 20000380 returned -14
binder: send failed reply for transaction 4715 to 15749:15755
binder: undelivered TRANSACTION_ERROR: 29201
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: 15749: binder_alloc_buf, no vma
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
binder: 15749:15755 transaction failed 29189/-3, size 0-0 line 2973
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
binder: undelivered TRANSACTION_COMPLETE
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15765:15773 transaction failed 29201/-71, size 24-4 line 2741
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15780:15788 ioctl 40046207 0 returned -16
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15765:15769 ioctl 40046207 0 returned -16
binder: release 15765:15769 transaction 4722 in, still active
binder: send failed reply for transaction 4722 to 15780:15788
binder: 15780:15789 ioctl c0306201 20000380 returned -14
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15780:15789 ioctl 40046207 0 returned -16
binder: undelivered TRANSACTION_COMPLETE
binder: 15780:15827 ioctl c0306201 20000380 returned -14
binder: BINDER_SET_CONTEXT_MGR already set
binder: release 15791:15793 transaction 4726 in, still active
binder: 15791:15793 ioctl 40046207 0 returned -16
binder: send failed reply for transaction 4726 to 15780:15827
binder: undelivered TRANSACTION_COMPLETE
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: 15831:15837 got transaction with invalid fd, -1
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
binder: send failed reply for transaction 4730 to 15831:15837
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15831:15837 ioctl c0306201 20000380 returned -14
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'loop5' (00000000738b34bd): kobject_uevent_env
binder_alloc_mmap_handler: 6 callbacks suppressed
binder_alloc: binder_alloc_mmap_handler: 15831 20001000-20004000 already  
mapped failed -16
binder: 15839:15841 ioctl 40046207 0 returned -16
kobject: 'loop5' (00000000738b34bd): fill_kobj_path: path  
= '/devices/virtual/block/loop5'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: 15831: binder_alloc_buf, no vma
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: 15831:15837 ioctl 40046207 0 returned -16
binder_transaction: 9 callbacks suppressed
binder: 15839:15841 got reply transaction with no transaction stack
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15839 20001000-20004000 already  
mapped failed -16
binder: undelivered TRANSACTION_COMPLETE
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: BINDER_SET_CONTEXT_MGR already set
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
kobject: 'loop3' (00000000aa6c5897): kobject_uevent_env
binder: 15857:15859 ioctl 40046207 0 returned -16
kobject: 'loop3' (00000000aa6c5897): fill_kobj_path: path  
= '/devices/virtual/block/loop3'
binder: 15857:15864 got reply transaction with no transaction stack
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
binder: 15857:15864 ioctl c0306201 20000380 returned -14
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder_alloc: binder_alloc_mmap_handler: 15857 20001000-20004000 already  
mapped failed -16
kobject: 'kvm' (0000000048f78b94): kobject_uevent_env
binder: BINDER_SET_CONTEXT_MGR already set
binder: 15868:15871 ioctl 40046207 0 returned -16
binder_alloc: 15857: binder_alloc_buf, no vma
binder: 15857:15859 got reply transaction with no transaction stack
kobject: 'kvm' (0000000048f78b94): fill_kobj_path: path  
= '/devices/virtual/misc/kvm'
binder: 15857:15859 ioctl c0306201 20000380 returned -14
binder: 15868:15871 got reply transaction with no transaction stack
kobject: 'loop1' (000000000959b2d0): kobject_uevent_env
binder_alloc: binder_alloc_mmap_handler: 15868 20001000-20004000 already  
mapped failed -16
kobject: 'loop1' (000000000959b2d0): fill_kobj_path: path  
= '/devices/virtual/block/loop1'
binder: 15868:15871 got reply transaction with no transaction stack
kobject: 'loop0' (0000000048a3337e): kobject_uevent_env
kobject: 'loop0' (0000000048a3337e): fill_kobj_path: path  
= '/devices/virtual/block/loop0'
binder: 15881:15882 got transaction with invalid fd, -1
kobject: 'loop4' (000000003440eab0): kobject_uevent_env
binder: send failed reply for transaction 4744 to 15881:15882
kobject: 'loop4' (000000003440eab0): fill_kobj_path: path  
= '/devices/virtual/block/loop4'
binder: 15881:15882 ioctl c0306201 20000380 returned -14
binder_alloc: binder_alloc_mmap_handler: 15881 20001000-20004000 already  
mapped failed -16


---
This bug is generated by a bot. It may contain errors.
See https://goo.gl/tpsmEJ for more information about syzbot.
syzbot engineers can be reached at syzkaller@googlegroups.com.

syzbot will keep track of this bug report. See:
https://goo.gl/tpsmEJ#bug-status-tracking for how to communicate with  
syzbot.
