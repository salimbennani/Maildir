Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 24 Nov 2018 12:36:38 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga005.fm.intel.com (fmsmga005.fm.intel.com [10.253.24.32])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 12D0B580460;
	Fri, 23 Nov 2018 09:48:28 -0800 (PST)
Received: from orsmga102-1.jf.intel.com (HELO mga09.intel.com) ([10.7.208.27])
  by fmsmga005-1.fm.intel.com with ESMTP; 23 Nov 2018 09:48:27 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AhTdhyhdMO5YYYpLzbRR5ASfLlGMj4u6mDksu8pMi?=
 =?us-ascii?q?zoh2WeGdxc6/bBaN2/xhgRfzUJnB7Loc0qyK6/CmATRIyK3CmUhKSIZLWR4BhJ?=
 =?us-ascii?q?detC0bK+nBN3fGKuX3ZTcxBsVIWQwt1Xi6NU9IBJS2PAWK8TW94jEIBxrwKxd+?=
 =?us-ascii?q?KPjrFY7OlcS30P2594HObwlSizexfbB/IA+qoQnNq8IbnZZsJqEtxxXTv3BGYf?=
 =?us-ascii?q?5WxWRmJVKSmxbz+MK994N9/ipTpvws6ddOXb31cKokQ7NYCi8mM30u683wqRbD?=
 =?us-ascii?q?VwqP6WACXWgQjxFFHhLK7BD+Xpf2ryv6qu9w0zSUMMHqUbw5Xymp4rx1QxH0li?=
 =?us-ascii?q?gIKz858HnWisNuiqJbvAmhrAF7z4LNfY2ZKOZycqbbcNgHR2ROQ9xRWjRBDI2i?=
 =?us-ascii?q?coUPE+QPM+VZr4bhqFUBogC+BRGuCe701j9In2X70bEm3+g9DA3L2hErEdIUsH?=
 =?us-ascii?q?TTqdX4LKUdUf2vzKjI0D7Nd/RW2S366IjWbxsspvGNXbR3ccrLzkkvCRjIgUmK?=
 =?us-ascii?q?poz7PjOVy+ENs26F4Op8W+OvjHQnqwJqojS12sgsjYzJi5sTx1vZ9it52J44Kc?=
 =?us-ascii?q?OkREN/e9KoDZVduz+AO4drQc4uX3tktSc4x7EeuZO3YDIGxIopyhPRcfCLboeF?=
 =?us-ascii?q?7xH5WOqMITp1hGppeLyhiBux7UStz+jxWdSv31tJqydIncTDuWsX2BHW6cWIUe?=
 =?us-ascii?q?By80Kv1DaB1w3e7PxPL1oumqrBMZEhx6Y9lpoNvkTHGS/7gFv2jKCIeUU+4OSo?=
 =?us-ascii?q?6ProYq/gppCCM494kAb+Mr4hmsCnAOQ4NBYBX3SD9OiiyLHu+Vf1TKhEg/EoiK?=
 =?us-ascii?q?XVrZPXKdgBqqO4AQJZyoMj5Ay+Dzei3tQYh34HLFdddRKDjojpPUzOIf/hAfe8?=
 =?us-ascii?q?nVusijFryO7CPrH4BZXMIH7Dn6n7fbtm9U5cxxQ8zcpF65JXFL4BOvTzVVH1tN?=
 =?us-ascii?q?DCCR85KQO0z/79CNphzoMeRX6PAqiBPaPWsF+I5fwgL/ODZY8Iozv9L/kl5/jz?=
 =?us-ascii?q?jX42g1MdfK+p3YcJZ3C8BPhpP0KZYX/0iNcbDWgKphY+TPDtiFCaUT5cfXeyX7?=
 =?us-ascii?q?4m6TE8Eo6mDZrDSZqrgLyOxyq7GpxWZmZbClGDC3vodoOEW+sSZyKWOMNujjsE?=
 =?us-ascii?q?Vb25QY87yR6urBP6y6ZgLufM+C0Ysozs2MJ25+3UkxEy8zt0At+Z02GMSWF0g2?=
 =?us-ascii?q?wJSyU33KB5vUxy1FOD3bJkjPxfENxZ/+lJXRsiNZ7A0+x6DMj/VRjafteJT1am?=
 =?us-ascii?q?Qc+qASsrQdIz2NIOZ0d9G9O/jhHMxSaqArkVl6CVC5ww6K7Tw3/xJ8NlwXbcyK?=
 =?us-ascii?q?Yhl0UmQtdINWC+ha5w7Q7TC5TNk0WYjamqc6sc0TXJ9GeCy2qOoU5ZXBRxUaXD?=
 =?us-ascii?q?QXAQeE/Woc7l6UPFSr+kEa4nPRdZyc6eNqtKbcXkgkhcS/f9JtvSeWKxlH22BR?=
 =?us-ascii?q?aT2LyMao3me2Ee3CXYDEgJiAQT/XeANQgjCSatuWPeDDpyFV3xZ0Pg6/VxqHS+?=
 =?us-ascii?q?TkUs1QGFc1Vh16ap+h4SnfGTVukc3qwatys7qzV7BlC938nIBNqGvAdheKRcYd?=
 =?us-ascii?q?Ug4FZIz27Ztgp9PoC+IKBmnFIRbwN3v0b23RVtFopAidQqrG8tzAdqNaKY0VZB?=
 =?us-ascii?q?dzSE3ZDwOrzbMHXy8Aqoa67M3lHe0dCW+qgU5fQ8qlXjuhypF0U4/3Vm1dlVz2?=
 =?us-ascii?q?WT5pHQAAUOVpLxV1499wJmqLHCfik9+4TU2GV2PqmwrDDD1MwmBes/xhm7YtdQ?=
 =?us-ascii?q?LbmLFAnxE80dGcijM+gqm1mvbhIZM+Fe7q80P8W6d/SY3K6nJvpvnDWjjW5f+o?=
 =?us-ascii?q?ByzlqM9zZgSu7Px5sEw+yY0hGbWDvmjVahstr4mYZLZTwJGmq/yC7kBJNeZ6Fo?=
 =?us-ascii?q?fIYLD3uuLNOzxtlkm5HtXHtY/ka5B1wawM+pZQaSb1vl0A1K1EQYvWaomTGlwD?=
 =?us-ascii?q?xziT0pqLSQ3DbPw+j7aBUIIGpLS3R8glf2Joi0icsXXEypbwgviRuk6lz2x6ld?=
 =?us-ascii?q?pKRjMWbTRV1EcDTxL2FnSqGwrKaNY9ZT6JM0tiVaSOS9YVGARr/9uRcayD7jH2?=
 =?us-ascii?q?1FyTA/djGqvIj5nhNghGKcKnZzsGTWecVqyRjD49zcQOZb3iAaSylglTnXGl+8?=
 =?us-ascii?q?MsGr/dqOjZfDseO+V2W7Wp1IaybrzoCAtCq95WJ0Bx2yhPSzmtzhEQgn3i73zd?=
 =?us-ascii?q?hqVSPUrBniZonnzbi1MeVifkNwHl/z99J6Gp1ikos3nJwR2WIVhpKP8XoFkGfz?=
 =?us-ascii?q?N85W2ab/bHoLWD4KzMTZ4Anj2E1/MH2Jw5j1WWmawstkf9O6eH8Z2joh78BWD6?=
 =?us-ascii?q?eZ9L9EkjF0olairQLRfOJynjESyfY17H4agucJuBcizymHA7ASG1VYMjLolxiS?=
 =?us-ascii?q?89++q6BXbn61cbeszEp+gcyhDLaarwFZWXb5eY0tETV+78phK1LMzGP86pv/d9?=
 =?us-ascii?q?bOd9ITuQaZkxPBj+hTNZIwmeAGhSthOWLho3Ilz/Q3ggBp3ZG/pIKHMXli/Lql?=
 =?us-ascii?q?Ah5EMT34f98T+jbojapEn8eZxYavHoh6GjUQXZvlVvaoEDMUtfT6OAeCCjw8qn?=
 =?us-ascii?q?GHGbXBGQ+T8ltpr3XKE5qzLXGYOGEZzcl+RBmaPEFQmxobXDI+np4kDAyqwNHh?=
 =?us-ascii?q?fVx95jAQ4F74txRNxvhpNxn5TmfQugOoZi0oR5iYKRpc9htC6FvNMcyC8uJzGD?=
 =?us-ascii?q?lV/p+7owyINGObfB5EDX0TVkyHGlDjPaSu5d/a/OiDHee+K/rOYbOTqe1RTfuI?=
 =?us-ascii?q?xJSv0pd48DaILMmAIn5iD/gj0EpZQX95A9jZmykISyEPlyPNaNObpA6h+iJtqM?=
 =?us-ascii?q?Cz6u/rWAXp5YuAELZSNdRv+xargaaMLeKQhSB5KSpG2ZMI33PH1L8f3FsKgSF0?=
 =?us-ascii?q?azatCagAtTLKTK/Imq9YER8bayBwNMtJ9a483RNNOcnUitzrzL54k+U1BkxBVV?=
 =?us-ascii?q?zgnMGpeMMLL3u8NFPBGEaEKrCGKSfXzMHwZKO2UadQg/lMtx2spTabFFfuMS6e?=
 =?us-ascii?q?lzbyTRCgL+FNgDufPBxfo4y9dhdtCW7+TNPpcBG7Mdl3jSEozr0wnH/FKWkcMT?=
 =?us-ascii?q?1keUNXsrKQ9T9Ygul4G2FZ8nplLOyElzyF4OXCNpkWseVkAiJvmuJe4XQ6zaZV?=
 =?us-ascii?q?7S5eSPx0nivSssBho1W8nuaTzTpnVQJEqixXi4KToUViJaLZ+4FAWHne+hIN6G?=
 =?us-ascii?q?SQCxISqNpkCt3goaZQytfUmaL3KTdC9c/U/MQGC8jVLsKHLGQuMR7zFDHICwsF?=
 =?us-ascii?q?SG3jCWaKrkpRivyNvliStIQ9rNC4kZkWT5dfVVooBrYUDVljENUeIZBxGDQ+nu?=
 =?us-ascii?q?jfxIQM5HyjvFzSSd9cs5TvSP2fG7PsJSyfgL0CYAEHi/usKYUVK52+2EF4bFR+?=
 =?us-ascii?q?tJrFFlCWXt1XpCBlKAgurxMe3mJ5SzgCxlj0IiWq+ngNXaqlmBksjRVWau0z9S?=
 =?us-ascii?q?rp5VorOV3QpzB2m040z4a2yQuNeSL8ef/jFbpdDDD54g1oasv2?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ANAACxPPhbh0O0hNFjHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUQcBAQsBgTBQgVwECycKhzYDhE6LNkqCIZIwhHeBJANHGAEYEwGIWiI0CQ0?=
 =?us-ascii?q?BAwEBAQEBAQIBEwEBAQgNCQgpIwyCNiQBgmkCPQEBNwEFCQIBARY4Ay8nBAENB?=
 =?us-ascii?q?QWDHIFqAxUBAgKcDgKKB4IfgnYBAQWEdxiCBgiMCReBQD+OfIsThEqQJwmRJCO?=
 =?us-ascii?q?RBwEsl10CBAIEBQINAQEFgUaCDTMaCBsVgyeCGwwXg0qKUnKBBQEBIYphAYEeA?=
 =?us-ascii?q?QE?=
X-IPAS-Result: =?us-ascii?q?A0ANAACxPPhbh0O0hNFjHAEBAQQBAQcEAQGBUQcBAQsBgTB?=
 =?us-ascii?q?QgVwECycKhzYDhE6LNkqCIZIwhHeBJANHGAEYEwGIWiI0CQ0BAwEBAQEBAQIBE?=
 =?us-ascii?q?wEBAQgNCQgpIwyCNiQBgmkCPQEBNwEFCQIBARY4Ay8nBAENBQWDHIFqAxUBAgK?=
 =?us-ascii?q?cDgKKB4IfgnYBAQWEdxiCBgiMCReBQD+OfIsThEqQJwmRJCORBwEsl10CBAIEB?=
 =?us-ascii?q?QINAQEFgUaCDTMaCBsVgyeCGwwXg0qKUnKBBQEBIYphAYEeAQE?=
X-IronPort-AV: E=Sophos;i="5.56,270,1539673200"; 
   d="scan'208";a="54560359"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 23 Nov 2018 09:48:25 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2441009AbeKXEdg (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 23 Nov 2018 23:33:36 -0500
Received: from mail-eopbgr730074.outbound.protection.outlook.com ([40.107.73.74]:63568
        "EHLO NAM05-DM3-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1730951AbeKXEdg (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Nov 2018 23:33:36 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=CAVIUMNETWORKS.onmicrosoft.com; s=selector1-cavium-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=1/gKwzH0eybbHxDCEJm2eU7a9KGt1shaJjOCxHIjDiQ=;
 b=VNJARIaaJ2eoELJ/1k2oHYtWXCZIPFbCqLtJVJ5eRR2EedSsIo8UmSl39Ojx53jyv0ZDIltXLVEPg4Vay9OLrS/hIOA9kUuSl8phAVW5F0XepSXiMuaAeMOjNKVz37JQ9gvxV0Q8S2w6km9ZUYZg6NyITrkyaN/9qO1rZNxrdMo=
Received: from BYAPR07MB4373.namprd07.prod.outlook.com (52.135.224.16) by
 BYAPR07MB5782.namprd07.prod.outlook.com (20.178.0.144) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1361.18; Fri, 23 Nov 2018 17:48:18 +0000
Received: from BYAPR07MB4373.namprd07.prod.outlook.com
 ([fe80::db8:4dba:8bb:3f5]) by BYAPR07MB4373.namprd07.prod.outlook.com
 ([fe80::db8:4dba:8bb:3f5%3]) with mapi id 15.20.1361.018; Fri, 23 Nov 2018
 17:48:18 +0000
From: Yury Norov <ynorov@caviumnetworks.com>
To: Andrew Morton <akpm@linux-foundation.org>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
CC: "Norov, Yuri" <Yuri.Norov@cavium.com>,
        Clement Courbet <courbet@google.com>,
        Geert Uytterhoeven <geert@linux-m68k.org>,
        Alexey Dobriyan <adobriyan@gmail.com>,
        Matthew Wilcox <mawilcox@microsoft.com>,
        Rasmus Villemoes <linux@rasmusvillemoes.dk>
Subject: [PATCH] find_bit_benchmark: align test_find_next_and_bit with others
Thread-Topic: [PATCH] find_bit_benchmark: align test_find_next_and_bit with
 others
Thread-Index: AQHUg1S3l6LZVyjzDUS6OC9cPmo1Kw==
Date: Fri, 23 Nov 2018 17:48:17 +0000
Message-ID: <20181123174803.10916-1-ynorov@caviumnetworks.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HE1PR02CA0092.eurprd02.prod.outlook.com
 (2603:10a6:7:29::21) To BYAPR07MB4373.namprd07.prod.outlook.com
 (2603:10b6:a02:c0::16)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Yuri.Norov@cavium.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [50.233.148.155]
x-ms-publictraffictype: Email
x-microsoft-exchange-diagnostics: 1;BYAPR07MB5782;6:d6GQR3llg2FIfdK5k4jt6Qa0/Jc0NHZjnZ6v3O6MUbEBmu7cDl/E40bmRY40JTY31cwiJeUMVhWTK4/Htp1vKpIBesbAKUo9vK+pJFx5Mj64YeKPcjOzLBUONBnRdUysZ7vOuAupb4oEHTnbC54KKkSeG82ClZQyVI9HKoZXkEbPltRUPayJf1/HixchTpNGM++h84F3QeUoxzQfs+h3u3sN57q4clsWOgUd3RzL8xjZsiGWN27O86zhYTJCwmIELOqg6/g8fTRgQ7aa8rrgSliIHlwX1jIba38lp4tVPnO2qvUuJCILZwwlK+fmCDEbiZ1deA4F0Qw5IHJSB18MYq3qnoV2IGeFczWmmR2HeWmjNaCau6UJDp6jXSYWbhqThkDC/9RdR5R7VUPzASWhz8iQLvR7BaXm1VKkfnT92zYf1EYJCJw38QJiSyp4e6c90FJBCAnNA8Qov1DLiVMkkw==;5:4adNW+kVJ1S7dV8WK8n1q8EGQkbnICC2KWDWMdlT5Z9WP3zpL9WShRKl1Bycs1ABiGrMT1iZXpoEbHcWe83Htrdv+dxYmhMAG1J6z15To09StAHU8VxAytpH1Y+fuRedJRhTeu1bf4We2LRriYTcPrIN6sjrjWaYqZ5BJGt24HY=;7:qJCjlRsNmo40JAMxA12x6UuIFkKsEhNOe4/m0IjXSWK6UxQ7jClYkWYGX8hRjcS2PiKkPgwl0fxuAL4fDt3eYXc8IWYJOnWYWAud0ZyBdfuXS9BImKzknXc+18Sl3/7MXzmAX3tvzlDRkCZuhI3+Iw==
x-ms-office365-filtering-correlation-id: 989cc0f6-b611-4bcd-d3a8-08d6516bd983
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390098)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600074)(711020)(2017052603328)(7153060)(7193020);SRVR:BYAPR07MB5782;
x-ms-traffictypediagnostic: BYAPR07MB5782:
x-microsoft-antispam-prvs: <BYAPR07MB57829A2459866810AC2E4E67E3D40@BYAPR07MB5782.namprd07.prod.outlook.com>
x-ms-exchange-senderadcheck: 1
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(8211001083)(6040522)(2401047)(8121501046)(5005006)(93006095)(10201501046)(3231442)(944501410)(52105112)(3002001)(148016)(149066)(150057)(6041310)(20161123560045)(20161123558120)(20161123564045)(201703131423095)(201702281528075)(20161123555045)(201703061421075)(201703061406153)(20161123562045)(201708071742011)(7699051)(76991095);SRVR:BYAPR07MB5782;BCL:0;PCL:0;RULEID:;SRVR:BYAPR07MB5782;
x-forefront-prvs: 086597191B
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(346002)(136003)(376002)(396003)(39860400002)(366004)(199004)(189003)(5660300001)(68736007)(6512007)(110136005)(476003)(53936002)(2501003)(386003)(6506007)(99286004)(6486002)(14454004)(316002)(305945005)(2616005)(71200400001)(71190400001)(52116002)(1076002)(54906003)(25786009)(42882007)(81166006)(106356001)(66066001)(105586002)(81156014)(72206003)(6436002)(575784001)(36756003)(478600001)(256004)(1857600001)(8936002)(2906002)(4326008)(97736004)(8676002)(2900100001)(7736002)(102836004)(486006)(186003)(26005)(3846002)(6116002)(39060400002);DIR:OUT;SFP:1101;SCL:1;SRVR:BYAPR07MB5782;H:BYAPR07MB4373.namprd07.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
x-microsoft-antispam-message-info: POZSTEIBA6C1uBwjlsw+9S0oDwZaeOklaCHlsHNEZu7oP58qiJhtlRhhsJtZwuhpgEAyhu42sEnNIi2qTzZ35wRJe+/pZaQMO2De2C2JRFf3heDT2ZiQ6FQ9NG938EqstqDOBZhdrZfFHnFjnEZ6xMYzb8V7MKaquldBWSsgqmxWqF/K+xCbztEDgSFREj8+fc2lSuDLJuXgimCUVnBdHJ5zs4ttz6dmMQXmWs6JraVAz4+B6jVRuRJI+NPS7JbCN39mmhLfaUZIxwymJt0C0lBFBdck0fxTckQhlh2H0ZpeOA148+RcX07pKli92SQ6Ld16PgyFZ4lTb35SLvciiqtzBiOFei4nXX26nloPMJU=
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: caviumnetworks.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 989cc0f6-b611-4bcd-d3a8-08d6516bd983
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Nov 2018 17:48:17.8868
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 711e4ccf-2e9b-4bcf-a551-4094005b6194
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR07MB5782
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

In contrary to other tests, the test_find_next_and_bit uses tab
formatting in output and get_cycles() instead of ktime_get().
get_cycles() is not supported by some arches, so ktime_get()
fits better in generic code.

Fix it and minor style issues, so the output looks like this:

Start testing find_bit() with random-filled bitmap
find_next_bit:                 7142816 ns, 163282 iterations
find_next_zero_bit:            8545712 ns, 164399 iterations
find_last_bit:                 6332032 ns, 163282 iterations
find_first_bit:               20509424 ns,  16606 iterations
find_next_and_bit:             4060016 ns,  73424 iterations

Start testing find_bit() with sparse bitmap
find_next_bit:                   55984 ns,    656 iterations
find_next_zero_bit:           19197536 ns, 327025 iterations
find_last_bit:                   65088 ns,    656 iterations
find_first_bit:                5923712 ns,    656 iterations
find_next_and_bit:               29088 ns,      1 iterations

Signed-off-by: Yury Norov <ynorov@caviumnetworks.com>
---
 lib/find_bit_benchmark.c | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

diff --git a/lib/find_bit_benchmark.c b/lib/find_bit_benchmark.c
index 5367ffa5c18f..f0e394dd2beb 100644
--- a/lib/find_bit_benchmark.c
+++ b/lib/find_bit_benchmark.c
@@ -108,14 +108,13 @@ static int __init test_find_next_and_bit(const void *=
bitmap,
 		const void *bitmap2, unsigned long len)
 {
 	unsigned long i, cnt;
-	cycles_t cycles;
+	ktime_t time;
=20
-	cycles =3D get_cycles();
+	time =3D ktime_get();
 	for (cnt =3D i =3D 0; i < BITMAP_LEN; cnt++)
-		i =3D find_next_and_bit(bitmap, bitmap2, BITMAP_LEN, i+1);
-	cycles =3D get_cycles() - cycles;
-	pr_err("find_next_and_bit:\t\t%llu cycles, %ld iterations\n",
-		(u64)cycles, cnt);
+		i =3D find_next_and_bit(bitmap, bitmap2, BITMAP_LEN, i + 1);
+	time =3D ktime_get() - time;
+	pr_err("find_next_and_bit:  %18llu ns, %6ld iterations\n", time, cnt);
=20
 	return 0;
 }
--=20
2.17.1

