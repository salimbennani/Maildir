Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 23 Nov 2018 23:32:24 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from orsmga002.jf.intel.com (orsmga002.jf.intel.com [10.7.209.21])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 06A9858037D;
	Fri, 23 Nov 2018 00:13:16 -0800 (PST)
Received: from orsmga106.jf.intel.com ([10.7.208.65])
  by orsmga002-1.jf.intel.com with ESMTP; 23 Nov 2018 00:13:15 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3ANelOLxSQKV8Ipfo9OFw0mVTql9psv+yvbD5Q0YIu?=
 =?us-ascii?q?jvd0So/mwa64YBCEt8tkgFKBZ4jH8fUM07OQ7/iwHzRYqb+681k6OKRWUBEEjc?=
 =?us-ascii?q?hE1ycBO+WiTXPBEfjxciYhF95DXlI2t1uyMExSBdqsLwaK+i764jEdAAjwOhRo?=
 =?us-ascii?q?LerpBIHSk9631+ev8JHPfglEnjWwba9xIRmssQndqtQdjJd/JKo21hbHuGZDdf?=
 =?us-ascii?q?5MxWNvK1KTnhL86dm18ZV+7SleuO8v+tBZX6nicKs2UbJXDDI9M2Ao/8LrrgXM?=
 =?us-ascii?q?TRGO5nQHTGoblAdDDhXf4xH7WpfxtTb6tvZ41SKHM8D6Uaw4VDK/5KpwVhTmlD?=
 =?us-ascii?q?kIOCI48GHPi8x/kqRboA66pxdix4LYeZyZOOZicq/Ye94RWGhPUdtLVyFZDI2y?=
 =?us-ascii?q?b5UBAfcCM+ZWoIbyu0YBohmwCgm3HOPiyCRFhnDq0aAgyektDRvL0Q4mEtkTsH?=
 =?us-ascii?q?rUttL1NKIKXOC31qbH0TLDb+tR2Tzg7YjIdRYhruyNXbltdsfRy1MgGB/CjlWI?=
 =?us-ascii?q?rozoJDGV1uEKs2id8uVgVPiji2k9qwF+uzWiwNonhIrRho8N1FzI6SF0zJwoKd?=
 =?us-ascii?q?C2VkJ3e8OoHZhMuy2ANoZ7QNsuT39ytCok1LELtoS3cDYFxZg53RLTduCLf5WO?=
 =?us-ascii?q?7xn+TuieOy14i2hgeL+nhxa970ygyurkW8mq31ZFsDBFnsPPtn8TzRzT7NaISv?=
 =?us-ascii?q?9n8kemwzaP2Bjf6uBCIU8qiarWM4AtzqI0m5YJrEjOEDH6lF/rgKKVakko4Oml?=
 =?us-ascii?q?5ub/brXjvJCcNot0ig/kMqQpn8yyGeA4MgkIX2iG9uWwzb7j8lPjQLVMkPI2lr?=
 =?us-ascii?q?DVsJfUJMQduKG5GRRY0pgs6xmhFTeqytcYkmcdLFJDZh2Hi5LlO1bUIPD3Ffu/?=
 =?us-ascii?q?mUijkC93x/DaOb3sGpHNLnnAkLj/Z7p85FNcxRE3zdBe4ZJUF74ALOjyWk/3qN?=
 =?us-ascii?q?zXEBs5PxaozObgDdV3zpkeVn6XAq+FLKPStkeF5uI1LOmNeI8aojH9J+Il5/7z?=
 =?us-ascii?q?l3A5n1AdcLKt3ZsWbnC4A/tnL1+YYXrqntcOD2MKshAiQ+ztjV2ISSRTaGqqX6?=
 =?us-ascii?q?Ig+jE7D5qrDYXERo+zmrCB3yC7HptQZmBBEV2MFXbod4OZW/YDci6SI8lhkiAa?=
 =?us-ascii?q?WrilUYMuyRautAriwbp9MuXU4jEYtY7k1NVt/eLTjhEy9Tt3D8iHyWGCVWN0k3?=
 =?us-ascii?q?gMRz832qB/vEN8xk2C0ah+n/xXC9hT6+lVXQc9MJ7W1/Z6BMzqWgLdYteJT06r?=
 =?us-ascii?q?Qta8DjE3VN4xx94ObFx7G9WtlR3D2yuqA7kIl72EHpA086Tc32TvKMZ50XrJyK?=
 =?us-ascii?q?4hj1w+SMtVKWKmnrJ/9xTUB4PRjkqWjbiqeroG0C7N7miDy3GOs19eUAJ3VaXF?=
 =?us-ascii?q?XnUfZk/NoNT950PCSaKuCLs9PgtAz86CNrVFatnzgVpaQ/fjPczUY3itlGeoGR?=
 =?us-ascii?q?aI2rSMYZL3dGoHwiXSFlIIkwAJ8naALggxGCGhrnnaDDxvE1Lvfkzt/fN/qHO9?=
 =?us-ascii?q?Uk870QWKY1d92Lqy/x4fneacRO8L3rIYpCchrC15HEq839LTDNqAuwphfaVGbd?=
 =?us-ascii?q?Mh+ltH0njZtwh8PpymIKBvnVoecwVxv0Pz2BR7EIRAkc42rHw0yAp+M76X0FRE?=
 =?us-ascii?q?dzmAx5D/JqXXKnXu/BCoc6PZwFXe38iZ+6gR6PU0sU7svBy0GUU49XVn0N5V02?=
 =?us-ascii?q?WH65XODQoSV4/xU0kt+xh7obHafjcy54fO2XJwNqm0tyfI28g1C+s91hagY9Bf?=
 =?us-ascii?q?PbuEFQ/vCcEVG9KiKe0qm1ezaBIEM/tf9Ko1P8OgavuH17SnPOdmnDK6k2tH5J?=
 =?us-ascii?q?px3V6L9yp5UuTIxYoKw+mE3gubUDfxlE2hssHrlo9efzEdA22/xTLiBIFPfK1y?=
 =?us-ascii?q?fJ8HBnu0LM2z29pxmYTtW3le9FO4A1MG2cmpeQedblDn3A1Q01gXrmKjmSei0z?=
 =?us-ascii?q?N0lDQppLKF3CPS2+TiaAYHOmlTSWhijFfgO4i1g8oBXEi1aQgkjx+l5Uf8x6hG?=
 =?us-ascii?q?q6VzNWjTQUFUfyfoK2FuSLe/tr2HY8RX8pMnrT1XUPigYVCdUrP9oQEV0zngH2?=
 =?us-ascii?q?tdwzA3bSqqtY/6nxx5iWKdKmh8rHzCdMF0xBff4sHcRPFL0joHQil4lSfYBlym?=
 =?us-ascii?q?M9a1+tWUko/JsvqiWGK5Sp1TbS7rwJuAtSSh4m1mGx+/n/G1mtD8FQg60Cn718?=
 =?us-ascii?q?RlVCnSrRb8ZJXr2Lq+Me59YkZoA1r84dJgGo5iioswmI0Q2X8Ci5WW53UHkH3/?=
 =?us-ascii?q?MdVG2a3kanoNSiUGw9rU4AjjxU1iIWiFx4P/VnWB3MRhY8O2bX8R2iI498pKEr?=
 =?us-ascii?q?ub7KRYnStppVq1tQfRYfl+njgH0/cv5mAVg/oVuAUz1CWSGa4dHVNXPSH3kxSI?=
 =?us-ascii?q?7ta+rLhYZWq1cLiw0lZ+ks6lDL2Yvg5cX3P5cI84HSBs9sV/LE7M0Hrr54H4f9?=
 =?us-ascii?q?nQaMgftxyOnBfGkuhVM4kxlvsRiCpjOGL9u2AlyuEhgRxv25G6oJaIK2F38K2l?=
 =?us-ascii?q?BR5YMyX/Z9kP9TH1kaZegsGW0pi0EZp7HTULWIboQeisEDIPrvnnMweOEDshqn?=
 =?us-ascii?q?aUA7bfHAmf6Ft4oHLLCZykK3aXJHwBx9V4WBadPFBfgBwTXDginJ42DAWqy9L6?=
 =?us-ascii?q?cEtj+jAd/F34qgZPyuJ1MRnwSHzfqRysajc1TpifMRVX4htD50fTLcyR8OZzEz?=
 =?us-ascii?q?tE8Z2mqQyHMnabaBhQDWEVRkyEAEjuP7mp5dnd6uiYG/CxL/3UbbWVruxeUfiI?=
 =?us-ascii?q?yImr0otn+TaMK8qOMmNjD/09xkpMQ3R5F97FlDUITiwdjzjNYNKDpBeg5i13qd?=
 =?us-ascii?q?iy8PT1VwLu5ouPCLpSPc9s+xCshqeDOPCfhDxkKTZDzZ4MwX7IyL4C3F8dkS1u?=
 =?us-ascii?q?dj+tEageui7JVq7fhqhXDxsDYSNpKMRI97483hVKOcPDkNz1y6V3juQrBFZFT1?=
 =?us-ascii?q?DhnsCpaNcOI2G8MlPHGUmKOK6HJT3N38H4f6e8RadMg+VTsh26oSybHFP7PjSf?=
 =?us-ascii?q?iznpUAiiMf1NjCGeJhBRpJuxfQptCWf9StLrcRm7MN5xjT0rzrw4nHLKNWgAMT?=
 =?us-ascii?q?did0NBtKGf7SRdgv9nAWxO8mJlLfWYmyae9+TZKowZsf1uAiR1keJV+HU7y7tP?=
 =?us-ascii?q?4yFCS/x4gy/Srt9oo1G7neiD0DtnUBxSqjlVgIKHp1ltOaLc9soIZXGRzRUL4i?=
 =?us-ascii?q?3EGhMMqJ1pB9vgk6VZxdXQmab3bjxF9oSH09EbAp3WIcmAKH1pNB3vFD+cWAkM?=
 =?us-ascii?q?RjmzMkndgktbnPDU8Wea+Mtp4qPwkYYDH+cIHGc+EekXXwE8RIQP?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0ABAAC6tfdbh0O0hNFiGgEBAQEBAgEBA?=
 =?us-ascii?q?QEHAgEBAQGBUQUBAQEBCwGDaycKg2+IGF+LH4INFJcnFIFfAg0dEwGIUiI0CQ0?=
 =?us-ascii?q?BAwEBAQEBAQIBEwEBAQgNCQgpL4I2JAGCYQEBAQECAQECIFYFAQkBAQoYCSECA?=
 =?us-ascii?q?gMMBUkTBYMcAYF5CAQBpy+BL4oJD4JtiRwXPoFBhCOEZ4MbMYImAoh/JIFulHE?=
 =?us-ascii?q?JgiCPBCMKkH6IQZE1gg19CIMnglCOC0AxAYEEAQEhimIBgR4BAQ?=
X-IPAS-Result: =?us-ascii?q?A0ABAAC6tfdbh0O0hNFiGgEBAQEBAgEBAQEHAgEBAQGBUQU?=
 =?us-ascii?q?BAQEBCwGDaycKg2+IGF+LH4INFJcnFIFfAg0dEwGIUiI0CQ0BAwEBAQEBAQIBE?=
 =?us-ascii?q?wEBAQgNCQgpL4I2JAGCYQEBAQECAQECIFYFAQkBAQoYCSECAgMMBUkTBYMcAYF?=
 =?us-ascii?q?5CAQBpy+BL4oJD4JtiRwXPoFBhCOEZ4MbMYImAoh/JIFulHEJgiCPBCMKkH6IQ?=
 =?us-ascii?q?ZE1gg19CIMnglCOC0AxAYEEAQEhimIBgR4BAQ?=
X-IronPort-AV: E=Sophos;i="5.56,268,1539673200"; 
   d="asc'?scan'208";a="41273922"
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Unscannable: 2
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 23 Nov 2018 00:13:14 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2408385AbeKWS4U (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 23 Nov 2018 13:56:20 -0500
Received: from relay7-d.mail.gandi.net ([217.70.183.200]:51533 "EHLO
        relay7-d.mail.gandi.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S2390293AbeKWS4T (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Nov 2018 13:56:19 -0500
X-Originating-IP: 2.224.242.101
Received: from w540 (2-224-242-101.ip172.fastwebnet.it [2.224.242.101])
        (Authenticated sender: jacopo@jmondi.org)
        by relay7-d.mail.gandi.net (Postfix) with ESMTPSA id 2F28C2001C;
        Fri, 23 Nov 2018 08:13:01 +0000 (UTC)
Date: Fri, 23 Nov 2018 09:13:00 +0100
From: jacopo mondi <jacopo@jmondi.org>
To: Yong <yong.deng@magewell.com>
Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
        Maxime Ripard <maxime.ripard@bootlin.com>,
        Mauro Carvalho Chehab <mchehab@kernel.org>,
        Rob Herring <robh+dt@kernel.org>,
        Mark Rutland <mark.rutland@arm.com>,
        Chen-Yu Tsai <wens@csie.org>,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        "David S. Miller" <davem@davemloft.net>,
        Andrew Morton <akpm@linux-foundation.org>,
        Arnd Bergmann <arnd@arndb.de>,
        Hans Verkuil <hans.verkuil@cisco.com>,
        Geert Uytterhoeven <geert@linux-m68k.org>,
        Neil Armstrong <narmstrong@baylibre.com>,
        Philipp Zabel <p.zabel@pengutronix.de>,
        Jacopo Mondi <jacopo+renesas@jmondi.org>,
        Thomas Gleixner <tglx@linutronix.de>,
        Todor Tomov <todor.tomov@linaro.org>,
        linux-media@vger.kernel.org, devicetree@vger.kernel.org,
        linux-arm-kernel@lists.infradead.org, linux-kernel@vger.kernel.org,
        linux-sunxi@googlegroups.com,
        Sakari Ailus <sakari.ailus@linux.intel.com>
Subject: Re: [PATCH v12 1/2] dt-bindings: media: Add Allwinner V3s Camera
 Sensor Interface (CSI)
Message-ID: <20181123081300.GC6788@w540>
References: <1540887143-27904-1-git-send-email-yong.deng@magewell.com>
 <308184907.pMD7ZDI2dr@avalon>
 <20181123074514.GB6788@w540>
 <20181123160117.7eed41aac3e7e31e4e6d98be@magewell.com>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha256;
        protocol="application/pgp-signature"; boundary="y2zxS2PfCDLh6JVG"
Content-Disposition: inline
In-Reply-To: <20181123160117.7eed41aac3e7e31e4e6d98be@magewell.com>
User-Agent: Mutt/1.5.24 (2015-08-30)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org


--y2zxS2PfCDLh6JVG
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline

Hi Yong,

On Fri, Nov 23, 2018 at 04:01:17PM +0800, Yong wrote:
> Hi jacopo,
>
> On Fri, 23 Nov 2018 08:45:14 +0100
> jacopo mondi <jacopo@jmondi.org> wrote:
>
> > Hi Yong,
> >
> > On Tue, Oct 30, 2018 at 03:06:24PM +0200, Laurent Pinchart wrote:
> > > Hi Yong,
> > >
> > > Thank you for the patch.
> > >
> > > On Tuesday, 30 October 2018 10:12:23 EET Yong Deng wrote:
> > > > Add binding documentation for Allwinner V3s CSI.
> > > >
> > > > Acked-by: Maxime Ripard <maxime.ripard@bootlin.com>
> > > > Acked-by: Sakari Ailus <sakari.ailus@linux.intel.com>
> > > > Reviewed-by: Rob Herring <robh@kernel.org>
> > > > Signed-off-by: Yong Deng <yong.deng@magewell.com>
> > >
> > > Reviewed-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
> > >
> > > > ---
> > > >  .../devicetree/bindings/media/sun6i-csi.txt        | 56 +++++++++++++++++++
> > > >  1 file changed, 56 insertions(+)
> > > >  create mode 100644 Documentation/devicetree/bindings/media/sun6i-csi.txt
> > > >
> > > > diff --git a/Documentation/devicetree/bindings/media/sun6i-csi.txt
> > > > b/Documentation/devicetree/bindings/media/sun6i-csi.txt new file mode
> > > > 100644
> > > > index 000000000000..443e18c181b3
> > > > --- /dev/null
> > > > +++ b/Documentation/devicetree/bindings/media/sun6i-csi.txt
> > > > @@ -0,0 +1,56 @@
> > > > +Allwinner V3s Camera Sensor Interface
> > > > +-------------------------------------
> > > > +
> > > > +Allwinner V3s SoC features a CSI module(CSI1) with parallel interface.
> > > > +
> > > > +Required properties:
> > > > +  - compatible: value must be "allwinner,sun8i-v3s-csi"
> > > > +  - reg: base address and size of the memory-mapped region.
> > > > +  - interrupts: interrupt associated to this IP
> > > > +  - clocks: phandles to the clocks feeding the CSI
> > > > +    * bus: the CSI interface clock
> > > > +    * mod: the CSI module clock
> > > > +    * ram: the CSI DRAM clock
> > > > +  - clock-names: the clock names mentioned above
> > > > +  - resets: phandles to the reset line driving the CSI
> > > > +
> > > > +The CSI node should contain one 'port' child node with one child 'endpoint'
> > > > +node, according to the bindings defined in
> > > > +Documentation/devicetree/bindings/media/video-interfaces.txt.
> > > > +
> > > > +Endpoint node properties for CSI
> > > > +---------------------------------
> > > > +See the video-interfaces.txt for a detailed description of these
> > > > properties. +- remote-endpoint	: (required) a phandle to the bus receiver's
> > > > endpoint +			   node
> > > > +- bus-width:		: (required) must be 8, 10, 12 or 16
> > > > +- pclk-sample		: (optional) (default: sample on falling edge)
> > > > +- hsync-active		: (required; parallel-only)
> > > > +- vsync-active		: (required; parallel-only)
> > > > +
> > > > +Example:
> > > > +
> > > > +csi1: csi@1cb4000 {
> > > > +	compatible = "allwinner,sun8i-v3s-csi";
> > > > +	reg = <0x01cb4000 0x1000>;
> > > > +	interrupts = <GIC_SPI 84 IRQ_TYPE_LEVEL_HIGH>;
> > > > +	clocks = <&ccu CLK_BUS_CSI>,
> > > > +		 <&ccu CLK_CSI1_SCLK>,
> > > > +		 <&ccu CLK_DRAM_CSI>;
> > > > +	clock-names = "bus", "mod", "ram";
> > > > +	resets = <&ccu RST_BUS_CSI>;
> > > > +
> > > > +	port {
> > > > +		/* Parallel bus endpoint */
> > > > +		csi1_ep: endpoint {
> > > > +			remote-endpoint = <&adv7611_ep>;
> > > > +			bus-width = <16>;
> > > > +
> > > > +			/* If hsync-active/vsync-active are missing,
> > > > +			   embedded BT.656 sync is used */
> >
> > Am I confused? The properties description defines [v|h]sync-active as
> > required, but the example reports that they can be omitted to use
> > BT.656 synchronization.
> >
> > Which one of the following is correct?
> > 1) [h|v]sync-active are mandatory: no BT.656 support can be selected.
> > 2) [h|v]sync-active are optional, and if not specified BT.656 is
> >    selected.
> > 3) I am confused.
> >
>
> hsync-active		: (required; parallel-only)
> vsync-active		: (required; parallel-only)
>
> Here, parallel means seperate sync signal, BT.656 means embedded sync
> signal. Kernel use these two properties to detect if the bus type is
> parallel or Bt656. So [h|v]sync-active are mandatory only if your bus
> type is parallel and must not be specified if your bus type is Bt656.

Well, BT.565 sync mode applies to parallel data transmission busses as
BT.601 sync mode does... I don't want to bikeshed on terms though, I'm
sorry...

I would have write here:

hsync-active		: Required when using explicit HSYNC synchronism
                          signal. Default valuse is "high"/"low".
vsync-active		: Required when using explicit VSYNC synchronism
                          signal. Default valuse is "high"/"low".
When both vsync-active and hsync-active are omitted BT.565 implicit
synchronization mode is used.

To avoid confusing people already confused as I am :)

I got this patch is already in, right? Feel free to ignore my comment or
either send an incremental patch if you think it is appropriate.

Thanks
  j

> Thanks,
> Yong

--y2zxS2PfCDLh6JVG
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQIcBAABCAAGBQJb97aMAAoJEHI0Bo8WoVY8oQIP/j+gd5kc5HL3Ivb0Vl3Ktb90
lqsCvDsouLqcTf14FY4okYTwpUciIt9YKI4Jt6AcrVr0qWbyKiicSlaLkd+aJp80
kq+PtKrpWQXBOpXzlujXVowi9+/trJ7M2rMLqRwFN6cFnA4agGTMys/m4lQAusJT
sQH/gclBD18tAyllflM3xmGfgjvvZZbZuZ/8Y4z7fC1kpllAeMLdCOnWBR1IVdBe
Bfm8HFCQCLSo0uq94eqGRzKnxRUcJ8TND2tZNa9nAtOXkxB0BnvnfycHxNTLJi09
Dx7MFa6Y64ydl+JAp6beJs2JaU9Eb3jLAAH3jPVQtvH2GdRRiGuvSarNXGsyls27
2UjBjTT8dck4JbZEQIpSPrdWUYcTp1iMTfX+wvpQDA61MQ17blaTSSdYh0FTV7z+
CO1/8SN3thaUTFA8jBIF6S87XUPlWcJI5SU9RGNegUdHbZHLVR6jfxzyk9pSe8tJ
bBVkR4v55au5/tHFOxye50u+yrRBxDkZzGi2BA8XPDjBRn9kvKEmXWIxKO6F3dRf
pSYrXCsWTLbqnTzn5OA+y7zUKolybwjawskG8Q/kynTqMD15yXo2tEBieZkJc9zq
3PyGM8Jwovw87PtFaBeBmLXlhycEt4BhFJBf/yZ+NfP81hEsJXs0a0LoT9dSt6h9
uXPNoJh8cG9qtmWtjuxU
=aYBN
-----END PGP SIGNATURE-----

--y2zxS2PfCDLh6JVG--
