Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 25 Nov 2018 14:42:31 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga004.fm.intel.com (fmsmga004.fm.intel.com [10.253.24.48])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 041B458037D;
	Sat, 24 Nov 2018 10:30:15 -0800 (PST)
Received: from orsmga103.jf.intel.com ([10.7.208.35])
  by fmsmga004-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 24 Nov 2018 10:30:14 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3A4wWKTxPzMdQa+BMfmk8l6mtUPXoX/o7sNwtQ0KIM?=
 =?us-ascii?q?zox0KPT6ocbcNUDSrc9gkEXOFd2Cra4c26yO6+jJYi8p2d65qncMcZhBBVcuqP?=
 =?us-ascii?q?49uEgeOvODElDxN/XwbiY3T4xoXV5h+GynYwAOQJ6tL1LdrWev4jEMBx7xKRR6?=
 =?us-ascii?q?JvjvGo7Vks+7y/2+94fcbglUhzexe69+IAmrpgjNq8cahpdvJLwswRXTuHtIfO?=
 =?us-ascii?q?pWxWJsJV2Nmhv3+9m98p1+/SlOovwt78FPX7n0cKQ+VrxYES8pM3sp683xtBnM?=
 =?us-ascii?q?VhWA630BWWgLiBVIAgzF7BbnXpfttybxq+Rw1DWGMcDwULs7Xims77pwSB/wli?=
 =?us-ascii?q?gIKyI5/m/Qisx1lq1boRShrAF7z4PbZIyZMfxzcaTTc94VWWZMXt9dWzBDD4+l?=
 =?us-ascii?q?cYUAEfABNvtco4Tzu1cCsR6yCA+xD+3t1zBInGf70qI03eoiDA/I3BIuEM4VsH?=
 =?us-ascii?q?TMrtj4L7sSXfyvwaXU0TnPc/Fb1DHg44bIaBAhpvSMUKprccvRyEggDATFjkmN?=
 =?us-ascii?q?ooHiJDOU1uUMvHOc7+p8Uu6glmEqpgFtrjWh3MgjlIbEi4IOxV3F9Sh23IY4Ks?=
 =?us-ascii?q?akR0JmfNKpFJRdujqBN4p2Q8IiQHtnuCI+yrIYo563ZjIFyIw/xx7Ec/yHdJSI?=
 =?us-ascii?q?4hf5W+aQJTd0nm5qeLW6hxur90Wr1+PyVs6x0FlQrypFlMHBtn8K1xzU8MSHRf?=
 =?us-ascii?q?998l+71jaXzwDT8flEIUcolabBN5Ehxbswm5wOukrABi/7gFv6gLOSe0k+5+Sl?=
 =?us-ascii?q?5frrbq/7qpKfK4N4kADzP6Y2lsChHeg1NhICUmub9OimybHu/Ez0TK9UgvEqjq?=
 =?us-ascii?q?XUto3RK94Bqa6jGQBV154u6xahADei19QVhWcHLF1bdxKdlYTpOE/BIOr+Dfih?=
 =?us-ascii?q?h1SgijBrx+rJPrH5A5XNKGbMkKv5cLpj90JRzBA/wc1R6p5KEL0NPfH+VlPruN?=
 =?us-ascii?q?HZDBI1Kwm0zPzmCNV52IMeQ2WPAqqBPaPWsF+I4P8vIuaVaI8Wpjn9Mf4l6ODq?=
 =?us-ascii?q?jXMgnl8cc6+p0oUNaH2jAPRmLFuWYWD2jtcCD2gKpAw+Q/LuiFGYVj5TfXmyU7?=
 =?us-ascii?q?om5j4nEIKmEZvDRoe1jbyF3Se7HYNZanpJC1CRCnroc4SEW/ERaCOdOMNhkzoE?=
 =?us-ascii?q?VaS/RI8lzx2hqAj6y79/JOrO5iIYrY7j1MRy5+DLlRE97z10D9iH3GGKVW10nn?=
 =?us-ascii?q?4ISCUw3KBwukF9zlaD0a5lg/1XD9BT5vVJUhskOp7Y1eB1F9fyWgfZdNeTVFmm?=
 =?us-ascii?q?WsmmAS02Tt8pwd8OZFhyF8+hjhDE2SqqBbgVmqePBJw19KLcwnfwK9x8y3bAyK?=
 =?us-ascii?q?kukV0mTtFTOm2hg6517xLTCJLRk0WFi6aqcrwR0zTW9GeDymqOv1tUUBRqXqXH?=
 =?us-ascii?q?Rn0fYkrWrdLk5kLNVbOuCLInMhdfxs6GMKdFdtrpjVBeTvf5JNvee36xm3u3BR?=
 =?us-ascii?q?uQxbODdozqd38Z3CXcEkcElQ8T8G2CNQg/ACehvm3fACZvFVLpf0Pj7+1+pGmn?=
 =?us-ascii?q?QU8zygGAd1dh2Kat+h4JmfycTOse0a8etyc/tTp4Bla90MjQC9qbuQVheqJQYd?=
 =?us-ascii?q?c+4FdC0WLUrAh9Pp2mL6B/iV8SaQV3v0Xy1xppDoVMi9QlrHQvzABqM6KXzEtB?=
 =?us-ascii?q?dy+E3ZD3IrDYN3P9/A6xZKLM2lHRytCW+rwR5/Q+sFjjuACpFkw/83RoydVV0n?=
 =?us-ascii?q?2c5onUAwoWS57+TkE39x1irbHAfiY9/5/U1WFrMaSsrj/C2tcpBOw5yhagf9ZT?=
 =?us-ascii?q?Kr+EGBX1E80AA8iuKeoqm1eyYxIAPeBS8rM0Psy8e/uH3q6rIPhvnDa8gWtb54?=
 =?us-ascii?q?B911qG9zBgRe7Qw5YF3/aY0xOdWDf4kligvd74mIBeaT4JA2qw1DLrBIhSZq11?=
 =?us-ascii?q?Y4YGEmOuI8yxxtVjiJ/hQX9Y9Fi/B1wY3M+lYwadb1v43QdIz0QYvWSnmTekzz?=
 =?us-ascii?q?xzizworref0DbSzOj4dRsHOnRERG9tjVr3JYi0jtYaXFWnbgQzlRul41r6yLZf?=
 =?us-ascii?q?pKhlM2bTRkJIdTDsL25+SquwqqaCY8lX5ZMysCVYTP6zYUqHRb76uRca1T3sH3?=
 =?us-ascii?q?FfxDwiaz6loJH5kAFkh2KHK3ZzqmHUecVxxRfZ+dzdSuRd3jsARClklzbXAkKw?=
 =?us-ascii?q?MMWu/dWRj53DqPyxV3q9Vp1Pdinm1YOBtCqh6WxqGxG/hO2zmtv8HAg+0C/70c?=
 =?us-ascii?q?RqVCrSoBb9ZInry7q1MeZ9ckZ0A1/87tJwGptinYsomJEQxX8ai42X/XUdi2fz?=
 =?us-ascii?q?MtZb2aXkYHoWXzELwN3V4Anj2EJ9KHKE3Ib5VnSbwst8aNi2eGIW2iQh789UDK?=
 =?us-ascii?q?eY9qBLnSxwolCgtwLefeB9nisByfsp8HMbg/sGuA03wiWfA7ASG1JVPSjtlxSO?=
 =?us-ascii?q?8tC/o79bZGepcbisykV+mcqtA62FogFZQHz5YIstHTds7sVjN1LByH7z5ZvleN?=
 =?us-ascii?q?XKbdITqwebkxHPj+VOLJIxl/wKhTdoOG7nvH0lzfI7ggJq3Z2goIeHLGBt9rqj?=
 =?us-ascii?q?AhFELj31e98T+jb1gKZbn8aW3JqgEo9vGzoVR5voUeynECgJuvv5LQaOHyYxqn?=
 =?us-ascii?q?OaGbrZAA+e511qr3PJE5C3KX6XIGMVwsllRBmYPEZfmhwbXC0mnp4lEQCn3NDh?=
 =?us-ascii?q?cEB85jwL51/3sB1Myv9zNxnkU2fSvwOoajYySJiCIxta9ABC50HJMcOA6uJ/BT?=
 =?us-ascii?q?1X/pqkrAaVMGyUexxIDX0VWkyDH13sJaOh5d7E8+iFHOa+K+bObK6KqexfUfeI?=
 =?us-ascii?q?2J2u3pFn/zaKKsWAIH1iA+cn1UpEWHBzA97ZlCkXSywLiyLNaNaWpBWm9S1ysM?=
 =?us-ascii?q?+/6+7nWB716YuMFrtSMshv+xasjqeYLOOQgCd5KTBF1pID33PIyb4f3EIMhCFq?=
 =?us-ascii?q?bTWiDbMAtSvVRqLKhqBXFwIbaz90NMZQ76M82RRNOdfGitzv0L50lOU1C1BDVV?=
 =?us-ascii?q?zugcypYc0KI2egNFLIHkqLNbKGJSHVzMHze6+zVbpQjOBMvR2qpTmbC1PjPiiE?=
 =?us-ascii?q?lzTxVxCgL+BMjCKYPBxfoo29cQxtCW/sTN34cB27LcR3gCYywb01gHPKKGEdPS?=
 =?us-ascii?q?J9c0NLsr2f8ydYju9jFGxG63pvNfOElDqB7+nENpYWtuNmDT5pl+1B+nQ11btU?=
 =?us-ascii?q?4DtARPx0gybSqt9uo1e7kuiA0DZnURxOqipVi4KPp0ltJaLZ9pxYU3be4B0N9X?=
 =?us-ascii?q?mQCwgNp9Z9Ft3vuqVQxsLTm67pNDhC88zb/c0HCsjQKcKHNmchMBXzFD7VCgsF?=
 =?us-ascii?q?USCkNWXFi0NBl/GS82WfroImpZj0hJoOVrhbWUQ1F/wADERlGd0CIJFvUTIlkb?=
 =?us-ascii?q?6UlsgI5XWloRnVRcVauI3HV/2IDfXuLjaZkadLZx8SzbzkKoQTM96z50s3Y11h?=
 =?us-ascii?q?lcHGFlTdWfhEpjZoKxcup0dA+2Q4SXc8nwrhawqopmVVGv+ukgExjQdWZeUr6S?=
 =?us-ascii?q?eq4lErK16Mryw11AE1mNP4kXWSfST3IaOYQ45bEWz3ulI3P5e9RBx6KUW12FBt?=
 =?us-ascii?q?Nz7fR7N5lLJjfGVsgwTcuN1NAboUVaRfeQIZwfCNbd0n1F1drmOswkoDrfPIE5?=
 =?us-ascii?q?ZyvBMna5O86XlSn0p4fcw2LKjUKbAMxEVfnYqBuSin0u0+2ggDP11L+2SXPGYU?=
 =?us-ascii?q?uVMBN5E9OjGluOdr7EjKhyRCY2MMWuACrv8s/088J6GC0WTr1LsQBFq2MrmEPr?=
 =?us-ascii?q?GTvHSIwdWZUFk3ygAEyxQdprF7jZopLRefCkokleLASzwSJNjBIAVRYtAU/WDL?=
 =?us-ascii?q?Zj6JreDEwJYzNIK4QLO7BdSSvboZ1xv3VD0iGJ4Bu59dT5Q=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0BZBwAkmPlbh0O0hNFjEwEBBwECBAEIB?=
 =?us-ascii?q?AGBVQQBDAFIgQ2BFIECJ4N5ljqSMYYbA0wsCwgBgheGQyI3Bg0BAwEBAQEBAQI?=
 =?us-ascii?q?BEwEBAQgNCQgpChkMgkIBBAEBAQEDAwMBAQcBgmYCIBVHCQIkAiYCAgMxAQUBI?=
 =?us-ascii?q?xIFgxwBggEFCpsHPIsNgS+JLWoFEnmKfoIWgRGGLQICGIRLglcCgSoBAQGHZBu?=
 =?us-ascii?q?FbXePcQEGAgGDCIMzQYozGIFZhQsFgx6HAAEsjReKXjCBO1aBIXCBboFOH4IFA?=
 =?us-ascii?q?xeDSoFoiQseMwEXAQFrAQGMDAEB?=
X-IPAS-Result: =?us-ascii?q?A0BZBwAkmPlbh0O0hNFjEwEBBwECBAEIBAGBVQQBDAFIgQ2?=
 =?us-ascii?q?BFIECJ4N5ljqSMYYbA0wsCwgBgheGQyI3Bg0BAwEBAQEBAQIBEwEBAQgNCQgpC?=
 =?us-ascii?q?hkMgkIBBAEBAQEDAwMBAQcBgmYCIBVHCQIkAiYCAgMxAQUBIxIFgxwBggEFCps?=
 =?us-ascii?q?HPIsNgS+JLWoFEnmKfoIWgRGGLQICGIRLglcCgSoBAQGHZBuFbXePcQEGAgGDC?=
 =?us-ascii?q?IMzQYozGIFZhQsFgx6HAAEsjReKXjCBO1aBIXCBboFOH4IFAxeDSoFoiQseMwE?=
 =?us-ascii?q?XAQFrAQGMDAEB?=
X-IronPort-AV: E=Sophos;i="5.56,273,1539673200"; 
   d="scan'208";a="53550496"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 24 Nov 2018 10:30:08 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726202AbeKYFTD (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Sun, 25 Nov 2018 00:19:03 -0500
Received: from mail-it1-f200.google.com ([209.85.166.200]:41723 "EHLO
        mail-it1-f200.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726097AbeKYFTD (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sun, 25 Nov 2018 00:19:03 -0500
Received: by mail-it1-f200.google.com with SMTP id 123so17562373itv.6
        for <linux-kernel@vger.kernel.org>; Sat, 24 Nov 2018 10:30:03 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=FjQiOwTynuja1xkXqZK0/dGlK4ms7Bd6o2e7c1CaR8E=;
        b=BRUG9Cjucyzi5jZE+wULly3rAX7dv+QRygA2dscI5dWBnTK5r/AZb+awG+nkFUUFdP
         QaE7ZJsLcslrfO5y1mAUr0RpyQ9tJeMC/Z917NJfK+t7rGyEeSfqqZFLz6RTbHrxZWvG
         mKerOf90xEGy5iGB3ftHEZb3PRVE41LTk8T3GDsyjlNZ5bpqT/rDKrnlnALc1i+ibNoP
         Ig8BKIsTy7lu06M9F3T7S/3I5Ayqj/UnBM2fHPrycgoEw4IZBpr68TTEXzt4nOzfzKEg
         Z6QGIbWzpzyN7cuwCqTFzl+DCFRIndNaWZN2uQh1KBsfVj49giyKi61OAcv89EIx5+uk
         ZodQ==
X-Gm-Message-State: AA+aEWb7y2RQI95SozlU6vnKoGCAxZ5T+7POGlg3I+91wxivEfNlfsX8
        LIZnSdurMy0ylui/ljgsgqPu2S3OZlynvo2y4hndQStzHmrY
X-Google-Smtp-Source: AFSGD/WgS45sB2Zo7WvdBDnmXNLjHWuROZgDyPTQtHZlFiPqAHdLEHehBBGYl1fo+mMRSRYW3N3CFX7xGlCcxNwFtC+IYyCSxURB
MIME-Version: 1.0
X-Received: by 2002:a5e:a61a:: with SMTP id q26mr12523946ioi.29.1543084203126;
 Sat, 24 Nov 2018 10:30:03 -0800 (PST)
Date: Sat, 24 Nov 2018 10:30:03 -0800
X-Google-Appengine-App-Id: s~syzkaller
X-Google-Appengine-App-Id-Alias: syzkaller
Message-ID: <000000000000c93833057b6d496a@google.com>
Subject: KASAN: slab-out-of-bounds Read in default_write_copy_kernel
From: syzbot <syzbot+d4503ae45b65c5bc1194@syzkaller.appspotmail.com>
To: alsa-devel@alsa-project.org, liam.r.girdwood@linux.intel.com,
        linux-kernel@vger.kernel.org, o-takashi@sakamocchi.jp,
        pasqualirb@gmail.com, perex@perex.cz,
        syzkaller-bugs@googlegroups.com, tiwai@suse.com,
        twischer@de.adit-jv.com
Content-Type: text/plain; charset="UTF-8"; format=flowed; delsp=yes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Hello,

syzbot found the following crash on:

HEAD commit:    7c98a4261827 Merge tag 'ceph-for-4.20-rc4' of https://gith..
git tree:       upstream
console output: https://syzkaller.appspot.com/x/log.txt?x=142c8893400000
kernel config:  https://syzkaller.appspot.com/x/.config?x=73e2bc0cb6463446
dashboard link: https://syzkaller.appspot.com/bug?extid=d4503ae45b65c5bc1194
compiler:       gcc (GCC) 8.0.1 20180413 (experimental)
syz repro:      https://syzkaller.appspot.com/x/repro.syz?x=1789354d400000
C reproducer:   https://syzkaller.appspot.com/x/repro.c?x=162ebe2b400000

IMPORTANT: if you fix the bug, please add the following tag to the commit:
Reported-by: syzbot+d4503ae45b65c5bc1194@syzkaller.appspotmail.com

RDX: 0000000056da83a0 RSI: 00000000200000c0 RDI: 0000000000000004
RBP: 00000000006cf018 R08: 0000000000000001 R09: 0000000000000037
R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000005
R13: ffffffffffffffff R14: 0000000000000000 R15: 0000000000000000
==================================================================
BUG: KASAN: slab-out-of-bounds in memcpy include/linux/string.h:352 [inline]
BUG: KASAN: slab-out-of-bounds in default_write_copy_kernel+0xe1/0x140  
sound/core/pcm_lib.c:1946
Read of size 64 at addr ffff8881cee03c40 by task syz-executor636/6021

CPU: 1 PID: 6021 Comm: syz-executor636 Not tainted 4.20.0-rc3+ #347
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS  
Google 01/01/2011
Call Trace:
  __dump_stack lib/dump_stack.c:77 [inline]
  dump_stack+0x244/0x39d lib/dump_stack.c:113
  print_address_description.cold.7+0x9/0x1ff mm/kasan/report.c:256
  kasan_report_error mm/kasan/report.c:354 [inline]
  kasan_report.cold.8+0x242/0x309 mm/kasan/report.c:412
  check_memory_region_inline mm/kasan/kasan.c:260 [inline]
  check_memory_region+0x13e/0x1b0 mm/kasan/kasan.c:267
  memcpy+0x23/0x50 mm/kasan/kasan.c:302
  memcpy include/linux/string.h:352 [inline]
  default_write_copy_kernel+0xe1/0x140 sound/core/pcm_lib.c:1946
  interleaved_copy+0xd1/0x110 sound/core/pcm_lib.c:2007
  __snd_pcm_lib_xfer+0x115f/0x1f23 sound/core/pcm_lib.c:2227
  snd_pcm_oss_write3+0xe9/0x220 sound/core/oss/pcm_oss.c:1237
  io_playback_transfer+0x27d/0x310 sound/core/oss/io.c:47
  snd_pcm_plug_write_transfer+0x374/0x490 sound/core/oss/pcm_plugin.c:620
  snd_pcm_oss_write2+0x25d/0x450 sound/core/oss/pcm_oss.c:1366
  snd_pcm_oss_write1 sound/core/oss/pcm_oss.c:1432 [inline]
  snd_pcm_oss_write+0x567/0xa60 sound/core/oss/pcm_oss.c:2775
  __vfs_write+0x119/0x9f0 fs/read_write.c:485
  vfs_write+0x1fc/0x560 fs/read_write.c:549
  ksys_write+0x101/0x260 fs/read_write.c:598
  __do_sys_write fs/read_write.c:610 [inline]
  __se_sys_write fs/read_write.c:607 [inline]
  __x64_sys_write+0x73/0xb0 fs/read_write.c:607
  do_syscall_64+0x1b9/0x820 arch/x86/entry/common.c:290
  entry_SYSCALL_64_after_hwframe+0x49/0xbe
RIP: 0033:0x444119
Code: 18 89 d0 c3 66 2e 0f 1f 84 00 00 00 00 00 0f 1f 00 48 89 f8 48 89 f7  
48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff  
ff 0f 83 7b d8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
RSP: 002b:00007ffdf4510538 EFLAGS: 00000246 ORIG_RAX: 0000000000000001
RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 0000000000444119
RDX: 0000000056da83a0 RSI: 00000000200000c0 RDI: 0000000000000004
RBP: 00000000006cf018 R08: 0000000000000001 R09: 0000000000000037
R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000005
R13: ffffffffffffffff R14: 0000000000000000 R15: 0000000000000000

Allocated by task 6021:
  save_stack+0x43/0xd0 mm/kasan/kasan.c:448
  set_track mm/kasan/kasan.c:460 [inline]
  kasan_kmalloc+0xc7/0xe0 mm/kasan/kasan.c:553
  __do_kmalloc_node mm/slab.c:3684 [inline]
  __kmalloc_node+0x50/0x70 mm/slab.c:3691
  kmalloc_node include/linux/slab.h:589 [inline]
  kvmalloc_node+0x65/0xf0 mm/util.c:416
  kvmalloc include/linux/mm.h:577 [inline]
  kvzalloc include/linux/mm.h:585 [inline]
  snd_pcm_plugin_alloc+0x577/0x770 sound/core/oss/pcm_plugin.c:70
  snd_pcm_plug_alloc+0x218/0x340 sound/core/oss/pcm_plugin.c:117
  snd_pcm_oss_change_params_locked+0x2209/0x3c60  
sound/core/oss/pcm_oss.c:1038
  snd_pcm_oss_make_ready_locked+0xbc/0x130 sound/core/oss/pcm_oss.c:1183
  snd_pcm_oss_write1 sound/core/oss/pcm_oss.c:1397 [inline]
  snd_pcm_oss_write+0x51e/0xa60 sound/core/oss/pcm_oss.c:2775
  __vfs_write+0x119/0x9f0 fs/read_write.c:485
  vfs_write+0x1fc/0x560 fs/read_write.c:549
  ksys_write+0x101/0x260 fs/read_write.c:598
  __do_sys_write fs/read_write.c:610 [inline]
  __se_sys_write fs/read_write.c:607 [inline]
  __x64_sys_write+0x73/0xb0 fs/read_write.c:607
  do_syscall_64+0x1b9/0x820 arch/x86/entry/common.c:290
  entry_SYSCALL_64_after_hwframe+0x49/0xbe

Freed by task 2446:
  save_stack+0x43/0xd0 mm/kasan/kasan.c:448
  set_track mm/kasan/kasan.c:460 [inline]
  __kasan_slab_free+0x102/0x150 mm/kasan/kasan.c:521
  kasan_slab_free+0xe/0x10 mm/kasan/kasan.c:528
  __cache_free mm/slab.c:3498 [inline]
  kfree+0xcf/0x230 mm/slab.c:3817
  blk_mq_hw_sysfs_release+0x42/0x60 block/blk-mq-sysfs.c:25
  kobject_cleanup lib/kobject.c:662 [inline]
  kobject_release lib/kobject.c:691 [inline]
  kref_put include/linux/kref.h:70 [inline]
  kobject_put.cold.9+0x287/0x2e4 lib/kobject.c:708
  blk_mq_release+0xf2/0x210 block/blk-mq.c:2478
  __blk_release_queue+0x228/0x510 block/blk-sysfs.c:862
  process_one_work+0xc90/0x1c40 kernel/workqueue.c:2153
  worker_thread+0x17f/0x1390 kernel/workqueue.c:2296
  kthread+0x35a/0x440 kernel/kthread.c:246
  ret_from_fork+0x3a/0x50 arch/x86/entry/entry_64.S:352

The buggy address belongs to the object at ffff8881cee03c40
  which belongs to the cache kmalloc-32 of size 32
The buggy address is located 0 bytes inside of
  32-byte region [ffff8881cee03c40, ffff8881cee03c60)
The buggy address belongs to the page:
page:ffffea00073b80c0 count:1 mapcount:0 mapping:ffff8881da8001c0  
index:0xffff8881cee03fc1
flags: 0x2fffc0000000200(slab)
raw: 02fffc0000000200 ffffea0007433308 ffff8881da801248 ffff8881da8001c0
raw: ffff8881cee03fc1 ffff8881cee03000 000000010000003f 0000000000000000
page dumped because: kasan: bad access detected

Memory state around the buggy address:
  ffff8881cee03b00: fb fb fb fb fc fc fc fc fb fb fb fb fc fc fc fc
  ffff8881cee03b80: fb fb fb fb fc fc fc fc 00 fc fc fc fc fc fc fc
> ffff8881cee03c00: fb fb fb fb fc fc fc fc 00 00 00 00 fc fc fc fc
                                                        ^
  ffff8881cee03c80: 00 00 fc fc fc fc fc fc fb fb fb fb fc fc fc fc
  ffff8881cee03d00: fb fb fb fb fc fc fc fc fb fb fb fb fc fc fc fc
==================================================================


---
This bug is generated by a bot. It may contain errors.
See https://goo.gl/tpsmEJ for more information about syzbot.
syzbot engineers can be reached at syzkaller@googlegroups.com.

syzbot will keep track of this bug report. See:
https://goo.gl/tpsmEJ#bug-status-tracking for how to communicate with  
syzbot.
syzbot can test patches for this bug, for details see:
https://goo.gl/tpsmEJ#testing-patches
