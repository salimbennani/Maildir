Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 22 Nov 2018 22:45:36 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga008.fm.intel.com (fmsmga008.fm.intel.com [10.253.24.58])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id B755F58037D;
	Thu, 22 Nov 2018 06:43:18 -0800 (PST)
Received: from fmsmga102.fm.intel.com ([10.1.193.69])
  by fmsmga008-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Nov 2018 06:43:18 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3ARLCXDBZhs/52jTjmY+wliab/LSx+4OfEezUN459i?=
 =?us-ascii?q?sYplN5qZpcm4Zh7h7PlgxGXEQZ/co6odzbaO4+a4ASQp2tWoiDg6aptCVhsI24?=
 =?us-ascii?q?09vjcLJ4q7M3D9N+PgdCcgHc5PBxdP9nC/NlVJSo6lPwWB6nK94iQPFRrhKAF7?=
 =?us-ascii?q?Ovr6GpLIj8Swyuu+54Dfbx9HiTahYr5+Ngm6oRnMvcQKnIVuLbo8xAHUqXVSYe?=
 =?us-ascii?q?RWwm1oJVOXnxni48q74YBu/SdNtf8/7sBMSar1cbg2QrxeFzQmLns65Nb3uhnZ?=
 =?us-ascii?q?TAuA/WUTX2MLmRdVGQfF7RX6XpDssivms+d2xSeXMdHqQb0yRD+v6bpgRh31hy?=
 =?us-ascii?q?cdLzM38HzZhNJ+jKxYrhyuqRNwzIzIb4+aL/p+ZqHQcMgGRWdCRMtdSzBND42+?=
 =?us-ascii?q?YoYJEuEPPfxYr474p1YWoxWxHw+sBOLxxT9Mm3T427M10uU9Hg7c2gwgGM8FvX?=
 =?us-ascii?q?PJo9rvMqcSUP66zK3SwTXHcfxX2Cvy55LOchAmuvyMWbNwcczLxkk1EAPJlFKQ?=
 =?us-ascii?q?qZbqPz6M0OkGrmaV7+1lVe21im4nrRl8oiShx8ctlonJmpwaykre+Splx4Y1IM?=
 =?us-ascii?q?W0SEp6Yd6iCpRQrSaaO5FxQsM4TGFkoCg6xacatpGlZycKz5Mnxx3FZ/ObdIiI?=
 =?us-ascii?q?5xTuX/uSLzdgnH9pZq6zihKo/US9xODwSNO43EtJoyZZiNXBt3IA2wTR58WFUP?=
 =?us-ascii?q?dx40ms1DeV2w3S6uxIO085mKXdJpU82LA/jIATvl7GHiLumEX5kquWdkI89+i2?=
 =?us-ascii?q?5OTofK/mqoWfN4BqkAH+NLohmsilDeQ/KAgOUHCX+eW61LL94U30WKtGguEyn6?=
 =?us-ascii?q?XDrZzXK9oXqrSkDwJWzoov8ReyAjW+3NQdh3YHLVZFeBydj4juPlHDOPT4Dfa5?=
 =?us-ascii?q?g1SxnzZn3vPGMaP7ApXLMHfDlK7tfbFz6k5a1gUz18tS54xbCr4fOvL/QEzxu8?=
 =?us-ascii?q?LCDh8/LQO0x/zrCNJn1oMRQW6PGLOWMLvOsV+U4eIiO+2MZI4WuDnjMfQk6OPu?=
 =?us-ascii?q?gGQ9mV8ce6mpwJQWZGq5HvRgP0WWf37sjs0dHmcNuwo0VPbqh0GaUT5Pe3ayWL?=
 =?us-ascii?q?ox5jEhB4KnEYfMXIetjKaB3CemBJJWYG9GB0uIEXfpcYWERvgNZDiTIs9njjwL?=
 =?us-ascii?q?S7yhR5U92hGpsQ/w06BnIfbM+i0EqZLj08B45+/UlR4s7zB0DMOd02eLT2FzhW?=
 =?us-ascii?q?4IQz423KZioU1y0FuD0K54g+BGGtxX/f9GTgA6NZvExexgF9/yQh7BfsuOSFu+?=
 =?us-ascii?q?WNqmGjExTtUyw9MUeUZyAdeigwvH3yqrBb8VirOKCIY18qLaw3j+OcJ9x2za26?=
 =?us-ascii?q?kmilksWtFPOnG+hq5j6wjTAJbEk0aDmKasb6gc2C/N+32FzWqBp0xYVA9wUaPY?=
 =?us-ascii?q?XXEQfEfWrNL55l/cQL+qE7goLgxBycuaIKtQdtLplUlGROvkONnGfm2+gXmwCg?=
 =?us-ascii?q?iSyrOMdoXqfX4d0zvbCEQDlwAT/nOGNQwlCyelomLeCiFuFF31b0Pt9+l+tG20?=
 =?us-ascii?q?Tksuww6WaE1h0qK/+gQJivyEV/MTwrUEtT88pDpuAlaywcjaC9qaqApnZ6VTf9?=
 =?us-ascii?q?U97UxD1WLYsQx9I5OhI7pjhl4YbwR4oUfu2w9rBYVHlMggtGkqwxZqKaKEzFNB?=
 =?us-ascii?q?cCuV3YzxOr3SLWny4BCvaq7M1lHCytqW/b0P6PA5q1XlswGkDU4i83Rh09lI3H?=
 =?us-ascii?q?qQ/JTKDAwOUZ3vVkY77QR1p7bfYiMl/YPbyWVsMbWosj/Fw98mHu8lxQivfthB?=
 =?us-ascii?q?MKKIDhT9E9AHCMe0LuwqmF+pbgwfMeBW9a40Od6mdvSc1K6qOuZggCypjWBd7I?=
 =?us-ascii?q?9h1UKM8jJ2SvTU0JYd3/GYwgyHWi/8jVe8qMz4hZpIZDASHmWlzyjkC5VcZqlz?=
 =?us-ascii?q?fYYNFGevLNe7xtR4h57xRXFY8ESvCE8B2M+sYRCSdUDy3RVM1UQLpnyqgTG4zz?=
 =?us-ascii?q?1onD4ztKqQwSvOz/7kdBUZIG5LRXBugkv2Loiwkt8VQlKobw8vlBa+4Ub6xq5b?=
 =?us-ascii?q?pLlwLmXJQEdIeTT2IH9mUqeqqrWCZMtP4osysSpLSOS8fUyaSrnlrhoa0iPvBW?=
 =?us-ascii?q?tfyCogdzG3vJX0hBh6iGObLHZuo3vVY8BwxRHD5NPCQf5dxCYJRC59iTPPHFiz?=
 =?us-ascii?q?I8Gp/cmIl5fEqu2+VXiuVodQcSnoyoOMrjC76ndpAR28nvCznMPoEQ4h3C//1t?=
 =?us-ascii?q?lqUzjIrRnmbonq0aS6Lfxofk1yCFDg7Mp6H5l0kpEsi5EIxXgampKV8GIHkGjp?=
 =?us-ascii?q?NtVXw6D+bHsLRTMQx97V4Q7l2FBsL36TxoL5UGmdzdVlZ9WgfmwW3Sc95dhQCK?=
 =?us-ascii?q?iI9LxEgTd1ol2goALSe/d9ny0Ryfsz6HEAheEJtxEgziGcArAUAElZMjbglxWO?=
 =?us-ascii?q?79CisqpXYHyjfqS31Ep7hdqhFq2NohlAWHblfZcvBSpw7sR8MF3WynHy5J/reM?=
 =?us-ascii?q?LMbd0NrB2biAnPj/JaKJ8qkvoKhCxnOX/yvHE/yu47iwBu0o++vISdN2pt+6e5?=
 =?us-ascii?q?CAZCNjLpf8MT5i3tjaFGk8aK2ICvG49tGzQRU5vuUPKoCykStfX8OgaKET08rG?=
 =?us-ascii?q?qbGLXFEQ+e7kdms2zAE5SxO36LI3kZyM1oRAOBK0xHnAAUQDI6k4YiGQ+ww8zh?=
 =?us-ascii?q?dFp56ioV5l7lsRZMzuNoNx/iUmbQvguoazE0SISBIxpS9A1N+0DVMcmG5OJpAy?=
 =?us-ascii?q?5Y5oGhrBCKKmGDZQRHF2QJVVKfB1z5Irmi/9rA8/WbBuqjKfvBe66OpPdaV/eJ?=
 =?us-ascii?q?w5Kvz4Rn8yyNNsWJInltEfk71lBfUnB+HsTTgy8PRDAPlyLRc86bow+x+y1wrs?=
 =?us-ascii?q?Ci6fTrRRjg5Y2VB7tJNtVv/R+2jLyHN+6RgiZ5NDlZ2okNxX/O1LgQwloShzty?=
 =?us-ascii?q?eDmqFLQKrTTNQ77Imq9LEx4bbDt+NMtW4KI93QlNOs/bhsn21r5iif41BElKVU?=
 =?us-ascii?q?b8msGyfsEKJ2C9NFXaBEeELriGJDvLw93pbqO4U7FfkOJUtxioszaBD0DjJiiD?=
 =?us-ascii?q?lyXuVx23K+5MkTqUPAZAt4C9aBptDWnjQcniah26Nt93kDI3zac1hnPMKW4TLz?=
 =?us-ascii?q?x8f1lRob2X6CNSmu9/FHBZ7np5MemEnD6U7/XZKpYTq/dkHj54mP5a4HskzbtY?=
 =?us-ascii?q?9yVERP1zmCvPod9iuVCmku+TyjV5VBpCsCpEhIWOvU96I6XW6oFAWWrY/BIK9W?=
 =?us-ascii?q?iRCw4Fp91gCt3uvaBf0tnOlKLpJzdE/NLZ5s8cB8nSKMKaP3stKxvpGDjIDAQb?=
 =?us-ascii?q?ST6nL33Qh0tYkKLaynrAgIIzrJukvJcDAutHVVokUOwbDEh3DvQNJZ52WnUvlr?=
 =?us-ascii?q?vN3+AS4n/rgBDXRche9rTKRPmbB/KnfDqQi7hJY10MzKHzJIIUHon63UV4bR99?=
 =?us-ascii?q?houcSBmYZsxEviA0Nlx8m05K6nUrFmA=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0BLAACQv/Zbh0O0hNFiHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUwUBAQsBgmkDfyeDeIM8kF2CDRSIdo4wgXAVAQEYBwwBgUuHByI2Bw0BAwE?=
 =?us-ascii?q?BAQEBAQIBEwEBAQgNCQgpIwyCNiKCZQECAwECIA8BDQEBNwEFCQEBGAoCAiYCA?=
 =?us-ascii?q?gMeEwEFARwGDQYCAQEBBIMYAYFpAxUEAQqeEDyKHXCBL4J2AQEFhQINghEIEnm?=
 =?us-ascii?q?JYoEcgVc/gTiFQToLAgKEY4JXh1KYBC4HAoIcBIN7YYcIgyUGGIImhysQhyYBL?=
 =?us-ascii?q?I0XgQqJPAIEAgQFAgUPIYEsBIICMxowgy8JghKDbYUUhT8/MoEFAQGMVAEB?=
X-IPAS-Result: =?us-ascii?q?A0BLAACQv/Zbh0O0hNFiHAEBAQQBAQcEAQGBUwUBAQsBgmk?=
 =?us-ascii?q?DfyeDeIM8kF2CDRSIdo4wgXAVAQEYBwwBgUuHByI2Bw0BAwEBAQEBAQIBEwEBA?=
 =?us-ascii?q?QgNCQgpIwyCNiKCZQECAwECIA8BDQEBNwEFCQEBGAoCAiYCAgMeEwEFARwGDQY?=
 =?us-ascii?q?CAQEBBIMYAYFpAxUEAQqeEDyKHXCBL4J2AQEFhQINghEIEnmJYoEcgVc/gTiFQ?=
 =?us-ascii?q?ToLAgKEY4JXh1KYBC4HAoIcBIN7YYcIgyUGGIImhysQhyYBLI0XgQqJPAIEAgQ?=
 =?us-ascii?q?FAgUPIYEsBIICMxowgy8JghKDbYUUhT8/MoEFAQGMVAEB?=
X-IronPort-AV: E=Sophos;i="5.56,266,1539673200"; 
   d="scan'208";a="53964052"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 22 Nov 2018 06:43:17 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2404475AbeKWBWx (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Thu, 22 Nov 2018 20:22:53 -0500
Received: from mail-wr1-f67.google.com ([209.85.221.67]:46648 "EHLO
        mail-wr1-f67.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1732343AbeKWBWx (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 22 Nov 2018 20:22:53 -0500
Received: by mail-wr1-f67.google.com with SMTP id l9so9495841wrt.13
        for <linux-kernel@vger.kernel.org>; Thu, 22 Nov 2018 06:43:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=linaro.org; s=google;
        h=from:subject:to:cc:references:message-id:date:user-agent
         :mime-version:in-reply-to:content-language:content-transfer-encoding;
        bh=AvF/C6Afh+OVqJhMBVaEJLEyUXqZYy0rDO6p2WJsYNM=;
        b=Pnungfiq8IqJ7SBfQx8i6ImRN3zaN3qSItLlOejDAa6zdz5vTw98smvZ6bnmR+EhC8
         +YFz39/CmdL7KgFBx5B87gyDZvygroOsPar4Ke1teIhBIpTWJI2vDNYPOXkwvKV3Na8r
         eRiUTkTzK00vsophcno8r11+GOt7/5aVZ/5vk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:subject:to:cc:references:message-id:date
         :user-agent:mime-version:in-reply-to:content-language
         :content-transfer-encoding;
        bh=AvF/C6Afh+OVqJhMBVaEJLEyUXqZYy0rDO6p2WJsYNM=;
        b=hoyUOb8EjKNnSB5b1td5+u5crH39mWsMMPXDFDBWjh/Dye4VnCvjCmxJCD0SGfLt2h
         TfPvqpOeX3EttVUsdfj4EPDL2PeRKCvdiebl9Yazwnrb2j7Kfr2vKawZCZLfGzkBscdK
         dyyb3w93+JujriVtVOMg/TVVg21hr1zIdA5XlNFEgB81hrs13LT7u6f0NCyrAbkCovPw
         3TEfptart4KbA8g237GavJWwnNhMgNVpTDV8HJQLZHY84NCO+chpn/MDEVwZY0aulWmA
         sb31pwy9jJR7QC4fL4PxC/w4UGYzJaDhpt6t25fHTWNWxc2cNdrQa16LEWLWYsiNti5N
         Bxng==
X-Gm-Message-State: AA+aEWYox1alwP/X7T5wavzqgdkdShW2ESca4C0kuvftNtr/k7VS6iOk
        VOgssXTKXrPaYRmGKq+BwCxPYd+KJ+I=
X-Google-Smtp-Source: AFSGD/XlH8KHX0Lp0dpFmxb/9P+fzN6BTrT5anTWdOKvSGnmvwlP5YSY7iz8D+WVrJXAVzP8QIAIzw==
X-Received: by 2002:a5d:5284:: with SMTP id c4-v6mr9484406wrv.210.1542897791845;
        Thu, 22 Nov 2018 06:43:11 -0800 (PST)
Received: from [192.168.0.40] (44.65.136.77.rev.sfr.net. [77.136.65.44])
        by smtp.googlemail.com with ESMTPSA id 184-v6sm4983066wmh.36.2018.11.22.06.43.10
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 22 Nov 2018 06:43:11 -0800 (PST)
From: Daniel Lezcano <daniel.lezcano@linaro.org>
Subject: [PATCH] clocksource/drivers/integrator-ap: add of_node_put()
To: Frank Lee <tiny.windzz@gmail.com>
Cc: tglx@linutronix.de, linux-kernel@vger.kernel.org
References: <20181120131853.19710-1-tiny.windzz@gmail.com>
 <5ea4da1e-65de-ddc3-5ca6-eb83c2347930@linaro.org>
 <CAEExFWsOh1gixoC4bbSkbawC-ybz1YUA-tmw5FW5W-GFyFGs7Q@mail.gmail.com>
 <54a66dbf-df0a-8cec-cb60-0603a52dad99@linaro.org>
 <CAEExFWvTCJ-k+54PGv7Ov5FRMpD1C2ZzzUxi4=Kbn_hrkmBmqw@mail.gmail.com>
Message-ID: <2cbc73df-e1b4-21bc-c226-38b69ebe9f08@linaro.org>
Date: Thu, 22 Nov 2018 15:43:10 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.2.1
MIME-Version: 1.0
In-Reply-To: <CAEExFWvTCJ-k+54PGv7Ov5FRMpD1C2ZzzUxi4=Kbn_hrkmBmqw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Language: en-US
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On 22/11/2018 15:39, Frank Lee wrote:
> On Thu, Nov 22, 2018 at 10:37 PM Daniel Lezcano
> <daniel.lezcano@linaro.org> wrote:
>>
>> On 22/11/2018 15:33, Frank Lee wrote:
>>> On Thu, Nov 22, 2018 at 10:26 PM Daniel Lezcano
>>> <daniel.lezcano@linaro.org> wrote:
>>>>
>>>> On 20/11/2018 14:18, Yangtao Li wrote:
>>>>> use of_node_put() to release the refcount.
>>>>>
>>>>> Signed-off-by: Yangtao Li <tiny.windzz@gmail.com>
>>>>
>>>> Applied, thanks!
>>> Hi Daniel：
>>>
>>> This patch is a bit small, I will resend。
>>
>> What do you mean by 'small' ?
>         pri_node = of_find_node_by_path(path);
>         if (node == pri_node){
>                 of_node_put(pri_node);
> 
>                 /* The primary timer lacks IRQ, use as clocksource */
>                 return integrator_clocksource_init(rate, base);
>         }
> 
>         sec_node = of_find_node_by_path(path);
> 
> Under my revision, pri_node and sec_nodeare the same thing.

Oh, right. Missed it :/



-- 
 <http://www.linaro.org/> Linaro.org │ Open source software for ARM SoCs

Follow Linaro:  <http://www.facebook.com/pages/Linaro> Facebook |
<http://twitter.com/#!/linaroorg> Twitter |
<http://www.linaro.org/linaro-blog/> Blog

