Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 22 Nov 2018 21:40:35 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from FMSMGA003.fm.intel.com (fmsmga003.fm.intel.com [10.253.24.29])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 5453158037D;
	Thu, 22 Nov 2018 05:23:51 -0800 (PST)
Received: from fmsmga105.fm.intel.com ([10.1.193.10])
  by FMSMGA003-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Nov 2018 05:23:50 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AEwupDRdFTsSt6YDSOOnNBPbFlGMj4u6mDksu8pMi?=
 =?us-ascii?q?zoh2WeGdxc69YB2N2/xhgRfzUJnB7Loc0qyK6/CmATRIyK3CmUhKSIZLWR4BhJ?=
 =?us-ascii?q?detC0bK+nBN3fGKuX3ZTcxBsVIWQwt1Xi6NU9IBJS2PAWK8TW94jEIBxrwKxd+?=
 =?us-ascii?q?KPjrFY7OlcS30P2594HObwlSizexfbB/IA+qoQnNq8IbnZZsJqEtxxXTv3BGYf?=
 =?us-ascii?q?5WxWRmJVKSmxbz+MK994N9/ipTpvws6ddOXb31cKokQ7NYCi8mM30u683wqRbD?=
 =?us-ascii?q?VwqP6WACXWgQjxFFHhLK7BD+Xpf2ryv6qu9w0zSUMMHqUbw5Xymp4rx1QxH0li?=
 =?us-ascii?q?gIKz858HnWisNuiqJbvAmhrAF7z4LNfY2ZKOZycqbbcNgHR2ROQ9xRWjRcDI2i?=
 =?us-ascii?q?YYsBD+kPM+hWoIbypVQBsRSwBRK0BO7t0TJImnz70Lcm3+g9HwzL3gotFM8Ovn?=
 =?us-ascii?q?TOq9X1Mb8fX+6vw6nOzDXMcfdW0ir75ofWcxEuveuDXbR3ccHMzkQgChnKjlOR?=
 =?us-ascii?q?qYP7OzOZzOANvHaa7uV8T+2vjWknphp1ojiuwMcjkJPJhoUPxlDD7yV5z584KN?=
 =?us-ascii?q?ulQ0B1Zt6kFYFftyCcN4ZuXsMjTWBouDomyrIYo563ZjQFyJMixxLHb/yHco6I?=
 =?us-ascii?q?7Qj5VOaWOzt4g2hleL2nixa860ev1vPzWdKz0FZNrSpJiMXDtncI1xHV98OJSe?=
 =?us-ascii?q?N981+/1TqT0w3f8PxILE4qmabBNpIswaI8moASvEnBBiP7mkf7gLWLekgq++Wk?=
 =?us-ascii?q?8erqb7X8qpOBNIJ5jgfzObk0lMOlG+Q3KA0OUnCb+eui0L3j+lX0QKtFjvIoiK?=
 =?us-ascii?q?nVqpPaKtoBpq6/HQBV1pwv6xGlDzepyNgYnH8HI0xZeB+fkYTlJ1XDLOrlAfqx?=
 =?us-ascii?q?nVigiipnyvPaMrH7A5jALGDPkLL7crZ8705cxhAzzdda559MDrEBIfTzWlL+td?=
 =?us-ascii?q?DBDR82LRa0w+D5B9V5z48eXmyOAqmHP6PIqlKI+O0vLPeWZIMPuzbyNeIl5/jw?=
 =?us-ascii?q?gn89g1MderOp3ZQPZHCiAvtmO1mZYWbrgtoZFWcKvwk+Q/LwhFyNTD5efHKyX6?=
 =?us-ascii?q?M65jEmB4OqF4bDRoaxgLOf2Ce3BIFZZmdDClqUC3fna52EW+sQaCKVOsJhkiYL?=
 =?us-ascii?q?Vbm9S4A70hGirg/6y6d9IerS9S0Vrpbj1Nlz5+3OmhA+7z10D8KB026TS2F4hH?=
 =?us-ascii?q?8HRzgz3Kpnu0xy1k+D0bRkg/xfDdFT5fRJXRkgOZ7fyOx6DdbyWgXac9eNSVam?=
 =?us-ascii?q?RMimAD4rQtIwxd8Of1hyG9G4gh/f2CqqBqcfl6aXC5ws7qLcw3/xKt5nxHbd1K?=
 =?us-ascii?q?khiFomTtFVNWK8hK5y7AzTB4/Pk0WEmKemb6Uc3CjR9GidyWqCpl1XUAl1Ua/d?=
 =?us-ascii?q?R3AQelPWrcjl5kPFV7KuCq4oMg1bxc6GK6tFcNvpjVpdSffnOdTeZX+xmmiqCR?=
 =?us-ascii?q?aJwLOMcJTle2EH0CrBD0gElhgZ/WyaOggmGiehv2XeASRzGl31fUPj7/NyqHOh?=
 =?us-ascii?q?QU8y1AGFcUth272x+h4WgPycT+ge3rYFuCcntjV1E0yx39PQC9qcuQVheL9Qbs?=
 =?us-ascii?q?864FdCzWjZrRByPoS8L6B+gV4Taxl4sFnw1xppEIlAkdIlrHUxzAVsL6KVy1dB?=
 =?us-ascii?q?dzKe3ZDtNbzbMGjy/Baza6HI3lHSysqZ+qAK6P4gsVXsoBmpFlY+83Vgy9RVz3?=
 =?us-ascii?q?qc5pDNDAoOUZLwUlw79wRgq7HdeCk944LU1XtjMaSvtj/C2tQpBPYqyxq6ftdf?=
 =?us-ascii?q?Nr+EGxH2E8EAG8euL+kqkUCzbh0YJOBS6LI0P8S+evSc3K6kIulhkyymjGhd+4?=
 =?us-ascii?q?99z1+D+DB6Su7L2JYF3eqV3g+GVzf6kVegvdr7mYFCZTEOAGW/zTLoC5JWZq13?=
 =?us-ascii?q?ZYwLE3uhI9WrxtVigJ7gQ35Z9EO5C1wawsOoeBqSYEb73Q1fzkkXpX2nmS2lzz?=
 =?us-ascii?q?17iT0pr6yf3DDQzOTmbhYIJmlLRGx6h1f2PYe0l8waXFSvbwUxjhul5Fr1yLJB?=
 =?us-ascii?q?pKtiKGnfW0FIcDbsL2FjS6e/qqCNY8pS55w2qyVXV+K8bEueSr78pRsaziziE3?=
 =?us-ascii?q?FfxDA9azGlpJH5kwZmh2KaKXZ5tGDZdt1oxRfD+NzcQuZc3zoHRCViiTjbHEO8?=
 =?us-ascii?q?P8Sv/diPk5fDs+a+V3+uV5FJcCnry5+AuzW/5WFwHRK/mPWzkMX9EQcmyS/7y8?=
 =?us-ascii?q?VqVSLQoRb+eIbrzae6MeFgfkVyH1/z8cl6GoJ/kos2mp4Q32MXhpGU/XoBjGfy?=
 =?us-ascii?q?Ps9X2aP4bHoRWzELx8TZ7xTi2E1mNniJ3Z72Vm2Bwst9YNm3emMX1Tg678xQCq?=
 =?us-ascii?q?eU7bpEkDBxolq5qwLRfPd8ki0cyfso9H4VneUJtBAxwSWaB7AYBVNYMjD0lxSU?=
 =?us-ascii?q?89C+q71aZGW1frixzkZ+nc2hA6uEogFTQ3v5fpYiHSlt7sRwKl7M0Xvz6p36d9?=
 =?us-ascii?q?nUd94cqhqUkxLYhehPNJ0xjuYKhTZgOW/luH0lyu07ggZ00ZC0ooeHMHlt87yj?=
 =?us-ascii?q?AhFDKDL1fcwT9yrpjaZfmMaWwo+uEo9gGjUNQJvnU/aoHCgOuvTgMgaECCc8pW?=
 =?us-ascii?q?uDGbrDAQ+f719rr27IE5CuLX2WJWMWzdN/RBmGP0xfgRsZXDE7np4/CwCry9bt?=
 =?us-ascii?q?cEZ/5jAN+FH4rgFAxf5vNxn6Sm3fvhunai8oSJiDKxpb9hpN6F3SMcya8+J/BS?=
 =?us-ascii?q?VY/oC6oQyJK2ybYRlIDG4TVkyFAVDjIqeh5d3a/+eEAeq+KuPEYa+SpuxGS/eI?=
 =?us-ascii?q?2ZWv35Nk/zmWM8WAIGJiA+cn2kZZXnB5BsfZmygJSyMNjCLAdMqbpBa6+i1qoc?=
 =?us-ascii?q?Gz6vXrWATz5YSRD7teK8lg+xezga2bLe6fmD55KSpE1pML3XLJyL8f3EMLiyFz?=
 =?us-ascii?q?bTatF64MtTXKTKLWla9aFBobayJ1NMtV4KMwxAhNOcjHitzr0r50lOI6C1BAVV?=
 =?us-ascii?q?b5gMGmedQKI32hNFPAHEuLNKqJJTzIw8H0YKOwU75QjP9Ttx2/pzmbCVLjPi+Y?=
 =?us-ascii?q?mjntVhCvN/xMjS6BMBxfvoG9bghiCWz5QN36bR27Ncd9jScqzr0smnPKKWkcPC?=
 =?us-ascii?q?BmfENQtbKQ9z1Xg/VlF2xF73poNu2Emyef7+nFJZcaq/prAiJol+1E5HQ20ada?=
 =?us-ascii?q?7CZBRPZtgivdssZuo026kumI0jdnTBtOqjNRiI2Xp0ltJaXZ+YdGWXvf+BIN7G?=
 =?us-ascii?q?OQCwkFptd/C93vvbxQxcbLlK7pNDhC9NfU99MGB8fIMMKHLGYhMR3xFT/UFgQF?=
 =?us-ascii?q?SzurNWDZh0NFkfCS9mearp41qpX3nJoOS7lbVEE6F/8AC0RlGsACL4lzXj8+jb?=
 =?us-ascii?q?Gbi8sItjKCq0z0Sd5bvtjkV/aTB/6nfDOUlrhEZBoMwLXzBYsWP4z/nUdlbw8+?=
 =?us-ascii?q?1IjHBUvbUMxXryBJcAA5ugNO/WJ4Q2l13FjqLkup4XkOBbu9hBtziQZkZ+kp3D?=
 =?us-ascii?q?Pt+EssYFvMqjE5nEQ4lZPimz/VODrwKrqgGIJbESz5s2AvPZ7hBQV4dwu/mQpj?=
 =?us-ascii?q?LjiAD7ZQiaZwMGtviyfCtpZVX/1RV6tJZFkX3/7TL/Ep10lM7yq/xEhv++TIE9?=
 =?us-ascii?q?1hmREsfJrqqGhPn0pnbdgoNenLOaxZz3BfgaWBuiKnzOcs2BRYLEEIo02Ifytd?=
 =?us-ascii?q?lEUON7Qibw6l7Odl7wvKzzdKfmkBU7wur+Bh/0U6E+CBySv61PhEME/nZL/XFL?=
 =?us-ascii?q?+Qp2WVzZ3AeVg3zE5d0hAdpbU=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AcAADzrPZbh0O0hNFiHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUQcBAQsBgmkDfyeDeIM8hFyMAYINFIh2jjCBbhcBARgHDAGBS4cGIjQJDQE?=
 =?us-ascii?q?DAQEBAQEBAgETAQEBCA0JCCkjDII2JAGCYgECAwECIA8BDQEBNwEFCQEBChIGA?=
 =?us-ascii?q?gImAgIDHhMBBQEODgYBDAYCAQEBBIMYAYFpAxUEAQqeJjyKHXCBL4J2AQEFgkO?=
 =?us-ascii?q?CQQ2CEQgSeYligRyBVz+BOIJrglY6CwICgSiDO4JXh1KDQZRDLgcCghwEg3thh?=
 =?us-ascii?q?wiDJQYYgiaHKxCHJ41DgQqJPAIEAgQFAgUPIYElgg0zGjCDLwmCEoNthRSFPz8?=
 =?us-ascii?q?ygQUBAYpcgk0BAQ?=
X-IPAS-Result: =?us-ascii?q?A0AcAADzrPZbh0O0hNFiHAEBAQQBAQcEAQGBUQcBAQsBgmk?=
 =?us-ascii?q?DfyeDeIM8hFyMAYINFIh2jjCBbhcBARgHDAGBS4cGIjQJDQEDAQEBAQEBAgETA?=
 =?us-ascii?q?QEBCA0JCCkjDII2JAGCYgECAwECIA8BDQEBNwEFCQEBChIGAgImAgIDHhMBBQE?=
 =?us-ascii?q?ODgYBDAYCAQEBBIMYAYFpAxUEAQqeJjyKHXCBL4J2AQEFgkOCQQ2CEQgSeYlig?=
 =?us-ascii?q?RyBVz+BOIJrglY6CwICgSiDO4JXh1KDQZRDLgcCghwEg3thhwiDJQYYgiaHKxC?=
 =?us-ascii?q?HJ41DgQqJPAIEAgQFAgUPIYElgg0zGjCDLwmCEoNthRSFPz8ygQUBAYpcgk0BA?=
 =?us-ascii?q?Q?=
X-IronPort-AV: E=Sophos;i="5.56,265,1539673200"; 
   d="scan'208";a="139213287"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 22 Nov 2018 05:23:49 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2436799AbeKWADG (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Thu, 22 Nov 2018 19:03:06 -0500
Received: from mail-wm1-f67.google.com ([209.85.128.67]:35550 "EHLO
        mail-wm1-f67.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S2388885AbeKWADF (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 22 Nov 2018 19:03:05 -0500
Received: by mail-wm1-f67.google.com with SMTP id c126so9093070wmh.0
        for <linux-kernel@vger.kernel.org>; Thu, 22 Nov 2018 05:23:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=linaro.org; s=google;
        h=subject:to:cc:references:from:message-id:date:user-agent
         :mime-version:in-reply-to:content-language:content-transfer-encoding;
        bh=4w0MIK4419v8QaqU3k3Um9A+0am0yvH61l+/nftgpcY=;
        b=MZPqD6Gp8Y5+2NvcXP8TLr/LWIW5nSzKvkb+ljA0P2Qg5vq0ym5P6snUQVCllfjqsM
         /6ulI+WZQIOhvGs61/mTurJf6i2h0h3sYEULf+eSy5uoFjeOVaavOhrNxHWNrvb+6lvU
         X/1K36zTbhq45+DyDX5/wa1UP4jEoRrtgMtLk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:subject:to:cc:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-language
         :content-transfer-encoding;
        bh=4w0MIK4419v8QaqU3k3Um9A+0am0yvH61l+/nftgpcY=;
        b=TBx7nSR7osl+mfWEJuOvMjfNcVcEoRAohTe1nyCSlGl9XO8yfjpX2nd0+RE+BAdjlt
         6F98nWVX4K1NDurYd0W+yuTcfMh6WhG9kfq4jDyn0c3fzbkzf8sYykjbI3LlWwA5q4e/
         H3p2SazHa5krdJIHSE44wq8lOFlAGXKYZc5Ni0xdwV/tAZ32FxYlIJYSTUGpwaOyNHXu
         feuFGs5Jbh+8C+5BGDtLwPxtKM1V8NzK16qUboDt/k4Jm4rHITHY9BA9Ivsi4dyRQSFf
         6mL0SQSA7Mr03Sm2ENx8k0+De4zIArFx+ZgcivW0cUrWe7f6vRW9TMkftsP5cr/J5tTV
         eTMw==
X-Gm-Message-State: AGRZ1gLaaWHsqIIvIdQj0sME03oo1zHwluVdzhr6PvuCX5GV65mNmBJR
        R/ov5jaIr5aLFv+QBqF31Sqw6w==
X-Google-Smtp-Source: AJdET5efw2jP3yCuEX3araxDIGMpqJwUZO2onQ/qLt/X4b6NJvv5aAXRdkgyWi7ytZQxcMHXT+tZiA==
X-Received: by 2002:a1c:4108:: with SMTP id o8mr9283584wma.91.1542893024427;
        Thu, 22 Nov 2018 05:23:44 -0800 (PST)
Received: from [192.168.0.40] (189.35.136.77.rev.sfr.net. [77.136.35.189])
        by smtp.googlemail.com with ESMTPSA id 134-v6sm5450488wmp.6.2018.11.22.05.23.42
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 22 Nov 2018 05:23:43 -0800 (PST)
Subject: Re: [RFC PATCH v3 07/17] clocksource: sun4i: add a compatible for
 suniv
To: Mesih Kilinc <mesihkilinc@gmail.com>, devicetree@vger.kernel.org,
        linux-arm-kernel@lists.infradead.org, linux-kernel@vger.kernel.org,
        linux-clk@vger.kernel.org, linux-gpio@vger.kernel.org,
        linux-sunxi@googlegroups.com
Cc: Maxime Ripard <maxime.ripard@free-electrons.com>,
        Chen-Yu Tsai <wens@csie.org>,
        Russell King <linux@armlinux.org.uk>,
        Marc Zyngier <marc.zyngier@arm.com>,
        Linus Walleij <linus.walleij@linaro.org>,
        Icenowy Zheng <icenowy@aosc.io>,
        Rob Herring <robh+dt@kernel.org>,
        Julian Calaby <julian.calaby@gmail.com>
References: <cover.1542824904.git.mesihkilinc@gmail.com>
 <60bc70fc43743f664de76abf3ab0a01cd7924458.1542824904.git.mesihkilinc@gmail.com>
From: Daniel Lezcano <daniel.lezcano@linaro.org>
Message-ID: <a732f908-c70e-ce30-ad18-ddbb6879995f@linaro.org>
Date: Thu, 22 Nov 2018 14:23:41 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.2.1
MIME-Version: 1.0
In-Reply-To: <60bc70fc43743f664de76abf3ab0a01cd7924458.1542824904.git.mesihkilinc@gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Language: en-US
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On 21/11/2018 19:30, Mesih Kilinc wrote:
> The suniv (new F-series) chip has a timer with less functionality than
> the A10 timer, e.g. it has only 3 channels.
> 
> Add a new compatible for it. As we didn't use the extra channels on A10
> either now, the code needn't to be changed.
> 
> The suniv chip is based on ARM926EJ-S CPU, thus it has no architecture timer.
> 
> Register sun4i_timer as sched_clock on it.
> 
> Signed-off-by: Mesih Kilinc <mesihkilinc@gmail.com>

Acked-by: Daniel Lezcano <daniel.lezcano@linaro.org>

> ---
>  drivers/clocksource/sun4i_timer.c | 5 ++++-
>  1 file changed, 4 insertions(+), 1 deletion(-)
> 
> diff --git a/drivers/clocksource/sun4i_timer.c b/drivers/clocksource/sun4i_timer.c
> index 6e0180a..65f38f6 100644
> --- a/drivers/clocksource/sun4i_timer.c
> +++ b/drivers/clocksource/sun4i_timer.c
> @@ -186,7 +186,8 @@ static int __init sun4i_timer_init(struct device_node *node)
>  	 */
>  	if (of_machine_is_compatible("allwinner,sun4i-a10") ||
>  	    of_machine_is_compatible("allwinner,sun5i-a13") ||
> -	    of_machine_is_compatible("allwinner,sun5i-a10s"))
> +	    of_machine_is_compatible("allwinner,sun5i-a10s") ||
> +	    of_machine_is_compatible("allwinner,suniv-f1c100s"))
>  		sched_clock_register(sun4i_timer_sched_read, 32,
>  				     timer_of_rate(&to));
>  
> @@ -218,3 +219,5 @@ static int __init sun4i_timer_init(struct device_node *node)
>  }
>  TIMER_OF_DECLARE(sun4i, "allwinner,sun4i-a10-timer",
>  		       sun4i_timer_init);
> +TIMER_OF_DECLARE(suniv, "allwinner,suniv-f1c100s-timer",
> +		       sun4i_timer_init);
> 


-- 
 <http://www.linaro.org/> Linaro.org │ Open source software for ARM SoCs

Follow Linaro:  <http://www.facebook.com/pages/Linaro> Facebook |
<http://twitter.com/#!/linaroorg> Twitter |
<http://www.linaro.org/linaro-blog/> Blog

