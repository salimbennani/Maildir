Return-Path: <linux-kernel-owner@vger.kernel.org>
Delivered-To: unknown
Received: from linux.intel.com (10.54.29.200:995) by likexu-workstation with
  POP3-SSL; 23 Nov 2018 10:36:10 -0000
X-Original-To: like.xu@linux.intel.com
Delivered-To: like.xu@linux.intel.com
Received: from fmsmga002.fm.intel.com (fmsmga002.fm.intel.com [10.253.24.26])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by linux.intel.com (Postfix) with ESMTPS id 1EA25580460;
	Thu, 22 Nov 2018 17:12:10 -0800 (PST)
Received: from orsmga101.jf.intel.com ([10.7.208.22])
  by fmsmga002-1.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Nov 2018 17:12:09 -0800
X-SG-BADATTACHMENTNOREPLY: True
IronPort-PHdr: =?us-ascii?q?9a23=3AJ00fTR3cyuKGuXfqsmDT+DRfVm0co7zxezQtwd8Z?=
 =?us-ascii?q?segSLfnxwZ3uMQTl6Ol3ixeRBMOHs6IC07KempujcFRI2YyGvnEGfc4EfD4+ou?=
 =?us-ascii?q?JSoTYdBtWYA1bwNv/gYn9yNs1DUFh44yPzahANS47xaFLIv3K98yMZFAnhOgpp?=
 =?us-ascii?q?POT1HZPZg9iq2+yo9JDffwZFiCChbb9uMR67sRjfus4KjIV4N60/0AHJonxGe+?=
 =?us-ascii?q?RXwWNnO1eelAvi68mz4ZBu7T1et+ou+MBcX6r6eb84TaFDAzQ9L281/szrugLd?=
 =?us-ascii?q?QgaJ+3ART38ZkhtMAwjC8RH6QpL8uTb0u+ZhxCWXO9D9QKsqUjq+8ahkVB7oiD?=
 =?us-ascii?q?8GNzEn9mHXltdwh79frB64uhBz35LYbISTOfV5Yq7Qc88WSXdYUspNSiBKH4ew?=
 =?us-ascii?q?Y5YPAuYEO+tTsovzqEYUrRamCgasCuHgxD9GiHH1wKM0zfguERre3AEiBN8OtW?=
 =?us-ascii?q?jYoc/vOasOTey4zq/FxijDYfNM3jf97ZDFfwwnof6RXbN7bMzfyVQzFwPCi1WQ?=
 =?us-ascii?q?qJblPyiW1uQMrmOW6O5gVf+zi24gsAxxoSagxt0qiobXgoIZ0FfE9T92wIssI9?=
 =?us-ascii?q?CzVU11Yca8HZdOqy2XM5F6Tt4sTm12oio2174LtYKhcCULypkr3wDTZ+CDfoSS?=
 =?us-ascii?q?4R/uVPydLSpmiH9mYr6yiBi//E69wePmTMa0ykxFri9dn9nMqH8N0xvT59CZSv?=
 =?us-ascii?q?ty4EihwyyD1wPN5eFeJ0A7i67bJ4Qmwr4qmZofqUXDHinol0XqlKKaaFko9+yy?=
 =?us-ascii?q?5+j6bLjquIWQO5J3hw3iKKgjm86yDfw9MgcUXmib/eq81Kfk/U38WLhKivw2kq?=
 =?us-ascii?q?/EsJHVPMgbpbC2AxVT0ok97xazFjCm0doenXYZNlJIYwyHj4f3NFHUOvz4Dumw?=
 =?us-ascii?q?g06qkDh1w/DKJLrhAo/CLnTbirfuYa5961JAyAo01d1f45NUCrIfL/7pVU7xqc?=
 =?us-ascii?q?fVDhs4Mwyy3ubmB89x1oIYWWKTHKCZNLnevkOP5uIqO+OMfpMauC7hK/g54P7j?=
 =?us-ascii?q?lX85lkUcfam1x5QXb2q0HvR7I0qDZ3rsjcwMEWMLvgo4Uezrh0eOUT9VZ3auQa?=
 =?us-ascii?q?084is3B56hDYfGXoqtmqCO3D+nHp1KYWBLElKMEXD2eImeWPcMbySSIslmkjEf?=
 =?us-ascii?q?UbihSokh1QyhtQPgyrpnKPbU9TMctZ75yNd14OjTnwko9TNoF8Sdz32NT2Zsk2?=
 =?us-ascii?q?wSXD823Kd/oU9nxleZy6d4gedVFdhS5/NPTwc7OoTQz+18C9DuRA3Bes2FR0qh?=
 =?us-ascii?q?QtWjGTsxVM4+w8cSY0ZhHNWvlhPD0DCsA7MPk7yLBYY78qTT33XqI8Z9ynDG1L?=
 =?us-ascii?q?QujlU8Q8tPM3GmibB79wTJG4HJlECZnb6wdasAxC7N6HuDzW2WsU5FSgFwT7vK?=
 =?us-ascii?q?UWofZkTMq9T5/V3NT7mpBbQjMQtBzMqCJ7BOat3oi1VGWfjiNM7fY2K3h2e/Gx?=
 =?us-ascii?q?KIyqmQY4rtfmUXxD/dB1QckwAP4XaGMhAzCTq7rGLAEjNiD1LvbFnq8elltny7?=
 =?us-ascii?q?SFQ5zwWLb01nyrq09QQZhf2aS/MPwL0EvD0tpClzHFa4x9jWEcaPpxJ9fKVAZt?=
 =?us-ascii?q?Mw+EtH1WPctwx6IpygL6BjikQCcwhtuEPuzRF3CoRGkcglt34qyAtyKaSF0FJO?=
 =?us-ascii?q?bT+Y3JbwOqHJJWn25hygd6nW2lTG2taM5qgP8Og4q0nkvAyxDEUi92to0tZL3H?=
 =?us-ascii?q?qc/JnFFxcSXo/rXUYx9Bh6oK/abzI554PV031sLKa1viXD29IvGOsq1BKgc81D?=
 =?us-ascii?q?P6ODEQ/4C9caCNS2KOw2h1ipaQoJPeBP9KIuI8yqbfqH2K6xM+ZmkzKrlmBH4I?=
 =?us-ascii?q?F70kKR+CtwUO/I35AZw/6G2guLTSvzjFCkssrvg4BLeSkSHnajySjjHINRfKxy?=
 =?us-ascii?q?cpoRBme0PsK3wc9yh5jzVH5C9V6vHk8J19WteRWPcVP9xwpQ1UIMrHyjmCu4yS?=
 =?us-ascii?q?F0kj4zoqqe2izO3/rtdB4dNmFXQ2liiE/mIZKogNACQEiocw8pmQOl5Eb73aRa?=
 =?us-ascii?q?pL5zL3LOQUdOZCX2K2BiUq2ttruNecJP6ZUosTlJX+S4e1yVVrn9ox4C2SP5A2?=
 =?us-ascii?q?Re3Cw7dy2tupjhnRx1knidLHVwrHreY81w3g3Q5N/fRf5Q2DoJWi94hCLTBli9?=
 =?us-ascii?q?Odmp4NqVm43CsuC4S2KuSJlTfTP3woOHsSux/XdqDgGnn/Cvht3nFhA30C/h2N?=
 =?us-ascii?q?ltTynIrhf8Yo/w2qS+MOJneFRoBVDm58p7HIF+jpU/hJUK1XcGgZWV+GINkX3v?=
 =?us-ascii?q?PtVDxaL+cH0NSCYIw9HP4Qjpwk1jLm+TyIL/WXWQ2c9hZ9i8YmML1SMx9cFKCK?=
 =?us-ascii?q?GI7LNamSt5uEa3rQXUYfJlhDcS1eMu6GIGg+EOoActyySdArMIEkVCMy3jiQ+I?=
 =?us-ascii?q?78ygo6VNf2mgb6Kw1EVlkNClDbGCpBxcWXnjdpcjGy9w8ttwMFbW3HLv7YHkfc?=
 =?us-ascii?q?HabcgPuR2MjxfAk+9VJYotlvoNgCprI2P8smcjy+4mlhxuxpC6sZODK2Vs+qK5?=
 =?us-ascii?q?HxFZOif0Z8MV5jHik6JektyK0ICoG5VrAi8LU4fwTfK0DDISsuzqOB2UHz07rn?=
 =?us-ascii?q?ebBKDTHQuC6Ep9q3LPEparN2yYJXUDzNViQgWdK1JbgAwOQDo6mZs5HBiwxMP9?=
 =?us-ascii?q?aEd5+iwR5lngpxtO0O1oMgfwUnzFqAe0cDs0S4WfLBlL7gFE/UjVKteT7uZyHy?=
 =?us-ascii?q?Fe452goxaBKm2dZwRUE24JXlaICEzkPrmr/dPA6fSXBvKiL/vSZrWDsexfV/CV?=
 =?us-ascii?q?xZK2z4tp5TCMOt+UPnllCf071VFOXXR4G8TfhjUORDYblyPLb86Huhi8/jd7od?=
 =?us-ascii?q?y48PTuQAjv/5eAC6NOMdVz/BC7maeDOPCRhCZ6KjZY14kAxXzSyLgY014dlTtu?=
 =?us-ascii?q?dyS2EbkbsS7NTaTQmrJYDhIBaiNzMtdI4Lw43gVXJcHbjdb13KZijvEpE1dFSU?=
 =?us-ascii?q?DhmsaxaMMQPmGyL0nHC1iLNbicIT3Lwtr6Yae9Sb1WkeVVuAe8uTedE0//IDuD?=
 =?us-ascii?q?kyPlWAyoMeFJlCubJgBRuJmhchZxDmjuVM7mahy+MNNtkTI626E7hnPUOm4aKj?=
 =?us-ascii?q?V8d0JNrruN7SJXmPl/GmpB7mZ7IumAgSqW8+7YKpMOu/txHit0j/5a4Gg9y7ZN?=
 =?us-ascii?q?7CBLXvp1mC7Trt5ou16nk+mPxSBhUBpBsTtLgIOLvUN/OaTW7JVAWHDE/A4T4m?=
 =?us-ascii?q?WUERgFu9xlCti885xXn/HJmLj+N39m7s7T+MoGHMvVYJaDLWYmGRnkAjjZCE0C?=
 =?us-ascii?q?VzH9Zk/FgEkIufee5zWxs4Q9r5n2g5kPAutfSUAyPvAXEEJoGJoFOpghDWBsqq?=
 =?us-ascii?q?KSkMNdvSn2lxLWXsgP+8CaWw=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0APAACDU/dbh0O0hNFiHAEBAQQBAQcEA?=
 =?us-ascii?q?QGBUQcBAQsBgVUFghEUE4N5gR2Ge44MFIkFjiKBcAMUGBMBhECEEiI0CQ0BAwE?=
 =?us-ascii?q?BAQEBAQIBEwEBAQgNCQgpIwyCNiSCYwECAwECIAQZAQE3AQUJAQEKCwMGBCoCA?=
 =?us-ascii?q?gIBHxIBBQEcBhMFA4MZAYF0DQWcJTyKHXB8M4J2AQEFhw0HCIptgRwXgX+DdS6?=
 =?us-ascii?q?FHoJkgleJIYFyhH+PcgmEIYF0ixoYgVmFC4MjhwGJbY40DyGBJYINfQhsBoI1g?=
 =?us-ascii?q?hsJGn8BC4dThV8fMgGBBAEBjFUBAQ?=
X-IPAS-Result: =?us-ascii?q?A0APAACDU/dbh0O0hNFiHAEBAQQBAQcEAQGBUQcBAQsBgVU?=
 =?us-ascii?q?FghEUE4N5gR2Ge44MFIkFjiKBcAMUGBMBhECEEiI0CQ0BAwEBAQEBAQIBEwEBA?=
 =?us-ascii?q?QgNCQgpIwyCNiSCYwECAwECIAQZAQE3AQUJAQEKCwMGBCoCAgIBHxIBBQEcBhM?=
 =?us-ascii?q?FA4MZAYF0DQWcJTyKHXB8M4J2AQEFhw0HCIptgRwXgX+DdS6FHoJkgleJIYFyh?=
 =?us-ascii?q?H+PcgmEIYF0ixoYgVmFC4MjhwGJbY40DyGBJYINfQhsBoI1ghsJGn8BC4dThV8?=
 =?us-ascii?q?fMgGBBAEBjFUBAQ?=
X-IronPort-AV: E=Sophos;i="5.56,267,1539673200"; 
   d="diff'?scan'208";a="41935759"
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Unscannable: 2
Received: from vger.kernel.org ([209.132.180.67])
  by mtab.intel.com with ESMTP; 22 Nov 2018 17:12:07 -0800
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2439238AbeKWLvG (ORCPT <rfc822;like.xu@linux.intel.com>
        + 23 others); Fri, 23 Nov 2018 06:51:06 -0500
Received: from mail.kernel.org ([198.145.29.99]:36428 "EHLO mail.kernel.org"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S2392716AbeKWLvG (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Nov 2018 06:51:06 -0500
Received: from mail-wm1-f43.google.com (mail-wm1-f43.google.com [209.85.128.43])
        (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
        (No client certificate requested)
        by mail.kernel.org (Postfix) with ESMTPSA id 9073820838
        for <linux-kernel@vger.kernel.org>; Fri, 23 Nov 2018 01:09:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=default; t=1542935342;
        bh=jZszkvFR3ApXve2Jwb5IbBwsSVmr21WdWYmIWulelN4=;
        h=References:In-Reply-To:From:Date:Subject:To:Cc:From;
        b=o5FaZP5cbKmClFNSjSGxqg3bEFY28aqDfAXeReVqWG35it6YdDfFrUbtZ7x3hnLD9
         mE1I8zJFxb+hzF9dO68oLOnnLZEZLle62vJ4PF0TbQfro/wcxIcq36kfX3Ydv6hl5c
         1twtQyyg6qFLHwa9ZB7hqRFw+jvqs8jZZwjjA/9Q=
Received: by mail-wm1-f43.google.com with SMTP id j207so3337645wmj.1
        for <linux-kernel@vger.kernel.org>; Thu, 22 Nov 2018 17:09:02 -0800 (PST)
X-Gm-Message-State: AGRZ1gLsH5t9wPsFPs7PxvWmcNxQT5nl51I/CFParv58efZtT4Wjyc9Y
        +kU5ciHiTkIRiI/tYF7BznmkKH//EosFPz2A1NsIMA==
X-Google-Smtp-Source: AJdET5dUfi1BGriSv/koGum5Y2CfCap8el/zhJD9sU/y3aukuxu+o4vrmPyAb2ZkO7UXTKpOatRyS+pcyz+Aj8NfiCY=
X-Received: by 2002:a1c:f112:: with SMTP id p18mr11186312wmh.83.1542935340997;
 Thu, 22 Nov 2018 17:09:00 -0800 (PST)
MIME-Version: 1.0
References: <20181116232728.23538-1-chang.seok.bae@intel.com>
 <CALCETrVtnkrr+t7-oXXrGDsei1Q0nudh8JstkuaE+dka4FHPEA@mail.gmail.com>
 <20181122205645.GA36550@gmail.com> <CALCETrVHtjXFskx5VesHnzv=BnUx=t3qC_RRWsp96RgT5CN2VQ@mail.gmail.com>
In-Reply-To: <CALCETrVHtjXFskx5VesHnzv=BnUx=t3qC_RRWsp96RgT5CN2VQ@mail.gmail.com>
From: Andy Lutomirski <luto@kernel.org>
Date: Thu, 22 Nov 2018 17:08:48 -0800
X-Gmail-Original-Message-ID: <CALCETrUGJBme-xA1_=GgnJWDN6rkQ79g_insKfNJwuo_wO0FSQ@mail.gmail.com>
Message-ID: <CALCETrUGJBme-xA1_=GgnJWDN6rkQ79g_insKfNJwuo_wO0FSQ@mail.gmail.com>
Subject: Re: [PATCH v5] x86/fsgsbase/64: Fix the base write helper functions
To: Andrew Lutomirski <luto@kernel.org>
Cc: Ingo Molnar <mingo@kernel.org>,
        "Bae, Chang Seok" <chang.seok.bae@intel.com>,
        Thomas Gleixner <tglx@linutronix.de>,
        "H. Peter Anvin" <hpa@zytor.com>, Andi Kleen <ak@linux.intel.com>,
        Dave Hansen <dave.hansen@linux.intel.com>,
        "Ravi V. Shankar" <ravi.v.shankar@intel.com>,
        LKML <linux-kernel@vger.kernel.org>
Content-Type: multipart/mixed; boundary="000000000000e9a186057b4aa0d3"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

--000000000000e9a186057b4aa0d3
Content-Type: text/plain; charset="UTF-8"

On Thu, Nov 22, 2018 at 4:42 PM Andy Lutomirski <luto@kernel.org> wrote:
>
> On Thu, Nov 22, 2018 at 12:56 PM Ingo Molnar <mingo@kernel.org> wrote:
> >
> >
> > * Andy Lutomirski <luto@kernel.org> wrote:
> >
> > > On Fri, Nov 16, 2018 at 3:27 PM Chang S. Bae <chang.seok.bae@intel.com> wrote:
> > > >
> > > > The helper functions that purport to write the base should just write it
> > > > only. It shouldn't have magic optimizations to change the index.
> > > >
> > > > Make the index explicitly changed from the caller, instead of including
> > > > the code in the helpers.
> > > >
> > > > Subsequently, the task write helpers do not handle for the current task
> > > > anymore. The range check for a base value is also factored out, to
> > > > minimize code redundancy from the caller.
> > > >
> > > > v2: Fix further on the task write functions. Revert the changes on the
> > > > task read helpers.
> > > >
> > > > v3: Fix putreg(). Edit the changelog.
> > > >
> > > > v4: Update the task write helper functions and do_arch_prctl_64(). Fix
> > > > the comment in putreg().
> > > >
> > > > v5: Fix preempt_disable() calls in do_arch_prctl_64()
> > >
> > > Reviewed-by: Andy Lutomirski <luto@kernel.org>
> > >
> > > Ingo, Thomas: can we get this in x86/urgent, please?
> >
> > Sadly this commit introduced a boot failure on both an Intel and an AMD
> > 64-bit testbox.
> >
> > Symptoms range from silent bootup hang in early userspace to segfaults
> > like this:
> >
> > [   21.885741] random: systemd: uninitialized urandom read (16 bytes read)
> > [   21.964778] systemd[1]: segfault at 28 ip 00005584d8d8247d sp 00007ffc7a05aed0 error 4 in systemd[5584d8d0d000+137000]
> > [   21.977664] Code: c3 4c 89 ff e8 94 78 fa ff eb bb 48 89 c3 eb f1 00 00 00 00 00 00 00 00 00 00 00 00 00 41 55 41 54 55 53 48 89 fd 48 83 ec 28 <64> 48 8b 04 25 28 00 00 00 48 89 44 24 18 31 c0 48 85 ff 74 6e 48
> > [   22.000004] systemd[1]: segfault at 28 ip 00005584d8db0a3d sp 00007ffc7a05a7e0 error 4 in systemd[5584d8d0d000+137000]
> > [   22.012869] Code: 49 89 e9 ba 67 01 00 00 bf 04 00 00 00 31 c0 e8 c9 1c 03 00 59 31 c0 5e e9 ff fa ff ff 41 54 55 53 89 fb 48 81 ec 40 01 00 00 <64> 48 8b 04 25 28 00 00 00 48 89 84 24 38 01 00 00 31 c0 e8 fb 92
> >
> > I've zapped the commit from x86/urgent because it's clearly not ready
> > yet.
> >
> > I used a fairly regular distro .config and a fairly regular distro -
> > nothing fancy.
> >
>
> I can reproduce it.  Off the top of my head, maybe 0day is using a
> different, weird glibc configuration?  I think it runs some ancient
> version of Yocto.
>
> And I think I've almost root-caused the problem, and I think it's a
> preexisting bug exposed by this patch.  Lemme double-check and I'll
> send a fix.

Nope, I'm wrong.  Delta fix attached.  Want to just fold this in?

--000000000000e9a186057b4aa0d3
Content-Type: text/x-patch; charset="US-ASCII"; name="fix.diff"
Content-Disposition: attachment; filename="fix.diff"
Content-Transfer-Encoding: base64
Content-ID: <f_jotbd2ff0>
X-Attachment-Id: f_jotbd2ff0

Y29tbWl0IGE1Zjk5YmM4MGM5YmRhY2YzYTE5MDJmODkyMmNhOWI5MzlkNTI3MjMKQXV0aG9yOiBB
bmR5IEx1dG9taXJza2kgPGx1dG9Aa2VybmVsLm9yZz4KRGF0ZTogICBUaHUgTm92IDIyIDE2OjUz
OjU3IDIwMTggLTA4MDAKCiAgICB4ODYvZnNnc2Jhc2UvNjQ6IEZpeCBkb19hcmNoX3ByY3RsXzY0
KCkgdG8gd29yayBjb3JyZWN0bHkgd3J0IHNhdmVfYmFzZV9sZWdhY3koKQogICAgCiAgICBTaWdu
ZWQtb2ZmLWJ5OiBBbmR5IEx1dG9taXJza2kgPGx1dG9Aa2VybmVsLm9yZz4KCmRpZmYgLS1naXQg
YS9hcmNoL3g4Ni9rZXJuZWwvcHJvY2Vzc182NC5jIGIvYXJjaC94ODYva2VybmVsL3Byb2Nlc3Nf
NjQuYwppbmRleCA3NDAzNWMyYTg1YjMuLmZjZjUyOGRmNWI4ZCAxMDA2NDQKLS0tIGEvYXJjaC94
ODYva2VybmVsL3Byb2Nlc3NfNjQuYworKysgYi9hcmNoL3g4Ni9rZXJuZWwvcHJvY2Vzc182NC5j
CkBAIC03MzMsNiArNzMzLDEzIEBAIGxvbmcgZG9fYXJjaF9wcmN0bF82NChzdHJ1Y3QgdGFza19z
dHJ1Y3QgKnRhc2ssIGludCBvcHRpb24sIHVuc2lnbmVkIGxvbmcgYXJnMikKIAkJaWYgKHRhc2sg
PT0gY3VycmVudCkgewogCQkJbG9hZHNlZyhHUywgMCk7CiAJCQl4ODZfZ3NiYXNlX3dyaXRlX2Nw
dV9pbmFjdGl2ZShhcmcyKTsKKworCQkJLyoKKwkJCSAqIE9uIG5vbi1GU0dTQkFTRSBzeXN0ZW1z
LCBzYXZlX2Jhc2VfbGVnYWN5KCkgZXhwZWN0cworCQkJICogdGhhdCB3ZSBhbHNvIGZpbGwgaW4g
dGhyZWFkLmdzYmFzZS4KKwkJCSAqLworCQkJdGFzay0+dGhyZWFkLmdzYmFzZSA9IGFyZzI7CisK
IAkJfSBlbHNlIHsKIAkJCXRhc2stPnRocmVhZC5nc2luZGV4ID0gMDsKIAkJCXg4Nl9nc2Jhc2Vf
d3JpdGVfdGFzayh0YXNrLCBhcmcyKTsKQEAgLTc1Niw2ICs3NjMsMTIgQEAgbG9uZyBkb19hcmNo
X3ByY3RsXzY0KHN0cnVjdCB0YXNrX3N0cnVjdCAqdGFzaywgaW50IG9wdGlvbiwgdW5zaWduZWQg
bG9uZyBhcmcyKQogCQlpZiAodGFzayA9PSBjdXJyZW50KSB7CiAJCQlsb2Fkc2VnKEZTLCAwKTsK
IAkJCXg4Nl9mc2Jhc2Vfd3JpdGVfY3B1KGFyZzIpOworCisJCQkvKgorCQkJICogT24gbm9uLUZT
R1NCQVNFIHN5c3RlbXMsIHNhdmVfYmFzZV9sZWdhY3koKSBleHBlY3RzCisJCQkgKiB0aGF0IHdl
IGFsc28gZmlsbCBpbiB0aHJlYWQuZnNiYXNlLgorCQkJICovCisJCQl0YXNrLT50aHJlYWQuZnNi
YXNlID0gYXJnMjsKIAkJfSBlbHNlIHsKIAkJCXRhc2stPnRocmVhZC5mc2luZGV4ID0gMDsKIAkJ
CXg4Nl9mc2Jhc2Vfd3JpdGVfdGFzayh0YXNrLCBhcmcyKTsK
--000000000000e9a186057b4aa0d3--
