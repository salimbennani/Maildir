Return-Path: <xen-devel-bounces@lists.xenproject.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (61.164.42.155:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 14 Nov 2018 14:46:13 -0000
Received: from icoremail.net (unknown [209.85.215.169])
	by mail-app2 (Coremail) with SMTP id by_KCgD3_49tGOxbODSQAQ--.9483S3;
	Wed, 14 Nov 2018 20:43:26 +0800 (CST)
Received: from mail-pg1-f169.google.com (unknown [209.85.215.169])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwAX+URpGOxbzaY+AA--.12276S3;
	Wed, 14 Nov 2018 20:43:21 +0800 (CST)
Received: by mail-pg1-f169.google.com with SMTP id 17so7067865pgg.1
        for <xuliker@zju.edu.cn>; Wed, 14 Nov 2018 04:43:21 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-original-authentication-results:x-gm-message-state:delivered-to
         :to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-language:subject:precedence:list-id
         :list-unsubscribe:list-post:list-help:list-subscribe:cc
         :content-transfer-encoding:errors-to:sender;
        bh=PAI5tXV8CihGadzoYDAOdSFnXOBE0fAFqZmg34KJ5yc=;
        b=p3rDDrUDZXpsY9ZvjxTy5ZrEN2CYiIDpSD3U36LBfBcbgXSc96+4BVts2HeMSbvye4
         rY+bgTY6gaGXEXy9FfPSK0A30XLWiydiKWD4OdCANMQqjHT7xVbHBJjXt4rQ5r1wyNY2
         NMNR0I1GTE0duamv9hwY1rh4PCtQtYUDio3bQRqaxGzEslxNXJVyJ2NIixf97QlPcEpl
         n7riW5PGkJLj0+a2fA7j5+FMbMAJP8L2Y/6yrFmPxHC0PMoFlpRjZhlEnDnzMoOgV8Gj
         Qsrr455T6WsAmpjiR3ZeVDK2Ydj5uSr0Mm1aipED2Lk0T8wmi5hSWDS212Zfw3sFREjs
         n6Tg==
X-Original-Authentication-Results: mx.google.com;       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
X-Gm-Message-State: AGRZ1gKpEu0Q3oneJXRLCzm7WYnxCNr9NHGyDw7iZbalTroj41QgBNcD
	ovSa3HXjlUn65kyE26ewxFrtyE9Uw6noM0/YtoCKBEixSZZSi6bkRA==
X-Received: by 2002:aa7:880c:: with SMTP id c12-v6mr1826029pfo.20.1542199401172;
        Wed, 14 Nov 2018 04:43:21 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:c304:0:0:0:0 with SMTP id g4-v6csp5753085pjt;
        Wed, 14 Nov 2018 04:43:19 -0800 (PST)
X-Google-Smtp-Source: AJdET5cDNxz29+il5mVZ3HO5gmRm6Ut1HcUseVV7MW65wdWlZMw6vdZ6NGYM0Bg/159wpfgCCUES
X-Received: by 2002:a81:2714:: with SMTP id n20mr1319035ywn.77.1542199399654;
        Wed, 14 Nov 2018 04:43:19 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1542199399; cv=none;
        d=google.com; s=arc-20160816;
        b=sCr+0ZoIj6CUqu5FANgGbz2cCLnP3pky4XHZ6iLSsbbFZf3XC2hrN2PSS00Z3kCJYr
         g4q+DQ2lCIZGva5hWFgPHhz6URTJcggSwxZyVkrfOqeLHCvdoQbiiKPDPTP2Qlx8t0Vn
         lZKDj4UfidjoYgGqlsFFWR4v/Eu0trh2kWkY7YGMAvDQvDvWNSJ8xhEPP8RkjpQ5T7GC
         E3zdF/2oU52dHxJCiGTKKftdzNffMnr1ZmLR9L2oldHFmFJJ/QPu9w1IeBZStbIyZsyF
         qtaGbttuPdWQ3VLO08GBPVl8diTn7mWpEi2JX3cMNSHi6AwC3zB2g9ZAz8VNhS34V3+1
         gRcA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=sender:errors-to:content-transfer-encoding:cc:list-subscribe
         :list-help:list-post:list-unsubscribe:list-id:precedence:subject
         :content-language:in-reply-to:mime-version:user-agent:date
         :message-id:from:references:to;
        bh=PAI5tXV8CihGadzoYDAOdSFnXOBE0fAFqZmg34KJ5yc=;
        b=eTjNGywCAWwY3IzKGhYoNCp1ZecmGaP9jBlTcyf6j1dIJR32QxsKUwQbZhJZXG19T3
         9bvfLbexWUdeKusqYIWJm95pj4rWRl5QqYbHUl/vYTOViz+jRLiOralOx3w4XRsz+NUb
         Dbr7gl3P80uTCrwIvNX2/cOStBEKMNo05QlSzD+Bz+e47IsXWB71iiEL0wSofcmVKjap
         gNfYoTvr7M0atZA0IV9XPPPRL1Sm52j0lPyOnFksjqRuVw4S/qayvj04P8eWMA7fANKf
         Vp7fH+unvP+tSk3is6kVhHN7UF0aspwVvE7azmHdVWyQPSKNBDi/zY9YEprnokLwnqiO
         JTpw==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
Received: from lists.xenproject.org (lists.xenproject.org. [192.237.175.120])
        by mx.google.com with ESMTPS id e9-v6si13978466ybc.43.2018.11.14.04.43.19
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Wed, 14 Nov 2018 04:43:19 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) client-ip=192.237.175.120;
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1gMuU0-0002vG-HD; Wed, 14 Nov 2018 12:41:24 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <srs0=aca3=nz=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1gMuTz-0002v5-2B
 for xen-devel@lists.xen.org; Wed, 14 Nov 2018 12:41:23 +0000
X-Inumbo-ID: 96c9da6a-e80a-11e8-b6c5-12d6303a7972
Received: from foss.arm.com (unknown [217.140.101.70])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id 96c9da6a-e80a-11e8-b6c5-12d6303a7972;
 Wed, 14 Nov 2018 12:41:21 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.72.51.249])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id D12D8A78;
 Wed, 14 Nov 2018 04:41:20 -0800 (PST)
Received: from [10.1.196.50] (e108454-lin.cambridge.arm.com [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 816113F718;
 Wed, 14 Nov 2018 04:41:19 -0800 (PST)
To: Mirela Simonovic <mirela.simonovic@aggios.com>, xen-devel@lists.xen.org,
 xen-devel@lists.xenproject.org
References: <1542022244-22977-1-git-send-email-mirela.simonovic@aggios.com>
 <1542022244-22977-11-git-send-email-mirela.simonovic@aggios.com>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <746b0ad8-4ce1-dfaf-eadc-939657426900@arm.com>
Date: Wed, 14 Nov 2018 12:41:18 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.2.1
MIME-Version: 1.0
In-Reply-To: <1542022244-22977-11-git-send-email-mirela.simonovic@aggios.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 10/18] xen/arm: Implement GIC suspend/resume
 functions (gicv2 only)
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: stefano.stabellini@xilinx.com, Stefano Stabellini <sstabellini@kernel.org>,
 dm@aggios.com, saeed.nowshadi@xilinx.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
X-CM-TRANSID: AQAAfwAX+URpGOxbzaY+AA--.12276S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvJXoW3Jw1xJr1rJFy8Gr18tFWfuFg_yoWDJw17pF
	WkGr9YkrW3JF1ayayavayq9Fn5Ww1xGF4j93s8u34DCr95ur95Gr9rKrWYkrZ7WrZayw1I
	qr4Fka9xGa9rtrDanT9S1TB71UUUUUUqnTZGkaVYY2UrUUUU0bIjqfuFe4nvWSU8nxnvy2
	9KBjDU0xBIdaVrnRJUUULSb7Iv0xC_Kw4lb4IE77IF4wAFF20E14v26r1j6r4UM7CIcVAF
	z4kK6r1j6r18M28lY4IEw2IIxxk0rwA2F7IY1VAKz4vEj48ve4kI8wA2z4x0Y4vE2Ix0cI
	8IcVAFwI0_Ar0_tr1l84ACjcxK6xIIjxv20xvEc7CjxVAFwI0_Gr0_Cr1l84ACjcxK6I8E
	87Iv67AKxVW0oVCq3wA2z4x0Y4vEx4A2jsIEc7CjxVAFwI0_GcCE3s1lnx0E6VACY4xI67
	k04243AVACY4xI67k04243AVAKzVAKj4xI6x02cVCv0xWle2I262IYc4CY6c8Ij28IcVAa
	Y2xG8wAqx4xG64xvF2IEw4CE5I8CrVC2j2WlYx0E2Ix0cI8IcVAFwI0_Jr0_Jr4lYx0Ex4
	A2jsIE14v26r4j6F4UMcvjeVCFs4IE7xkEbVWUJVW8JwACjcxG0xvEwIxGrwACY4xI67k0
	4243AVAKzVAKj4xxMx02cVCv0xWlc7I2V7IY0VAS07AlzVAYIcxG8wCY1x0264kExVAvwV
	Aq07x20xylc7Ca8VAvwVCFzxkY4VCF77xAMxkIecxEwVCI4VW5JwCY0x0Ix7I2Y4AK64vI
	r41lcIIF0xvE2Ix0cI8IcVAFwI0_Jr0_JF4lcIIF0xvE2Ix0cI8IcVCY1x0267AKxVWUJV
	W8JwCYIxAIcVC2z280aVAFwI0_Cr1j6rxdMxvI42IY6I8E87Iv6xkF7I0E14v26F4UJVW0
	owCF04k20xvY0x0EwIxGrwCF04k20xvEw4C26cxK6c8Ij28IcwCF72vE77IF4wCFx2IqxV
	CFs4IE7xkEbVWUJVW8JwC20s026c02F40E14v26r1j6r18MI8I3I0E7480Y4vE14v26r10
	6r1rMI8E67AF67kF1VAFwI0_Jw0_GFylIxkGc2Ij64vIr41lIxAIcVCF04k26cxKx2IYs7
	xG6rWUJVWrZr1UMVCEFcxC0VAYjxAxZFUvcSsGvfC2KfnxnUUI43ZEXa7IUYCtCDUUUUU=
	=

SGksCgpJIGFtIG5vdCBlbnRpcmVseSBzdXJlIHdoZXJlIHRvIGFzayBpdCwgc28gSSB3aWxsIGRv
IGl0IGhlcmUuIEZyb20gbXkgCnVuZGVyc3RhbmRpbmcgb2YgdGhlIFBTQ0kgc3BlYywgYWxsIHRo
ZSBpbnRlcnJ1cHRzIHNob3VsZCBoYXZlIGJlZW4gbWlncmF0ZWQgCmF3YXkgZnJvbSB0dXJuZWQg
b2ZmIENQVS4gV2hlcmUgZG8geW91IGVuc3VyZSB0aGF0IGluIHRoZSBzdXNwZW5kIHBhdGg/CgoK
T24gMTIvMTEvMjAxOCAxMTozMCwgTWlyZWxhIFNpbW9ub3ZpYyB3cm90ZToKPiBTeXN0ZW0gc3Vz
cGVuZCBtYXkgbGVhZCB0byBhIHN0YXRlIHdoZXJlIEdJQyB3b3VsZCBiZSBwb3dlcmVkIGRvd24u
Cj4gVGhlcmVmb3JlLCBYZW4gc2hvdWxkIHNhdmUvcmVzdG9yZSB0aGUgY29udGV4dCBvZiBHSUMg
b24gc3VzcGVuZC9yZXN1bWUuCj4gTm90ZSB0aGF0IHRoZSBjb250ZXh0IGNvbnNpc3RzIG9mIHN0
YXRlcyBvZiByZWdpc3RlcnMgd2hpY2ggYXJlCj4gY29udHJvbGxlZCBieSB0aGUgaHlwZXJ2aXNv
ci4gT3RoZXIgR0lDIHJlZ2lzdGVycyB3aGljaCBhcmUgYWNjZXNzaWJsZQo+IGJ5IGd1ZXN0cyBh
cmUgc2F2ZWQvcmVzdG9yZWQgb24gY29udGV4dCBzd2l0Y2guCj4gVGVzdGVkIG9uIFhpbGlueCBV
bHRyYXNjYWxlKyBNUFNvQyB3aXRoIChhbmQgd2l0aG91dCkgcG93ZXJpbmcgZG93bgo+IHRoZSBH
SUMuCj4gCj4gU2lnbmVkLW9mZi1ieTogTWlyZWxhIFNpbW9ub3ZpYyA8bWlyZWxhLnNpbW9ub3Zp
Y0BhZ2dpb3MuY29tPgo+IFNpZ25lZC1vZmYtYnk6IFNhZWVkIE5vd3NoYWRpIDxzYWVlZC5ub3dz
aGFkaUB4aWxpbnguY29tPgo+IC0tLQo+ICAgeGVuL2FyY2gvYXJtL2dpYy12Mi5jICAgICB8IDE0
NyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4gICB4ZW4v
YXJjaC9hcm0vZ2ljLmMgICAgICAgIHwgIDI3ICsrKysrKysrKwo+ICAgeGVuL2luY2x1ZGUvYXNt
LWFybS9naWMuaCB8ICAgOCArKysKPiAgIDMgZmlsZXMgY2hhbmdlZCwgMTgyIGluc2VydGlvbnMo
KykKPiAKPiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL2dpYy12Mi5jIGIveGVuL2FyY2gvYXJt
L2dpYy12Mi5jCj4gaW5kZXggZTdlYjAxZjMwYS4uYmI1MmI2NGVjYiAxMDA2NDQKPiAtLS0gYS94
ZW4vYXJjaC9hcm0vZ2ljLXYyLmMKPiArKysgYi94ZW4vYXJjaC9hcm0vZ2ljLXYyLmMKPiBAQCAt
MTIzLDYgKzEyMywyNSBAQCBzdGF0aWMgREVGSU5FX1BFUl9DUFUodTgsIGdpY19jcHVfaWQpOwo+
ICAgLyogTWF4aW11bSBjcHUgaW50ZXJmYWNlIHBlciBHSUMgKi8KPiAgICNkZWZpbmUgTlJfR0lD
X0NQVV9JRiA4Cj4gICAKPiArLyogR0lDdjIgcmVnaXN0ZXJzIHRvIGJlIHNhdmVkL3Jlc3RvcmVk
IG9uIHN5c3RlbSBzdXNwZW5kL3Jlc3VtZSAqLwo+ICtzdHJ1Y3QgZ2ljdjJfY29udGV4dCB7Cj4g
KyAgICAvKiBHSUNDIGNvbnRleHQgKi8KPiArICAgIHVpbnQzMl90IGdpY2NfY3RscjsKPiArICAg
IHVpbnQzMl90IGdpY2NfcG1yOwo+ICsgICAgdWludDMyX3QgZ2ljY19icHI7Cj4gKyAgICAvKiBH
SUNEIGNvbnRleHQgKi8KPiArICAgIHVpbnQzMl90IGdpY2RfY3RscjsKPiArICAgIHVpbnQzMl90
ICpnaWNkX2lzZW5hYmxlcjsKPiArICAgIHVpbnQzMl90ICpnaWNkX2lzYWN0aXZlcjsKPiArICAg
IHVpbnQzMl90ICpnaWNkX2lwcmlvcml0eXI7Cj4gKyAgICB1aW50MzJfdCAqZ2ljZF9pdGFyZ2V0
c3I7Cj4gKyAgICB1aW50MzJfdCAqZ2ljZF9pY2ZncjsKPiArfTsKCkl0IHRvb2sgbWUgYSBsb25n
IHRpbWUgdG8gdW5kZXJzdGFuZCB0aGF0IHlvdSB3aWxsIG9ubHkgc2F2ZSB0aGUgY29udGV4dCBm
b3IgdGhlIApDUFUwIGFuZCBEaXN0cmlidXRvci4KCkkgd291bGQgcHJlZmVyIGlmIHdlIGtlZXAg
c2VwYXJhdGUgcGVyLUNQVSBjb250ZXh0IGFuZCBjb21tb24gY29udGV4dC4gVGhpcyAKd291bGQg
a2VlcCB0aGUgbG9naWMgdmVyeSBzaW1pbGFyIHRvIHRoZSByZXN0IG9mIHRoZSBHSUMgZHJpdmVy
cy4KCj4gKwo+ICtzdGF0aWMgc3RydWN0IGdpY3YyX2NvbnRleHQgZ2ljdjJfY29udGV4dDsKPiAr
Cj4gK3N0YXRpYyB2b2lkIGdpY3YyX2FsbG9jX2NvbnRleHQoc3RydWN0IGdpY3YyX2NvbnRleHQg
KmdjKTsKClBsZWFzZSBkb24ndCBkbyBmb3J3YXJkIGRlY2xhcmF0aW9uLiBUaGUgY29kZSBzaG91
bGQgYmUgYWRkZWQgaW4gdGhlIGNvcnJlY3QgcGxhY2UuCgo+ICsKPiAgIHN0YXRpYyBpbmxpbmUg
dm9pZCB3cml0ZWJfZ2ljZCh1aW50OF90IHZhbCwgdW5zaWduZWQgaW50IG9mZnNldCkKPiAgIHsK
PiAgICAgICB3cml0ZWJfcmVsYXhlZCh2YWwsIGdpY3YyLm1hcF9kYmFzZSArIG9mZnNldCk7Cj4g
QEAgLTEzMTAsNiArMTMyOSw5IEBAIHN0YXRpYyBpbnQgX19pbml0IGdpY3YyX2luaXQodm9pZCkK
PiAgIAo+ICAgICAgIHNwaW5fdW5sb2NrKCZnaWN2Mi5sb2NrKTsKPiAgIAo+ICsgICAgLyogQWxs
b2NhdGUgbWVtb3J5IHRvIGJlIHVzZWQgZm9yIHNhdmluZyBHSUMgY29udGV4dCBkdXJpbmcgdGhl
IHN1c3BlbmQgKi8KPiArICAgIGdpY3YyX2FsbG9jX2NvbnRleHQoJmdpY3YyX2NvbnRleHQpOwo+
ICsKPiAgICAgICByZXR1cm4gMDsKPiAgIH0KPiAgIAo+IEBAIC0xMzE5LDYgKzEzNDEsMTI5IEBA
IHN0YXRpYyB2b2lkIGdpY3YyX2RvX0xQSSh1bnNpZ25lZCBpbnQgbHBpKQo+ICAgICAgIEJVRygp
Owo+ICAgfQo+ICAgCj4gK3N0YXRpYyB2b2lkIGdpY3YyX2FsbG9jX2NvbnRleHQoc3RydWN0IGdp
Y3YyX2NvbnRleHQgKmdjKQo+ICt7CgpJcyBpdCBuZWNlc3NhcnkgdG8gYWxsb2NhdGUgdGhlbSBh
dCBib290PyBDYW4gd2UgbWFrZSB0aGVtIHN0YXRpYyBvciBhbGxvY2F0ZSAKdGhlbSB3aGVuIHdl
IHN1c3BlbmQ/Cgo+ICsgICAgdWludDMyX3QgbiA9IGdpY3YyX2luZm8ubnJfbGluZXM7Cj4gKwo+
ICsgICAgZ2MtPmdpY2RfaXNlbmFibGVyID0geHphbGxvY19hcnJheSh1aW50MzJfdCwgRElWX1JP
VU5EX1VQKG4sIDMyKSk7Cj4gKyAgICBpZiAoICFnYy0+Z2ljZF9pc2VuYWJsZXIgKQo+ICsgICAg
ICAgIHJldHVybjsKPiArCj4gKyAgICBnYy0+Z2ljZF9pc2FjdGl2ZXIgPSB4emFsbG9jX2FycmF5
KHVpbnQzMl90LCBESVZfUk9VTkRfVVAobiwgMzIpKTsKPiArICAgIGlmICggIWdjLT5naWNkX2lz
YWN0aXZlciApCj4gKyAgICAgICAgZ290byBmcmVlX2dpY2RfaXNlbmFibGVyOwo+ICsKPiArICAg
IGdjLT5naWNkX2l0YXJnZXRzciA9IHh6YWxsb2NfYXJyYXkodWludDMyX3QsIERJVl9ST1VORF9V
UChuLCA0KSk7Cj4gKyAgICBpZiAoICFnYy0+Z2ljZF9pdGFyZ2V0c3IgKQo+ICsgICAgICAgIGdv
dG8gZnJlZV9naWNkX2lzYWN0aXZlcjsKPiArCj4gKyAgICBnYy0+Z2ljZF9pcHJpb3JpdHlyID0g
eHphbGxvY19hcnJheSh1aW50MzJfdCwgRElWX1JPVU5EX1VQKG4sIDQpKTsKPiArICAgIGlmICgg
IWdjLT5naWNkX2lwcmlvcml0eXIgKQo+ICsgICAgICAgIGdvdG8gZnJlZV9naWNkX2l0YXJnZXRz
cjsKPiArCj4gKyAgICBnYy0+Z2ljZF9pY2ZnciA9IHh6YWxsb2NfYXJyYXkodWludDMyX3QsIERJ
Vl9ST1VORF9VUChuLCAxNikpOwo+ICsgICAgaWYgKCBnYy0+Z2ljZF9pY2ZnciApCj4gKyAgICAg
ICAgcmV0dXJuOwo+ICsKPiArICAgIHhmcmVlKGdjLT5naWNkX2lwcmlvcml0eXIpOwo+ICsKPiAr
ZnJlZV9naWNkX2l0YXJnZXRzcjoKPiArICAgIHhmcmVlKGdjLT5naWNkX2l0YXJnZXRzcik7Cj4g
Kwo+ICtmcmVlX2dpY2RfaXNhY3RpdmVyOgo+ICsgICAgeGZyZWUoZ2MtPmdpY2RfaXNhY3RpdmVy
KTsKPiArCj4gK2ZyZWVfZ2ljZF9pc2VuYWJsZXI6Cj4gKyAgICB4ZnJlZShnYy0+Z2ljZF9pc2Vu
YWJsZXIpOwo+ICsgICAgZ2MtPmdpY2RfaXNlbmFibGVyID0gTlVMTDsKPiArfQo+ICsKPiArc3Rh
dGljIGludCBnaWN2Ml9zdXNwZW5kKHZvaWQpCj4gK3sKPiArICAgIGludCBpOwo+ICsKPiArICAg
IC8qIFNhdmUgR0lDQyBjb25maWd1cmF0aW9uICovCj4gKyAgICBnaWN2Ml9jb250ZXh0LmdpY2Nf
Y3RsciA9IHJlYWRsX2dpY2MoR0lDQ19DVExSKTsKPiArICAgIGdpY3YyX2NvbnRleHQuZ2ljY19w
bXIgPSByZWFkbF9naWNjKEdJQ0NfUE1SKTsKPiArICAgIGdpY3YyX2NvbnRleHQuZ2ljY19icHIg
PSByZWFkbF9naWNjKEdJQ0NfQlBSKTsKCkFGQUlDVCwgdGhvc2UgdmFsdWVzIHNob3VsZCBhbHdh
eXMgYmUgdGhlIHNhbWUuIFNvIEkgd291bGQganVzdCByZXN0b3JlIHRoZW0gCndpdGggdGhlIGhh
cmRjb2RlZCB2YWx1ZS4KClRoaXMgY291bGQgbGlrZWx5IGJlIGZhY3RvcmVkIGluIGEgc2VwYXJh
dGUgZnVuY3Rpb24gdGhhdCBjb3VsZCBiZSB1c2VkIGluIApnaWN2Ml9jcHVfaW5pdCBhcyB3ZWxs
LgoKPiArCj4gKyAgICAvKiBJZiBnaWN2Ml9hbGxvY19jb250ZXh0KCkgaGFzbid0IGFsbG9jYXRl
ZCBtZW1vcnksIHJldHVybiAqLwo+ICsgICAgaWYgKCAhZ2ljdjJfY29udGV4dC5naWNkX2lzZW5h
YmxlciApCj4gKyAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsgICAgLyogU2F2ZSBHSUNE
IGNvbmZpZ3VyYXRpb24gKi8KPiArICAgIGdpY3YyX2NvbnRleHQuZ2ljZF9jdGxyID0gcmVhZGxf
Z2ljZChHSUNEX0NUTFIpOwoKU2FtZSBoZXJlLgoKPiArCj4gKyAgICBmb3IgKCBpID0gMDsgaSA8
IERJVl9ST1VORF9VUChnaWN2Ml9pbmZvLm5yX2xpbmVzLCAzMik7IGkrKyApCj4gKyAgICAgICAg
Z2ljdjJfY29udGV4dC5naWNkX2lzZW5hYmxlcltpXSA9IHJlYWRsX2dpY2QoR0lDRF9JU0VOQUJM
RVIgKyBpICogNCk7Cj4gKwo+ICsgICAgZm9yICggaSA9IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2lj
djJfaW5mby5ucl9saW5lcywgMzIpOyBpKysgKQo+ICsgICAgICAgIGdpY3YyX2NvbnRleHQuZ2lj
ZF9pc2FjdGl2ZXJbaV0gPSByZWFkbF9naWNkKEdJQ0RfSVNBQ1RJVkVSICsgaSAqIDQpOwo+ICsK
PiArICAgIGZvciAoIGkgPSAwOyBpIDwgRElWX1JPVU5EX1VQKGdpY3YyX2luZm8ubnJfbGluZXMs
IDQpOyBpKysgKQo+ICsgICAgICAgIGdpY3YyX2NvbnRleHQuZ2ljZF9pcHJpb3JpdHlyW2ldID0g
cmVhZGxfZ2ljZChHSUNEX0lQUklPUklUWVIgKyBpICogNCk7Cj4gKwo+ICsgICAgZm9yICggaSA9
IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgNCk7IGkrKyApCj4gKyAg
ICAgICAgZ2ljdjJfY29udGV4dC5naWNkX2l0YXJnZXRzcltpXSA9IHJlYWRsX2dpY2QoR0lDRF9J
VEFSR0VUU1IgKyBpICogNCk7Cj4gKwo+ICsgICAgZm9yICggaSA9IDA7IGkgPCBESVZfUk9VTkRf
VVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMTYpOyBpKysgKQo+ICsgICAgICAgIGdpY3YyX2NvbnRl
eHQuZ2ljZF9pY2ZncltpXSA9IHJlYWRsX2dpY2QoR0lDRF9JQ0ZHUiArIGkgKiA0KTsKPiArCj4g
KyAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZ2ljdjJfcmVzdW1lKHZvaWQp
Cj4gK3sKPiArICAgIGludCBpOwo+ICsKPiArICAgIEFTU0VSVChnaWN2Ml9jb250ZXh0LmdpY2Rf
aXNlbmFibGVyKTsKPiArICAgIEFTU0VSVChnaWN2Ml9jb250ZXh0LmdpY2RfaXNhY3RpdmVyKTsK
PiArICAgIEFTU0VSVChnaWN2Ml9jb250ZXh0LmdpY2RfaXByaW9yaXR5cik7Cj4gKyAgICBBU1NF
UlQoZ2ljdjJfY29udGV4dC5naWNkX2l0YXJnZXRzcik7Cj4gKyAgICBBU1NFUlQoZ2ljdjJfY29u
dGV4dC5naWNkX2ljZmdyKTsKPiArCj4gKyAgICAvKiBEaXNhYmxlIENQVSBpbnRlcmZhY2UgYW5k
IGRpc3RyaWJ1dG9yICovCj4gKyAgICB3cml0ZWxfZ2ljYygwLCBHSUNDX0NUTFIpOwo+ICsgICAg
d3JpdGVsX2dpY2QoMCwgR0lDRF9DVExSKTsKPiArICAgIGlzYigpOwo+ICsKPiArICAgIC8qIFJl
c3RvcmUgR0lDRCBjb25maWd1cmF0aW9uICovCj4gKyAgICBmb3IgKCBpID0gMDsgaSA8IERJVl9S
T1VORF9VUChnaWN2Ml9pbmZvLm5yX2xpbmVzLCAzMik7IGkrKyApCj4gKyAgICAgICAgd3JpdGVs
X2dpY2QoMHhmZmZmZmZmZiwgR0lDRF9JQ0VOQUJMRVIgKyBpICogNCk7Cj4gKwo+ICsgICAgZm9y
ICggaSA9IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMzIpOyBpKysg
KQo+ICsgICAgICAgIHdyaXRlbF9naWNkKGdpY3YyX2NvbnRleHQuZ2ljZF9pc2VuYWJsZXJbaV0s
IEdJQ0RfSVNFTkFCTEVSICsgaSAqIDQpOwoKSSB3b3VsZCBwcmVmZXIgaWYgdGhlcmUgaXMgb25s
eSBvbmUgZm9yIHdpdGggMiB3cml0ZS4gVGhpcyB3b3VsZCBtYWtlIG1vcmUgCm9idmlvdXMgd2h5
IHlvdSBuZWVkIHRvIGNsZWFyIGFsbCBlbmFibGVkIGJpdCBmaXJzdC4KCj4gKwo+ICsgICAgZm9y
ICggaSA9IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMzIpOyBpKysg
KQo+ICsgICAgICAgIHdyaXRlbF9naWNkKDB4ZmZmZmZmZmYsIEdJQ0RfSUNBQ1RJVkVSICsgaSAq
IDQpOwo+ICsKPiArICAgIGZvciAoIGkgPSAwOyBpIDwgRElWX1JPVU5EX1VQKGdpY3YyX2luZm8u
bnJfbGluZXMsIDMyKTsgaSsrICkKPiArICAgICAgICB3cml0ZWxfZ2ljZChnaWN2Ml9jb250ZXh0
LmdpY2RfaXNhY3RpdmVyW2ldLCBHSUNEX0lTQUNUSVZFUiArIGkgKiA0KTsKClNhbWUgaGVyZS4K
Cj4gKwo+ICsgICAgZm9yICggaSA9IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9s
aW5lcywgNCk7IGkrKyApCj4gKyAgICAgICAgd3JpdGVsX2dpY2QoZ2ljdjJfY29udGV4dC5naWNk
X2lwcmlvcml0eXJbaV0sIEdJQ0RfSVBSSU9SSVRZUiArIGkgKiA0KTsKPiArCj4gKyAgICBmb3Ig
KCBpID0gMDsgaSA8IERJVl9ST1VORF9VUChnaWN2Ml9pbmZvLm5yX2xpbmVzLCA0KTsgaSsrICkK
PiArICAgICAgICB3cml0ZWxfZ2ljZChnaWN2Ml9jb250ZXh0LmdpY2RfaXRhcmdldHNyW2ldLCBH
SUNEX0lUQVJHRVRTUiArIGkgKiA0KTsKPiArCj4gKyAgICBmb3IgKCBpID0gMDsgaSA8IERJVl9S
T1VORF9VUChnaWN2Ml9pbmZvLm5yX2xpbmVzLCAxNik7IGkrKyApCj4gKyAgICAgICAgd3JpdGVs
X2dpY2QoZ2ljdjJfY29udGV4dC5naWNkX2ljZmdyW2ldLCBHSUNEX0lDRkdSICsgaSAqIDQpOwo+
ICsKPiArICAgIC8qIE1ha2Ugc3VyZSBhbGwgcmVnaXN0ZXJzIGFyZSByZXN0b3JlZCBhbmQgZW5h
YmxlIGRpc3RyaWJ1dG9yICovCj4gKyAgICBpc2IoKTsKPiArICAgIHdyaXRlbF9naWNkKGdpY3Yy
X2NvbnRleHQuZ2ljZF9jdGxyIHwgR0lDRF9DVExfRU5BQkxFLCBHSUNEX0NUTFIpOwo+ICsKPiAr
ICAgIC8qIFJlc3RvcmUgR0lDIENQVSBpbnRlcmZhY2UgY29uZmlndXJhdGlvbiAqLwo+ICsgICAg
d3JpdGVsX2dpY2MoZ2ljdjJfY29udGV4dC5naWNjX3BtciwgR0lDQ19QTVIpOwo+ICsgICAgd3Jp
dGVsX2dpY2MoZ2ljdjJfY29udGV4dC5naWNjX2JwciwgR0lDQ19CUFIpOwo+ICsgICAgaXNiKCk7
Cj4gKwo+ICsgICAgLyogRW5hYmxlIEdJQyBDUFUgaW50ZXJmYWNlICovCj4gKyAgICB3cml0ZWxf
Z2ljYyhnaWN2Ml9jb250ZXh0LmdpY2NfY3RsciB8IEdJQ0NfQ1RMX0VOQUJMRSB8IEdJQ0NfQ1RM
X0VPSSwKPiArICAgICAgICAgICAgICAgIEdJQ0NfQ1RMUik7Cj4gKyAgICBpc2IoKTsKPiArfQo+
ICsKPiAgIGNvbnN0IHN0YXRpYyBzdHJ1Y3QgZ2ljX2h3X29wZXJhdGlvbnMgZ2ljdjJfb3BzID0g
ewo+ICAgICAgIC5pbmZvICAgICAgICAgICAgICAgID0gJmdpY3YyX2luZm8sCj4gICAgICAgLmlu
aXQgICAgICAgICAgICAgICAgPSBnaWN2Ml9pbml0LAo+IEBAIC0xMzUxLDYgKzE0OTYsOCBAQCBj
b25zdCBzdGF0aWMgc3RydWN0IGdpY19od19vcGVyYXRpb25zIGdpY3YyX29wcyA9IHsKPiAgICAg
ICAubWFwX2h3ZG9tX2V4dHJhX21hcHBpbmdzID0gZ2ljdjJfbWFwX2h3ZG93bl9leHRyYV9tYXBw
aW5ncywKPiAgICAgICAuaW9tZW1fZGVueV9hY2Nlc3MgICA9IGdpY3YyX2lvbWVtX2RlbnlfYWNj
ZXNzLAo+ICAgICAgIC5kb19MUEkgICAgICAgICAgICAgID0gZ2ljdjJfZG9fTFBJLAo+ICsgICAg
LnN1c3BlbmQgICAgICAgICAgICAgPSBnaWN2Ml9zdXNwZW5kLAo+ICsgICAgLnJlc3VtZSAgICAg
ICAgICAgICAgPSBnaWN2Ml9yZXN1bWUsCj4gICB9Owo+ICAgCj4gICAvKiBTZXQgdXAgdGhlIEdJ
QyAqLwo+IGRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vZ2ljLmMgYi94ZW4vYXJjaC9hcm0vZ2lj
LmMKPiBpbmRleCBlNTI0YWQ1ODNkLi42ZTk4ZjQzNjkxIDEwMDY0NAo+IC0tLSBhL3hlbi9hcmNo
L2FybS9naWMuYwo+ICsrKyBiL3hlbi9hcmNoL2FybS9naWMuYwo+IEBAIC00NjQsNiArNDY0LDMz
IEBAIGludCBnaWNfaW9tZW1fZGVueV9hY2Nlc3MoY29uc3Qgc3RydWN0IGRvbWFpbiAqZCkKPiAg
ICAgICByZXR1cm4gZ2ljX2h3X29wcy0+aW9tZW1fZGVueV9hY2Nlc3MoZCk7Cj4gICB9Cj4gICAK
PiAraW50IGdpY19zdXNwZW5kKHZvaWQpCj4gK3sKPiArICAgIC8qIE11c3QgYmUgY2FsbGVkIGJ5
IGJvb3QgQ1BVIzAgd2l0aCBpbnRlcnJ1cHRzIGRpc2FibGVkICovCj4gKyAgICBBU1NFUlQoIWxv
Y2FsX2lycV9pc19lbmFibGVkKCkpOwo+ICsgICAgQVNTRVJUKCFzbXBfcHJvY2Vzc29yX2lkKCkp
Owo+ICsKPiArICAgIGlmICggIWdpY19od19vcHMtPnN1c3BlbmQgfHwgIWdpY19od19vcHMtPnJl
c3VtZSApCj4gKyAgICAgICAgcmV0dXJuIC1FTk9TWVM7Cj4gKwo+ICsgICAgZ2ljX2h3X29wcy0+
c3VzcGVuZCgpOwo+ICsKPiArICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICt2b2lkIGdpY19yZXN1
bWUodm9pZCkKPiArewo+ICsgICAgLyoKPiArICAgICAqIE11c3QgYmUgY2FsbGVkIGJ5IGJvb3Qg
Q1BVIzAgd2l0aCBpbnRlcnJ1cHRzIGRpc2FibGVkIGFmdGVyIGdpY19zdXNwZW5kCj4gKyAgICAg
KiBoYXMgcmV0dXJuZWQgc3VjY2Vzc2Z1bGx5Lgo+ICsgICAgICovCj4gKyAgICBBU1NFUlQoIWxv
Y2FsX2lycV9pc19lbmFibGVkKCkpOwo+ICsgICAgQVNTRVJUKCFzbXBfcHJvY2Vzc29yX2lkKCkp
Owo+ICsgICAgQVNTRVJUKGdpY19od19vcHMtPnJlc3VtZSk7Cj4gKwo+ICsgICAgZ2ljX2h3X29w
cy0+cmVzdW1lKCk7Cj4gK30KPiArCj4gICBzdGF0aWMgaW50IGNwdV9naWNfY2FsbGJhY2soc3Ry
dWN0IG5vdGlmaWVyX2Jsb2NrICpuZmIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dW5zaWduZWQgbG9uZyBhY3Rpb24sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9p
ZCAqaGNwdSkKPiBkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLWFybS9naWMuaCBiL3hlbi9p
bmNsdWRlL2FzbS1hcm0vZ2ljLmgKPiBpbmRleCAyMmZhMTIyZTUyLi40NjA2NmNhYWM4IDEwMDY0
NAo+IC0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZ2ljLmgKPiArKysgYi94ZW4vaW5jbHVkZS9h
c20tYXJtL2dpYy5oCj4gQEAgLTI3Nyw2ICsyNzcsMTAgQEAgZXh0ZXJuIGludCBnaWN2X3NldHVw
KHN0cnVjdCBkb21haW4gKmQpOwo+ICAgZXh0ZXJuIHZvaWQgZ2ljX3NhdmVfc3RhdGUoc3RydWN0
IHZjcHUgKnYpOwo+ICAgZXh0ZXJuIHZvaWQgZ2ljX3Jlc3RvcmVfc3RhdGUoc3RydWN0IHZjcHUg
KnYpOwo+ICAgCj4gKy8qIFN1c3BlbmQvcmVzdW1lICovCj4gK2V4dGVybiBpbnQgZ2ljX3N1c3Bl
bmQodm9pZCk7Cj4gK2V4dGVybiB2b2lkIGdpY19yZXN1bWUodm9pZCk7Cj4gKwo+ICAgLyogU0dJ
IChBS0EgSVBJcykgKi8KPiAgIGVudW0gZ2ljX3NnaSB7Cj4gICAgICAgR0lDX1NHSV9FVkVOVF9D
SEVDSyA9IDAsCj4gQEAgLTM5MCw2ICszOTQsMTAgQEAgc3RydWN0IGdpY19od19vcGVyYXRpb25z
IHsKPiAgICAgICBpbnQgKCppb21lbV9kZW55X2FjY2VzcykoY29uc3Qgc3RydWN0IGRvbWFpbiAq
ZCk7Cj4gICAgICAgLyogSGFuZGxlIExQSXMsIHdoaWNoIHJlcXVpcmUgc3BlY2lhbCBoYW5kbGlu
ZyAqLwo+ICAgICAgIHZvaWQgKCpkb19MUEkpKHVuc2lnbmVkIGludCBscGkpOwo+ICsgICAgLyog
U2F2ZSBHSUMgY29uZmlndXJhdGlvbiBkdWUgdG8gdGhlIHN5c3RlbSBzdXNwZW5kICovCj4gKyAg
ICBpbnQgKCpzdXNwZW5kKSh2b2lkKTsKPiArICAgIC8qIFJlc3RvcmUgR0lDIGNvbmZpZ3VyYXRp
b24gZHVlIHRvIHRoZSBzeXN0ZW0gcmVzdW1lICovCj4gKyAgICB2b2lkICgqcmVzdW1lKSh2b2lk
KTsKClRoZSBjb21tZW50cyBvbiB0b3BzIG9mIHN1c3BlbmQvcmVzdW1lIHN1Z2dlc3QgdGhhdCB0
aGlzIHNob3VsZCBiZSBjYWxsZWQgCnNhdmUvcmVzdG9yZS4KCkNoZWVycywKCi0tIApKdWxpZW4g
R3JhbGwKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhl
bi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBz
Oi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=
