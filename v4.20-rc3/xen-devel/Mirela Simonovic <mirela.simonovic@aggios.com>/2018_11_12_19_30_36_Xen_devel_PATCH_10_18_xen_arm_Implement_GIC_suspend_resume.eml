Return-Path: <xen-devel-bounces@lists.xenproject.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (61.164.42.155:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 12 Nov 2018 15:15:15 -0000
Received: from icoremail.net (unknown [209.85.215.178])
	by mail-app2 (Coremail) with SMTP id by_KCgDXv2L9ZOlbnx19AQ--.38153S3;
	Mon, 12 Nov 2018 19:33:18 +0800 (CST)
Received: from mail-pg1-f178.google.com (unknown [209.85.215.178])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwAnBED5ZOlb_3sxAA--.1345S3;
	Mon, 12 Nov 2018 19:33:13 +0800 (CST)
Received: by mail-pg1-f178.google.com with SMTP id n10-v6so3949371pgv.10
        for <xuliker@zju.edu.cn>; Mon, 12 Nov 2018 03:33:13 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:delivered-to:dkim-signature:from:to:date
         :message-id:in-reply-to:references:subject:precedence:list-id
         :list-unsubscribe:list-post:list-help:list-subscribe:cc:mime-version
         :content-transfer-encoding:errors-to:sender;
        bh=DjO1jNnxuKtyGVliw3n/wGHHl1duXRZha6q06qoFk3A=;
        b=XU1tovbIRgzWN3BlX+nIXH4rB6bEnmvSGrdwUIiA8hORf10TT+gbJP+Vc0g584ShpF
         UFAHvI3N8E9sGkbxVaJ7x2yquoXVGJWYX+8Dc4OrUS/ovOSwc2ovLbWn4cEIlzxP+KDs
         MCcXO5Tuk3Z+JiTFejXusOP3UVPT9EaSMX6g0XwO7lJqrItcziv3HOmSmTEg/7cUW2vu
         6YXt3KBzVHRJnU2sJZYl3PnysIhgM/mLQ+P+svMEM/rL8wWwUsJOKtpMR9OWY8vMpneP
         w/ByWPxBQDGFLOlksws+QnkYQRoxvNzARzXYTbyaitY48Ok1puSxsvGktkrEGcW+ofDk
         D8rw==
X-Gm-Message-State: AGRZ1gI+JDl/YNN7bN9MkIMRU0weMRwNk4hIV50WrHBlCw1j5kXeGtn/
	Eo2GtJRmqxTqtmka2cHnwK2Rs8e6wjcMnxBmVDMHFdx4Mq6L8/PXkg==
X-Received: by 2002:aa7:8498:: with SMTP id u24-v6mr547110pfn.220.1542022393116;
        Mon, 12 Nov 2018 03:33:13 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:c304:0:0:0:0 with SMTP id g4-v6csp3072961pjt;
        Mon, 12 Nov 2018 03:33:11 -0800 (PST)
X-Google-Smtp-Source: AJdET5fJ4sFNgJ7Aj0ZXOF+nqSXvVINhkkxvKohVA4HLk9Su4VwIg2O4wlKKzuLn+xEvZPMVGt39
X-Received: by 2002:a25:2c90:: with SMTP id s138-v6mr383636ybs.193.1542022391726;
        Mon, 12 Nov 2018 03:33:11 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1542022391; cv=none;
        d=google.com; s=arc-20160816;
        b=JhK2PbewjxqcLZFkJ1EV9xmC4gv8uptlqlF6TmVT4Go5G4Tyuh9yXVcjOVVHWFqIMs
         qw/kiQJL6w68YXVWxTMINfiCtgyqsUe/6V+NTHijxxzjplS1YnCAXuiJDtBnCTWXByqc
         j20shANyWrfqczBwqVgXI3KTfWh+DrqgCydvJc5/lP9RZAMWFkQrjK2r4l48LrjA/nh8
         yWI8V+HCVi3B7ZfzPv06Tk8+WbM4Y5p3AU11tCLycPkTf3S+qbj5l1YLUgWa7mBEx7Wx
         B5DQDScZ555ugAYOnR+paxE9zyPEE3CF158Lb20qhecPdF36LdML/bQ/QDDgUegdEPoy
         Jkpg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=sender:errors-to:content-transfer-encoding:mime-version:cc
         :list-subscribe:list-help:list-post:list-unsubscribe:list-id
         :precedence:subject:references:in-reply-to:message-id:date:to:from
         :dkim-signature;
        bh=DjO1jNnxuKtyGVliw3n/wGHHl1duXRZha6q06qoFk3A=;
        b=ZNZXI/zAVuVjluEB6QDIob8CCU3cw1ktOreK1IGKjg+/CP05CIqRlfhiDLat6KOLik
         eYXwFeCyqkPxgjPHtE1BLic8r4daPXUgrewwuyOVfiPbJVjDs6npsqHDLQellL6/7Y0G
         FJ8CtBDsOllkuAMeB4CCKf6ZnNtRo5XfQchV+AjT4UydehhzfDFCPrkn0LM9NWfz3ZnK
         o3sFV1p/LSg2IIg31dEY7Ldv0ohr1nNBXk/wMT+QgwLPmrl9g2j9pvzV8M6Ld3+EGDS1
         gUaotaliv5s/Hi8qpPaf0LBXqXo34fjZCdbatwprLGu0shzujzXYs1aNp5PsJCDRDt8D
         XNOA==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=neutral (body hash did not verify) header.i=@aggios-com.20150623.gappssmtp.com header.s=20150623 header.b=Qfrt02lU;
       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
Received: from lists.xenproject.org (lists.xenproject.org. [192.237.175.120])
        by mx.google.com with ESMTPS id i30-v6si10008147ybj.7.2018.11.12.03.33.11
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Mon, 12 Nov 2018 03:33:11 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) client-ip=192.237.175.120;
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1gMAR9-0005WY-Lf; Mon, 12 Nov 2018 11:31:23 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <srs0=xmwf=nx=aggios.com=mirela.simonovic@srs-us1.protection.inumbo.net>)
 id 1gMAR6-0005QX-48
 for xen-devel@lists.xenproject.org; Mon, 12 Nov 2018 11:31:20 +0000
X-Inumbo-ID: 78dfb161-e66e-11e8-9a16-bc764e045a96
Received: from mail-wr1-x444.google.com (unknown [2a00:1450:4864:20::444])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 78dfb161-e66e-11e8-9a16-bc764e045a96;
 Mon, 12 Nov 2018 11:31:19 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id j17-v6so8890839wrq.11
 for <xen-devel@lists.xenproject.org>; Mon, 12 Nov 2018 03:31:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=aggios-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=ZpL3v1YxUzbA4W6NdOWxIq+ykUPuupbyiHi9a5ohuBc=;
 b=Qfrt02lUbvRuveqfhz6OG2l2JjtrCb7fgjQofYJj9vyKcDAspczesczgbBaQX7K7ET
 TmDfUMQHRAtOMm8Ow9HR+Zaeu1aRWqWJWbzHuyBdDcd2q9YsGfXq0HXRyjy0MnoRTzGf
 WCP+MznlPnevcVGRdOv5r0qSVwNi9oT2ktzC35ihlORkk0MlfhNmESG9tixjETbCZMDN
 A4P+iywEc3ZvT5iN3M+6lJZJMA51N5xOlZHhulE4rpLVH6wNtMycZO5W6kSqCg59My/a
 7fhsOuO914g0MCwepco0gdPO7OtptDjsRDP9MQmwZcQddlMIj6NTfU5yAGmHyLXTLgaj
 9l5w==
X-Received: by 2002:adf:a20a:: with SMTP id
 p10-v6mr573031wra.249.1542022277820; 
 Mon, 12 Nov 2018 03:31:17 -0800 (PST)
Received: from localhost.localdomain (cable-24-135-15-44.dynamic.sbb.rs.
 [24.135.15.44])
 by smtp.gmail.com with ESMTPSA id k66-v6sm13192776wmd.47.2018.11.12.03.31.16
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Mon, 12 Nov 2018 03:31:17 -0800 (PST)
From: Mirela Simonovic <mirela.simonovic@aggios.com>
To: xen-devel@lists.xen.org,
	xen-devel@lists.xenproject.org
Date: Mon, 12 Nov 2018 12:30:36 +0100
Message-Id: <1542022244-22977-11-git-send-email-mirela.simonovic@aggios.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1542022244-22977-1-git-send-email-mirela.simonovic@aggios.com>
References: <1542022244-22977-1-git-send-email-mirela.simonovic@aggios.com>
Subject: [Xen-devel] [PATCH 10/18] xen/arm: Implement GIC suspend/resume
 functions (gicv2 only)
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, dm@aggios.com,
 saeed.nowshadi@xilinx.com, Julien Grall <julien.grall@arm.com>,
 stefano.stabellini@xilinx.com, Mirela Simonovic <mirela.simonovic@aggios.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
X-CM-TRANSID: AQAAfwAnBED5ZOlb_3sxAA--.1345S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvJXoW3XFWrCw13WF1UZFWfKryrtFb_yoW3KrW7pr
	4kGr9Ykr43JF1a9ayava909F1rGw1xWFWjk3s8uw1Duryrur95G3s7tryYkr97Xr9ay3W7
	twsaka9xGayxtFDanT9S1TB71UUUUUUqnTZGkaVYY2UrUUUUjbIjqfuFe4nvWSU8nxnvy2
	9KBjDU0xBIdaVrnRJUUUdjb7Iv0xC_KF4lb4IE77IF4wAFF20E14v26r1j6r4UM7CIcVAF
	z4kK6r1j6r18M28lY4IEw2IIxxk0rwA2F7IY1VAKz4vEj48ve4kI8wA2z4x0Y4vE2Ix0cI
	8IcVAFwI0_Ar0_tr1l84ACjcxK6xIIjxv20xvEc7CjxVAFwI0_Cr0_Gr1UM28EF7xvwVC2
	z280aVAFwI0_GcCE3s1l84ACjcxK6I8E87Iv6xkF7I0E14v26rxl6s0DM2vj6VCEFcxC0V
	AYjxAxZF0EFcxC0VAYjxAxZF0Ew4CEw7xC0VCjxxvEa2IrM2AIxVAIcxkEcVAq07x20xvE
	ncxIr21l5I8CrVACY4xI64kE6c02F40Ex7xfMcIj6xIIjxv20xvE14v26r106r15McIj6I
	8E87Iv67AKxVWxJVW8Jr1lOx8S6xCaFVCjc4AY6r1j6r4UM4x0Y48IcxkI7VAKI48JM4xv
	F2IEb7IF0Fy264kE64k0F24l7I0Y6sxI4wCY1x0264kExVAvwVAq07x20xylc2xSY4AK6I
	IF6r4kMxkI7II2jI8vz4vEwIxGrwCYIxAIcVC0I7IYx2IY67AKxVW5JVW7JwCYIxAIcVC0
	I7IYx2IY6xkF7I0E14v26r4j6F4UMxvI42IY6I8E87Iv67AKxVW0oVCq3wCYIxAIcVC2z2
	80aVCY1x0267AKxVW0oVCq3wCF04k20xvY0x0EwIxGrwCF04k20xvEw4C26cxK6c8Ij28I
	cwCF72vE77IF4wCFx2IqxVCFs4IE7xkEbVWUJVW8JwC20s026c02F40E14v26r1j6r18MI
	8I3I0E7480Y4vE14v26r106r1rMI8E67AF67kF1VAFwI0_Jw0_GFylIxkGc2Ij64vIr41l
	IxAIcVCF04k26cxKx2IYs7xG6r1j6r1xMVCEFcxC0VAYjxAxZFUvcSsGvfC2KfnxnUUI43
	ZEXa7IU0XTmDUUUUU==

U3lzdGVtIHN1c3BlbmQgbWF5IGxlYWQgdG8gYSBzdGF0ZSB3aGVyZSBHSUMgd291bGQgYmUgcG93
ZXJlZCBkb3duLgpUaGVyZWZvcmUsIFhlbiBzaG91bGQgc2F2ZS9yZXN0b3JlIHRoZSBjb250ZXh0
IG9mIEdJQyBvbiBzdXNwZW5kL3Jlc3VtZS4KTm90ZSB0aGF0IHRoZSBjb250ZXh0IGNvbnNpc3Rz
IG9mIHN0YXRlcyBvZiByZWdpc3RlcnMgd2hpY2ggYXJlCmNvbnRyb2xsZWQgYnkgdGhlIGh5cGVy
dmlzb3IuIE90aGVyIEdJQyByZWdpc3RlcnMgd2hpY2ggYXJlIGFjY2Vzc2libGUKYnkgZ3Vlc3Rz
IGFyZSBzYXZlZC9yZXN0b3JlZCBvbiBjb250ZXh0IHN3aXRjaC4KVGVzdGVkIG9uIFhpbGlueCBV
bHRyYXNjYWxlKyBNUFNvQyB3aXRoIChhbmQgd2l0aG91dCkgcG93ZXJpbmcgZG93bgp0aGUgR0lD
LgoKU2lnbmVkLW9mZi1ieTogTWlyZWxhIFNpbW9ub3ZpYyA8bWlyZWxhLnNpbW9ub3ZpY0BhZ2dp
b3MuY29tPgpTaWduZWQtb2ZmLWJ5OiBTYWVlZCBOb3dzaGFkaSA8c2FlZWQubm93c2hhZGlAeGls
aW54LmNvbT4KLS0tCiB4ZW4vYXJjaC9hcm0vZ2ljLXYyLmMgICAgIHwgMTQ3ICsrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIHhlbi9hcmNoL2FybS9naWMuYyAg
ICAgICAgfCAgMjcgKysrKysrKysrCiB4ZW4vaW5jbHVkZS9hc20tYXJtL2dpYy5oIHwgICA4ICsr
KwogMyBmaWxlcyBjaGFuZ2VkLCAxODIgaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3hlbi9h
cmNoL2FybS9naWMtdjIuYyBiL3hlbi9hcmNoL2FybS9naWMtdjIuYwppbmRleCBlN2ViMDFmMzBh
Li5iYjUyYjY0ZWNiIDEwMDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vZ2ljLXYyLmMKKysrIGIveGVu
L2FyY2gvYXJtL2dpYy12Mi5jCkBAIC0xMjMsNiArMTIzLDI1IEBAIHN0YXRpYyBERUZJTkVfUEVS
X0NQVSh1OCwgZ2ljX2NwdV9pZCk7CiAvKiBNYXhpbXVtIGNwdSBpbnRlcmZhY2UgcGVyIEdJQyAq
LwogI2RlZmluZSBOUl9HSUNfQ1BVX0lGIDgKIAorLyogR0lDdjIgcmVnaXN0ZXJzIHRvIGJlIHNh
dmVkL3Jlc3RvcmVkIG9uIHN5c3RlbSBzdXNwZW5kL3Jlc3VtZSAqLworc3RydWN0IGdpY3YyX2Nv
bnRleHQgeworICAgIC8qIEdJQ0MgY29udGV4dCAqLworICAgIHVpbnQzMl90IGdpY2NfY3RscjsK
KyAgICB1aW50MzJfdCBnaWNjX3BtcjsKKyAgICB1aW50MzJfdCBnaWNjX2JwcjsKKyAgICAvKiBH
SUNEIGNvbnRleHQgKi8KKyAgICB1aW50MzJfdCBnaWNkX2N0bHI7CisgICAgdWludDMyX3QgKmdp
Y2RfaXNlbmFibGVyOworICAgIHVpbnQzMl90ICpnaWNkX2lzYWN0aXZlcjsKKyAgICB1aW50MzJf
dCAqZ2ljZF9pcHJpb3JpdHlyOworICAgIHVpbnQzMl90ICpnaWNkX2l0YXJnZXRzcjsKKyAgICB1
aW50MzJfdCAqZ2ljZF9pY2ZncjsKK307CisKK3N0YXRpYyBzdHJ1Y3QgZ2ljdjJfY29udGV4dCBn
aWN2Ml9jb250ZXh0OworCitzdGF0aWMgdm9pZCBnaWN2Ml9hbGxvY19jb250ZXh0KHN0cnVjdCBn
aWN2Ml9jb250ZXh0ICpnYyk7CisKIHN0YXRpYyBpbmxpbmUgdm9pZCB3cml0ZWJfZ2ljZCh1aW50
OF90IHZhbCwgdW5zaWduZWQgaW50IG9mZnNldCkKIHsKICAgICB3cml0ZWJfcmVsYXhlZCh2YWws
IGdpY3YyLm1hcF9kYmFzZSArIG9mZnNldCk7CkBAIC0xMzEwLDYgKzEzMjksOSBAQCBzdGF0aWMg
aW50IF9faW5pdCBnaWN2Ml9pbml0KHZvaWQpCiAKICAgICBzcGluX3VubG9jaygmZ2ljdjIubG9j
ayk7CiAKKyAgICAvKiBBbGxvY2F0ZSBtZW1vcnkgdG8gYmUgdXNlZCBmb3Igc2F2aW5nIEdJQyBj
b250ZXh0IGR1cmluZyB0aGUgc3VzcGVuZCAqLworICAgIGdpY3YyX2FsbG9jX2NvbnRleHQoJmdp
Y3YyX2NvbnRleHQpOworCiAgICAgcmV0dXJuIDA7CiB9CiAKQEAgLTEzMTksNiArMTM0MSwxMjkg
QEAgc3RhdGljIHZvaWQgZ2ljdjJfZG9fTFBJKHVuc2lnbmVkIGludCBscGkpCiAgICAgQlVHKCk7
CiB9CiAKK3N0YXRpYyB2b2lkIGdpY3YyX2FsbG9jX2NvbnRleHQoc3RydWN0IGdpY3YyX2NvbnRl
eHQgKmdjKQoreworICAgIHVpbnQzMl90IG4gPSBnaWN2Ml9pbmZvLm5yX2xpbmVzOworCisgICAg
Z2MtPmdpY2RfaXNlbmFibGVyID0geHphbGxvY19hcnJheSh1aW50MzJfdCwgRElWX1JPVU5EX1VQ
KG4sIDMyKSk7CisgICAgaWYgKCAhZ2MtPmdpY2RfaXNlbmFibGVyICkKKyAgICAgICAgcmV0dXJu
OworCisgICAgZ2MtPmdpY2RfaXNhY3RpdmVyID0geHphbGxvY19hcnJheSh1aW50MzJfdCwgRElW
X1JPVU5EX1VQKG4sIDMyKSk7CisgICAgaWYgKCAhZ2MtPmdpY2RfaXNhY3RpdmVyICkKKyAgICAg
ICAgZ290byBmcmVlX2dpY2RfaXNlbmFibGVyOworCisgICAgZ2MtPmdpY2RfaXRhcmdldHNyID0g
eHphbGxvY19hcnJheSh1aW50MzJfdCwgRElWX1JPVU5EX1VQKG4sIDQpKTsKKyAgICBpZiAoICFn
Yy0+Z2ljZF9pdGFyZ2V0c3IgKQorICAgICAgICBnb3RvIGZyZWVfZ2ljZF9pc2FjdGl2ZXI7CisK
KyAgICBnYy0+Z2ljZF9pcHJpb3JpdHlyID0geHphbGxvY19hcnJheSh1aW50MzJfdCwgRElWX1JP
VU5EX1VQKG4sIDQpKTsKKyAgICBpZiAoICFnYy0+Z2ljZF9pcHJpb3JpdHlyICkKKyAgICAgICAg
Z290byBmcmVlX2dpY2RfaXRhcmdldHNyOworCisgICAgZ2MtPmdpY2RfaWNmZ3IgPSB4emFsbG9j
X2FycmF5KHVpbnQzMl90LCBESVZfUk9VTkRfVVAobiwgMTYpKTsKKyAgICBpZiAoIGdjLT5naWNk
X2ljZmdyICkKKyAgICAgICAgcmV0dXJuOworCisgICAgeGZyZWUoZ2MtPmdpY2RfaXByaW9yaXR5
cik7CisKK2ZyZWVfZ2ljZF9pdGFyZ2V0c3I6CisgICAgeGZyZWUoZ2MtPmdpY2RfaXRhcmdldHNy
KTsKKworZnJlZV9naWNkX2lzYWN0aXZlcjoKKyAgICB4ZnJlZShnYy0+Z2ljZF9pc2FjdGl2ZXIp
OworCitmcmVlX2dpY2RfaXNlbmFibGVyOgorICAgIHhmcmVlKGdjLT5naWNkX2lzZW5hYmxlcik7
CisgICAgZ2MtPmdpY2RfaXNlbmFibGVyID0gTlVMTDsKK30KKworc3RhdGljIGludCBnaWN2Ml9z
dXNwZW5kKHZvaWQpCit7CisgICAgaW50IGk7CisKKyAgICAvKiBTYXZlIEdJQ0MgY29uZmlndXJh
dGlvbiAqLworICAgIGdpY3YyX2NvbnRleHQuZ2ljY19jdGxyID0gcmVhZGxfZ2ljYyhHSUNDX0NU
TFIpOworICAgIGdpY3YyX2NvbnRleHQuZ2ljY19wbXIgPSByZWFkbF9naWNjKEdJQ0NfUE1SKTsK
KyAgICBnaWN2Ml9jb250ZXh0LmdpY2NfYnByID0gcmVhZGxfZ2ljYyhHSUNDX0JQUik7CisKKyAg
ICAvKiBJZiBnaWN2Ml9hbGxvY19jb250ZXh0KCkgaGFzbid0IGFsbG9jYXRlZCBtZW1vcnksIHJl
dHVybiAqLworICAgIGlmICggIWdpY3YyX2NvbnRleHQuZ2ljZF9pc2VuYWJsZXIgKQorICAgICAg
ICByZXR1cm4gLUVOT01FTTsKKworICAgIC8qIFNhdmUgR0lDRCBjb25maWd1cmF0aW9uICovCisg
ICAgZ2ljdjJfY29udGV4dC5naWNkX2N0bHIgPSByZWFkbF9naWNkKEdJQ0RfQ1RMUik7CisKKyAg
ICBmb3IgKCBpID0gMDsgaSA8IERJVl9ST1VORF9VUChnaWN2Ml9pbmZvLm5yX2xpbmVzLCAzMik7
IGkrKyApCisgICAgICAgIGdpY3YyX2NvbnRleHQuZ2ljZF9pc2VuYWJsZXJbaV0gPSByZWFkbF9n
aWNkKEdJQ0RfSVNFTkFCTEVSICsgaSAqIDQpOworCisgICAgZm9yICggaSA9IDA7IGkgPCBESVZf
Uk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMzIpOyBpKysgKQorICAgICAgICBnaWN2Ml9j
b250ZXh0LmdpY2RfaXNhY3RpdmVyW2ldID0gcmVhZGxfZ2ljZChHSUNEX0lTQUNUSVZFUiArIGkg
KiA0KTsKKworICAgIGZvciAoIGkgPSAwOyBpIDwgRElWX1JPVU5EX1VQKGdpY3YyX2luZm8ubnJf
bGluZXMsIDQpOyBpKysgKQorICAgICAgICBnaWN2Ml9jb250ZXh0LmdpY2RfaXByaW9yaXR5cltp
XSA9IHJlYWRsX2dpY2QoR0lDRF9JUFJJT1JJVFlSICsgaSAqIDQpOworCisgICAgZm9yICggaSA9
IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgNCk7IGkrKyApCisgICAg
ICAgIGdpY3YyX2NvbnRleHQuZ2ljZF9pdGFyZ2V0c3JbaV0gPSByZWFkbF9naWNkKEdJQ0RfSVRB
UkdFVFNSICsgaSAqIDQpOworCisgICAgZm9yICggaSA9IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2lj
djJfaW5mby5ucl9saW5lcywgMTYpOyBpKysgKQorICAgICAgICBnaWN2Ml9jb250ZXh0LmdpY2Rf
aWNmZ3JbaV0gPSByZWFkbF9naWNkKEdJQ0RfSUNGR1IgKyBpICogNCk7CisKKyAgICByZXR1cm4g
MDsKK30KKworc3RhdGljIHZvaWQgZ2ljdjJfcmVzdW1lKHZvaWQpCit7CisgICAgaW50IGk7CisK
KyAgICBBU1NFUlQoZ2ljdjJfY29udGV4dC5naWNkX2lzZW5hYmxlcik7CisgICAgQVNTRVJUKGdp
Y3YyX2NvbnRleHQuZ2ljZF9pc2FjdGl2ZXIpOworICAgIEFTU0VSVChnaWN2Ml9jb250ZXh0Lmdp
Y2RfaXByaW9yaXR5cik7CisgICAgQVNTRVJUKGdpY3YyX2NvbnRleHQuZ2ljZF9pdGFyZ2V0c3Ip
OworICAgIEFTU0VSVChnaWN2Ml9jb250ZXh0LmdpY2RfaWNmZ3IpOworCisgICAgLyogRGlzYWJs
ZSBDUFUgaW50ZXJmYWNlIGFuZCBkaXN0cmlidXRvciAqLworICAgIHdyaXRlbF9naWNjKDAsIEdJ
Q0NfQ1RMUik7CisgICAgd3JpdGVsX2dpY2QoMCwgR0lDRF9DVExSKTsKKyAgICBpc2IoKTsKKwor
ICAgIC8qIFJlc3RvcmUgR0lDRCBjb25maWd1cmF0aW9uICovCisgICAgZm9yICggaSA9IDA7IGkg
PCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMzIpOyBpKysgKQorICAgICAgICB3
cml0ZWxfZ2ljZCgweGZmZmZmZmZmLCBHSUNEX0lDRU5BQkxFUiArIGkgKiA0KTsKKworICAgIGZv
ciAoIGkgPSAwOyBpIDwgRElWX1JPVU5EX1VQKGdpY3YyX2luZm8ubnJfbGluZXMsIDMyKTsgaSsr
ICkKKyAgICAgICAgd3JpdGVsX2dpY2QoZ2ljdjJfY29udGV4dC5naWNkX2lzZW5hYmxlcltpXSwg
R0lDRF9JU0VOQUJMRVIgKyBpICogNCk7CisKKyAgICBmb3IgKCBpID0gMDsgaSA8IERJVl9ST1VO
RF9VUChnaWN2Ml9pbmZvLm5yX2xpbmVzLCAzMik7IGkrKyApCisgICAgICAgIHdyaXRlbF9naWNk
KDB4ZmZmZmZmZmYsIEdJQ0RfSUNBQ1RJVkVSICsgaSAqIDQpOworCisgICAgZm9yICggaSA9IDA7
IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMzIpOyBpKysgKQorICAgICAg
ICB3cml0ZWxfZ2ljZChnaWN2Ml9jb250ZXh0LmdpY2RfaXNhY3RpdmVyW2ldLCBHSUNEX0lTQUNU
SVZFUiArIGkgKiA0KTsKKworICAgIGZvciAoIGkgPSAwOyBpIDwgRElWX1JPVU5EX1VQKGdpY3Yy
X2luZm8ubnJfbGluZXMsIDQpOyBpKysgKQorICAgICAgICB3cml0ZWxfZ2ljZChnaWN2Ml9jb250
ZXh0LmdpY2RfaXByaW9yaXR5cltpXSwgR0lDRF9JUFJJT1JJVFlSICsgaSAqIDQpOworCisgICAg
Zm9yICggaSA9IDA7IGkgPCBESVZfUk9VTkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgNCk7IGkr
KyApCisgICAgICAgIHdyaXRlbF9naWNkKGdpY3YyX2NvbnRleHQuZ2ljZF9pdGFyZ2V0c3JbaV0s
IEdJQ0RfSVRBUkdFVFNSICsgaSAqIDQpOworCisgICAgZm9yICggaSA9IDA7IGkgPCBESVZfUk9V
TkRfVVAoZ2ljdjJfaW5mby5ucl9saW5lcywgMTYpOyBpKysgKQorICAgICAgICB3cml0ZWxfZ2lj
ZChnaWN2Ml9jb250ZXh0LmdpY2RfaWNmZ3JbaV0sIEdJQ0RfSUNGR1IgKyBpICogNCk7CisKKyAg
ICAvKiBNYWtlIHN1cmUgYWxsIHJlZ2lzdGVycyBhcmUgcmVzdG9yZWQgYW5kIGVuYWJsZSBkaXN0
cmlidXRvciAqLworICAgIGlzYigpOworICAgIHdyaXRlbF9naWNkKGdpY3YyX2NvbnRleHQuZ2lj
ZF9jdGxyIHwgR0lDRF9DVExfRU5BQkxFLCBHSUNEX0NUTFIpOworCisgICAgLyogUmVzdG9yZSBH
SUMgQ1BVIGludGVyZmFjZSBjb25maWd1cmF0aW9uICovCisgICAgd3JpdGVsX2dpY2MoZ2ljdjJf
Y29udGV4dC5naWNjX3BtciwgR0lDQ19QTVIpOworICAgIHdyaXRlbF9naWNjKGdpY3YyX2NvbnRl
eHQuZ2ljY19icHIsIEdJQ0NfQlBSKTsKKyAgICBpc2IoKTsKKworICAgIC8qIEVuYWJsZSBHSUMg
Q1BVIGludGVyZmFjZSAqLworICAgIHdyaXRlbF9naWNjKGdpY3YyX2NvbnRleHQuZ2ljY19jdGxy
IHwgR0lDQ19DVExfRU5BQkxFIHwgR0lDQ19DVExfRU9JLAorICAgICAgICAgICAgICAgIEdJQ0Nf
Q1RMUik7CisgICAgaXNiKCk7Cit9CisKIGNvbnN0IHN0YXRpYyBzdHJ1Y3QgZ2ljX2h3X29wZXJh
dGlvbnMgZ2ljdjJfb3BzID0gewogICAgIC5pbmZvICAgICAgICAgICAgICAgID0gJmdpY3YyX2lu
Zm8sCiAgICAgLmluaXQgICAgICAgICAgICAgICAgPSBnaWN2Ml9pbml0LApAQCAtMTM1MSw2ICsx
NDk2LDggQEAgY29uc3Qgc3RhdGljIHN0cnVjdCBnaWNfaHdfb3BlcmF0aW9ucyBnaWN2Ml9vcHMg
PSB7CiAgICAgLm1hcF9od2RvbV9leHRyYV9tYXBwaW5ncyA9IGdpY3YyX21hcF9od2Rvd25fZXh0
cmFfbWFwcGluZ3MsCiAgICAgLmlvbWVtX2RlbnlfYWNjZXNzICAgPSBnaWN2Ml9pb21lbV9kZW55
X2FjY2VzcywKICAgICAuZG9fTFBJICAgICAgICAgICAgICA9IGdpY3YyX2RvX0xQSSwKKyAgICAu
c3VzcGVuZCAgICAgICAgICAgICA9IGdpY3YyX3N1c3BlbmQsCisgICAgLnJlc3VtZSAgICAgICAg
ICAgICAgPSBnaWN2Ml9yZXN1bWUsCiB9OwogCiAvKiBTZXQgdXAgdGhlIEdJQyAqLwpkaWZmIC0t
Z2l0IGEveGVuL2FyY2gvYXJtL2dpYy5jIGIveGVuL2FyY2gvYXJtL2dpYy5jCmluZGV4IGU1MjRh
ZDU4M2QuLjZlOThmNDM2OTEgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9naWMuYworKysgYi94
ZW4vYXJjaC9hcm0vZ2ljLmMKQEAgLTQ2NCw2ICs0NjQsMzMgQEAgaW50IGdpY19pb21lbV9kZW55
X2FjY2Vzcyhjb25zdCBzdHJ1Y3QgZG9tYWluICpkKQogICAgIHJldHVybiBnaWNfaHdfb3BzLT5p
b21lbV9kZW55X2FjY2VzcyhkKTsKIH0KIAoraW50IGdpY19zdXNwZW5kKHZvaWQpCit7CisgICAg
LyogTXVzdCBiZSBjYWxsZWQgYnkgYm9vdCBDUFUjMCB3aXRoIGludGVycnVwdHMgZGlzYWJsZWQg
Ki8KKyAgICBBU1NFUlQoIWxvY2FsX2lycV9pc19lbmFibGVkKCkpOworICAgIEFTU0VSVCghc21w
X3Byb2Nlc3Nvcl9pZCgpKTsKKworICAgIGlmICggIWdpY19od19vcHMtPnN1c3BlbmQgfHwgIWdp
Y19od19vcHMtPnJlc3VtZSApCisgICAgICAgIHJldHVybiAtRU5PU1lTOworCisgICAgZ2ljX2h3
X29wcy0+c3VzcGVuZCgpOworCisgICAgcmV0dXJuIDA7Cit9CisKK3ZvaWQgZ2ljX3Jlc3VtZSh2
b2lkKQoreworICAgIC8qCisgICAgICogTXVzdCBiZSBjYWxsZWQgYnkgYm9vdCBDUFUjMCB3aXRo
IGludGVycnVwdHMgZGlzYWJsZWQgYWZ0ZXIgZ2ljX3N1c3BlbmQKKyAgICAgKiBoYXMgcmV0dXJu
ZWQgc3VjY2Vzc2Z1bGx5LgorICAgICAqLworICAgIEFTU0VSVCghbG9jYWxfaXJxX2lzX2VuYWJs
ZWQoKSk7CisgICAgQVNTRVJUKCFzbXBfcHJvY2Vzc29yX2lkKCkpOworICAgIEFTU0VSVChnaWNf
aHdfb3BzLT5yZXN1bWUpOworCisgICAgZ2ljX2h3X29wcy0+cmVzdW1lKCk7Cit9CisKIHN0YXRp
YyBpbnQgY3B1X2dpY19jYWxsYmFjayhzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5mYiwKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIGFjdGlvbiwKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB2b2lkICpoY3B1KQpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNt
LWFybS9naWMuaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vZ2ljLmgKaW5kZXggMjJmYTEyMmU1Mi4u
NDYwNjZjYWFjOCAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLWFybS9naWMuaAorKysgYi94
ZW4vaW5jbHVkZS9hc20tYXJtL2dpYy5oCkBAIC0yNzcsNiArMjc3LDEwIEBAIGV4dGVybiBpbnQg
Z2ljdl9zZXR1cChzdHJ1Y3QgZG9tYWluICpkKTsKIGV4dGVybiB2b2lkIGdpY19zYXZlX3N0YXRl
KHN0cnVjdCB2Y3B1ICp2KTsKIGV4dGVybiB2b2lkIGdpY19yZXN0b3JlX3N0YXRlKHN0cnVjdCB2
Y3B1ICp2KTsKIAorLyogU3VzcGVuZC9yZXN1bWUgKi8KK2V4dGVybiBpbnQgZ2ljX3N1c3BlbmQo
dm9pZCk7CitleHRlcm4gdm9pZCBnaWNfcmVzdW1lKHZvaWQpOworCiAvKiBTR0kgKEFLQSBJUElz
KSAqLwogZW51bSBnaWNfc2dpIHsKICAgICBHSUNfU0dJX0VWRU5UX0NIRUNLID0gMCwKQEAgLTM5
MCw2ICszOTQsMTAgQEAgc3RydWN0IGdpY19od19vcGVyYXRpb25zIHsKICAgICBpbnQgKCppb21l
bV9kZW55X2FjY2VzcykoY29uc3Qgc3RydWN0IGRvbWFpbiAqZCk7CiAgICAgLyogSGFuZGxlIExQ
SXMsIHdoaWNoIHJlcXVpcmUgc3BlY2lhbCBoYW5kbGluZyAqLwogICAgIHZvaWQgKCpkb19MUEkp
KHVuc2lnbmVkIGludCBscGkpOworICAgIC8qIFNhdmUgR0lDIGNvbmZpZ3VyYXRpb24gZHVlIHRv
IHRoZSBzeXN0ZW0gc3VzcGVuZCAqLworICAgIGludCAoKnN1c3BlbmQpKHZvaWQpOworICAgIC8q
IFJlc3RvcmUgR0lDIGNvbmZpZ3VyYXRpb24gZHVlIHRvIHRoZSBzeXN0ZW0gcmVzdW1lICovCisg
ICAgdm9pZCAoKnJlc3VtZSkodm9pZCk7CiB9OwogCiBleHRlcm4gY29uc3Qgc3RydWN0IGdpY19o
d19vcGVyYXRpb25zICpnaWNfaHdfb3BzOwotLSAKMi4xMy4wCgoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4t
ZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9t
YWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==
