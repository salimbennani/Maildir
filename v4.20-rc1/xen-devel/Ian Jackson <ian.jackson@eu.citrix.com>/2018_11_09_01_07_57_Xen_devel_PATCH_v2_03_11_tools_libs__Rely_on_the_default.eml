Return-Path: <xen-devel-bounces@lists.xenproject.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (124.160.105.205:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 09 Nov 2018 00:36:30 -0000
Received: from icoremail.net (unknown [209.85.215.174])
	by mail-app2 (Coremail) with SMTP id by_KCgD3_wsabuRbxXxhAQ--.29462S3;
	Fri, 09 Nov 2018 01:10:50 +0800 (CST)
Received: from mail-pg1-f174.google.com (unknown [209.85.215.174])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwB3WEQTbuRb08YdAA--.4081S3;
	Fri, 09 Nov 2018 01:10:43 +0800 (CST)
Received: by mail-pg1-f174.google.com with SMTP id w7so9100266pgp.13
        for <xuliker@zju.edu.cn>; Thu, 08 Nov 2018 09:10:43 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-original-authentication-results:x-gm-message-state:delivered-to
         :from:to:date:message-id:in-reply-to:references:mime-version:subject
         :precedence:list-id:list-unsubscribe:list-post:list-help
         :list-subscribe:cc:content-transfer-encoding:errors-to:sender;
        bh=mIhB7q5ZH0l81EU/jXmCjsqPASP0PjMgc+/6MMP5HJ0=;
        b=QX5U/hMg5u6qZ0C+QzD5d1fpORP6bmjCRcEktLh4s5tG+3kVrSq4XKiTEt/INaC+Us
         DVZOaJ/IJGismTzCeTyR3eZC2otcfX/GyND+Kz7L83T4wjJUFFCqkaiMFCrMRzlkMQje
         hNj8UUGqiK7JlAfhlWbS+PNUwuBtqEVIgHiT5Kq8NTX7Kjf3ogw6TeNPoArCCqNZcEVn
         fkG78oN5dJPvjVTzWxsCIVP6VfxaYgLYz8o7agjCHs6BG8Da7R/WOg+6dz7FZPp1RAa4
         Hh+flgzYWaQy5Vpvogrnk9cbu40rSxzkSYWjtrPKUS6yMvCC6L0vEfND1mAypjONK9/D
         CMOg==
X-Original-Authentication-Results: mx.google.com;       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
X-Gm-Message-State: AGRZ1gLQGiP7LwljPinpLhZmQebkLn9yQICSGD28rwxd+p4HiFhHtzwF
	l+7ntvtc9p84M8T3rZuDUvTcKgfxcqmJwcCujCtPG49wNmhsQgnImw==
X-Received: by 2002:a62:d084:: with SMTP id p126-v6mr5557774pfg.147.1541697043134;
        Thu, 08 Nov 2018 09:10:43 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:c304:0:0:0:0 with SMTP id g4-v6csp456835pjt;
        Thu, 8 Nov 2018 09:10:38 -0800 (PST)
X-Google-Smtp-Source: AJdET5fAUtArxnW78XssnVx6rZYqFuMYSYBee8rWTv/Q9x+NPxzZaDzKsXD5Yvc475/gqdA7KzJv
X-Received: by 2002:a25:888:: with SMTP id 130-v6mr5238213ybi.34.1541697038652;
        Thu, 08 Nov 2018 09:10:38 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1541697038; cv=none;
        d=google.com; s=arc-20160816;
        b=DlRWriqHiAmwFFtBTaU6B7RAVHtP+GGz62bHLwxmr0meCjKETsxB1UyHxMvWlJWnfa
         2PMKBn6Y4KVRkIpLbNNvwEZ97SZQhwu2lSb1QtEecb6faWzFjcAkouHYroEUiTHQy5ij
         xIYma5h3yf+9z/aM7BGQM36b8VEO82/+ztST1iGBiJMghRyCbI1x4Dgg6qalhrdseQeD
         9S8VW0n12IyH2GvIObuh+WQ/LQ92bEonSi1fayOh0Ycj88IVsUlpZ1WrTpCuOf6wIRV0
         5d1B5zw6/rscoff2rGUOeSUK4aQe+7OPsqD82ggD9r2SvKGpgaGwlYMrGepbOWFqZDKV
         44cg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=sender:errors-to:content-transfer-encoding:cc:list-subscribe
         :list-help:list-post:list-unsubscribe:list-id:precedence:subject
         :mime-version:references:in-reply-to:message-id:date:to:from;
        bh=mIhB7q5ZH0l81EU/jXmCjsqPASP0PjMgc+/6MMP5HJ0=;
        b=DDROKiih6f/Tawr6ZCOsdwFjqL7M1boApQcNelJBQVLNoz9Boobzh8aYoZDbbtdEOq
         mm4Ji4cUbVX4ZUfjzc/OTh+GVdjuNNPhpvKElQrJEGPNTQo85BzimA366iXwKycy0oOI
         +KaOY9U9rYz9MWXIU4APi8UGmxyX+RZD+tOA+WuWWXKWnGydrjALdrT9O4fnLqnoFGAe
         gOeeOiEmf5k4NT5cuVIxmhGwmkQq/wlA/eBSc68scjYV17GY0oaMr1C1CJvYOQsQO0d4
         wnIT1szV47/SuobC7COxLNnO2Ei438IMEYh7dTDYc8vdFKOhL0wc2AMtX61n9Yk7RGze
         Pkmg==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
Received: from lists.xenproject.org (lists.xenproject.org. [192.237.175.120])
        by mx.google.com with ESMTPS id e13-v6si3006812ybf.112.2018.11.08.09.10.35
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Thu, 08 Nov 2018 09:10:38 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) client-ip=192.237.175.120;
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1gKnnC-0000e1-OX; Thu, 08 Nov 2018 17:08:30 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <srs0=t5pf=nt=citrix.com=prvs=843e771e9=ian.jackson@srs-us1.protection.inumbo.net>)
 id 1gKnnB-0000dl-1E
 for xen-devel@lists.xenproject.org; Thu, 08 Nov 2018 17:08:29 +0000
X-Inumbo-ID: e8e4648b-e378-11e8-9a16-bc764e045a96
Received: from SMTP03.CITRIX.COM (unknown [162.221.156.55])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id e8e4648b-e378-11e8-9a16-bc764e045a96;
 Thu, 08 Nov 2018 17:08:27 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.54,480,1534809600"; d="scan'208";a="70045077"
From: Ian Jackson <ian.jackson@eu.citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 8 Nov 2018 17:07:57 +0000
Message-ID: <20181108170805.12774-4-ian.jackson@eu.citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20181108170805.12774-1-ian.jackson@eu.citrix.com>
References: <20181108170805.12774-1-ian.jackson@eu.citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 03/11] tools/libs/*: Rely on the default
 logger
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Wei Liu <wei.liu2@citrix.com>, Ian Jackson <ian.jackson@eu.citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
X-CM-TRANSID: AQAAfwB3WEQTbuRb08YdAA--.4081S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvJXoW3KF4kXF1DtF43Zr45tFy8AFb_yoWkGFWxpF
	WkJryxtr4rXr1kC3W7J3W0kFZ7ua97Jry5WFn7A343ZF4av343JF12yFyYqay8u3y8Zay3
	Cr98Wr1UXw1kJaUanT9S1TB71UUUUUUqnTZGkaVYY2UrUUUUjbIjqfuFe4nvWSU8nxnvy2
	9KBjDU0xBIdaVrnRJUUUlqb7Iv0xC_tr1lb4IE77IF4wAFF20E14v26r1j6r4UM7CIcVAF
	z4kK6r1j6r18M28lY4IEw2IIxxk0rwA2F7IY1VAKz4vEj48ve4kI8wA2z4x0Y4vE2Ix0cI
	8IcVAFwI0_Xr0_Ar1l84ACjcxK6xIIjxv20xvEc7CjxVAFwI0_Gr0_Cr1l84ACjcxK6I8E
	87Iv67AKxVW8Jr0_Cr1UM28EF7xvwVC2z280aVCY1x0267AKxVW8Jr0_Cr1UM2vj6VCEFc
	xC0VAYjxAxZF0EFcxC0VAYjxAxZF0Ew4CEw7xC0VCjxxvEa2IrM2AIxVAIcxkEcVAq07x2
	0xvEncxIr21l5I8CrVACY4xI64kE6c02F40Ex7xfMcIj6xIIjxv20xvE14v26r106r15Mc
	Ij6I8E87Iv67AKxVWUJVW8JwAm72CE4IkC6x0Yz7v_Jr0_Gr1lF7xvr2IYc2Ij64vIr41l
	FcxC0VAYjxAxZF0Ew4CEw7xC0wCjxxvEa2IrMxkF7I0Ew4C26cxK6c8Ij28IcwCY1Ik26c
	xK6xAEc7vF6xCjj44lc2xSY4AK6IIF6r4lc2IjII80xcxEwVAKI48JMxvI42IY6xIIjxv2
	0xvE14v26ryj6F1UMxvI42IY6xIIjxv20xvEc7CjxVAFwI0_Gr0_Cr1lcIIF0xvEx4A2js
	IE14v26r4UJVWxJr1lcIIF0xvEx4A2jsIEc7CjxVAFwI0_Gr1j6F4UJwCF04k20xvY0x0E
	wIxGrwCF04k20xvEw4C26cxK6c8Ij28IcwCF72vE77IF4wCFx2IqxVCFs4IE7xkEbVWUJV
	W8JwC20s026c02F40E14v26r1j6r18MI8I3I0E7480Y4vE14v26r106r1rMI8E67AF67kF
	1VAFwI0_JF0_Jw1lIxkGc2Ij64vIr41lIxAIcVCF04k26cxKx2IYs7xG6r1j6r1xMVCEFc
	xC0VAYjxAxZFUvcSsGvfC2KfnxnUUI43ZEXa7IUn9Xo7UUUUU==

RGVsZXRlIDExIGVudGlyZWx5IGZvcm11bGFpYyBjb25kaXRpb25hbCBjYWxscyB0bwogIHh0bF9j
cmVhdGVsb2dnZXJfc3RkaW9zdHJlYW0oc3RkZXJyLCBYVExfUFJPR1JFU1MsIDApOwphbmQgYXNz
b2NpYXRlZCBsb2dnZXJfdG9mcmVlIHZhcmlhYmxlcywgZXJyb3IgaGFuZGxpbmcsIGV0Yy4KCk5v
IG92ZXJhbGwgZnVuY3Rpb25hbCBjaGFuZ2UsIGFsdGhvdWdoIHNvbWUgbWVtb3J5IGFsbG9jYXRp
b24gZXJyb3JzCm1heSBubyBsb25nZXIgb2NjdXIuCgpBZnRlciB0aGlzIHRoZXJlIGFyZSBzdGls
bCBzZXZlcmFsIGNhbGxzIHRvCnh0bF9jcmVhdGVsb2dnZXJfc3RkaW9zdHJlYW0gaW4gdHJlZSwg
YnV0IHRoZXkgYWxtb3N0IGFsbCBoYXZlCm5vbi1kZWZhdWx0IG1lc3NhZ2UgbGV2ZWwgZXRjLiBz
byBpdCBpcyBub3Qgb2J2aW91cyB0aGF0IHRoZXkgc2hvdWxkCmJlIHJlcGxhY2VkLgoKVGhlIGV4
Y2VwdGlvbiBpcyBpbiB4Y19wcml2YXRlLmMgd2hlcmUgeGNoLT5lcnJvcl9oYW5kbGVyIGlzCmlu
aXRpYWxpc2VkIHVzaW5nIGEgY29weSBvZiB0aGUgZGVmYXVsdCBpbml0aWFsaXNhdGlvbiBib2ls
ZXJwbGF0ZQooYW50IHRoZXJlIGlzIHRoZSBhc3NvY2lhdGVkIHhjaC0+ZXJyb3JfaGFuZGxlcl90
b2ZyZWUpLiAgSG93ZXZlciwKdGhlcmUgaXMgYWxzbyB4Y2gtPmRvbWJ1aWxkX2xvZ2dlciwgYW5k
IHhjaC0+ZG9tYnVpbGRfbG9nZ2VyX3RvZnJlZQp3aGljaCBpcyBoYW5kbGVkIGRpZmZlcmVudGx5
IGFuZCBzbyBtdXN0IGJlIHJldGFpbmVkLiAgSXQgc2VlbXMgYmV0dGVyCnRvIGtlZXAgdGhlIHhj
aCBjb2RlIGludGVybmFsbHkgY29uc2lzdGVudCwgYW5kIGRlY291cGxlZCBmcm9tIHRoZQpnZW5l
cmFsIGRlZmF1bHQuCgpTaWduZWQtb2ZmLWJ5OiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUu
Y2l0cml4LmNvbT4KQ0M6IFdlaSBMaXUgPHdlaS5saXUyQGNpdHJpeC5jb20+Ci0tLQp2MjogTmV3
IGluIHRoaXMgdmVyc2lvbiBvZiB0aGUgc2VyaWVzCi0tLQogdG9vbHMvbGlicy9jYWxsL2NvcmUu
YyAgICAgICAgICAgICB8IDEwIC0tLS0tLS0tLS0KIHRvb2xzL2xpYnMvY2FsbC9wcml2YXRlLmgg
ICAgICAgICAgfCAgMiArLQogdG9vbHMvbGlicy9kZXZpY2Vtb2RlbC9jb3JlLmMgICAgICB8IDEx
IC0tLS0tLS0tLS0tCiB0b29scy9saWJzL2RldmljZW1vZGVsL3ByaXZhdGUuaCAgIHwgIDIgKy0K
IHRvb2xzL2xpYnMvZXZ0Y2huL2NvcmUuYyAgICAgICAgICAgfCAxMCAtLS0tLS0tLS0tCiB0b29s
cy9saWJzL2V2dGNobi9wcml2YXRlLmggICAgICAgIHwgIDIgKy0KIHRvb2xzL2xpYnMvZm9yZWln
bm1lbW9yeS9jb3JlLmMgICAgfCAxMCAtLS0tLS0tLS0tCiB0b29scy9saWJzL2ZvcmVpZ25tZW1v
cnkvcHJpdmF0ZS5oIHwgIDIgKy0KIHRvb2xzL2xpYnMvZ250dGFiL2dudHNocl9jb3JlLmMgICAg
fCAxMCAtLS0tLS0tLS0tCiB0b29scy9saWJzL2dudHRhYi9nbnR0YWJfY29yZS5jICAgIHwgMTAg
LS0tLS0tLS0tLQogdG9vbHMvbGlicy9nbnR0YWIvcHJpdmF0ZS5oICAgICAgICB8ICAyICstCiAx
MSBmaWxlcyBjaGFuZ2VkLCA1IGluc2VydGlvbnMoKyksIDY2IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL3Rvb2xzL2xpYnMvY2FsbC9jb3JlLmMgYi90b29scy9saWJzL2NhbGwvY29yZS5jCmlu
ZGV4IDU3ZDNhMzNlNmIuLmVlOWJlOTQ4ZTcgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnMvY2FsbC9j
b3JlLmMKKysrIGIvdG9vbHMvbGlicy9jYWxsL2NvcmUuYwpAQCAtNTQsMTQgKzU0LDYgQEAgeGVu
Y2FsbF9oYW5kbGUgKnhlbmNhbGxfb3Blbih4ZW50b29sbG9nX2xvZ2dlciAqbG9nZ2VyLCB1bnNp
Z25lZCBvcGVuX2ZsYWdzKQogICAgIHhjYWxsLT5idWZmZXJfY2FjaGVfbWlzc2VzID0gMDsKICAg
ICB4Y2FsbC0+YnVmZmVyX2NhY2hlX3Rvb2JpZyA9IDA7CiAgICAgeGNhbGwtPmxvZ2dlciA9IGxv
Z2dlcjsKLSAgICB4Y2FsbC0+bG9nZ2VyX3RvZnJlZSA9IE5VTEw7Ci0KLSAgICBpZiAoIXhjYWxs
LT5sb2dnZXIpIHsKLSAgICAgICAgeGNhbGwtPmxvZ2dlciA9IHhjYWxsLT5sb2dnZXJfdG9mcmVl
ID0KLSAgICAgICAgICAgICh4ZW50b29sbG9nX2xvZ2dlciopCi0gICAgICAgICAgICB4dGxfY3Jl
YXRlbG9nZ2VyX3N0ZGlvc3RyZWFtKHN0ZGVyciwgWFRMX1BST0dSRVNTLCAwKTsKLSAgICAgICAg
aWYgKCF4Y2FsbC0+bG9nZ2VyKSBnb3RvIGVycjsKLSAgICB9CiAKICAgICByYyA9IG9zZGVwX3hl
bmNhbGxfb3Blbih4Y2FsbCk7CiAgICAgaWYgKCByYyAgPCAwICkgZ290byBlcnI7CkBAIC03MSw3
ICs2Myw2IEBAIHhlbmNhbGxfaGFuZGxlICp4ZW5jYWxsX29wZW4oeGVudG9vbGxvZ19sb2dnZXIg
KmxvZ2dlciwgdW5zaWduZWQgb3Blbl9mbGFncykKIGVycjoKICAgICB4ZW50b29sY29yZV9fZGVy
ZWdpc3Rlcl9hY3RpdmVfaGFuZGxlKCZ4Y2FsbC0+dGNfYWgpOwogICAgIG9zZGVwX3hlbmNhbGxf
Y2xvc2UoeGNhbGwpOwotICAgIHh0bF9sb2dnZXJfZGVzdHJveSh4Y2FsbC0+bG9nZ2VyX3RvZnJl
ZSk7CiAgICAgZnJlZSh4Y2FsbCk7CiAgICAgcmV0dXJuIE5VTEw7CiB9CkBAIC04Niw3ICs3Nyw2
IEBAIGludCB4ZW5jYWxsX2Nsb3NlKHhlbmNhbGxfaGFuZGxlICp4Y2FsbCkKICAgICB4ZW50b29s
Y29yZV9fZGVyZWdpc3Rlcl9hY3RpdmVfaGFuZGxlKCZ4Y2FsbC0+dGNfYWgpOwogICAgIHJjID0g
b3NkZXBfeGVuY2FsbF9jbG9zZSh4Y2FsbCk7CiAgICAgYnVmZmVyX3JlbGVhc2VfY2FjaGUoeGNh
bGwpOwotICAgIHh0bF9sb2dnZXJfZGVzdHJveSh4Y2FsbC0+bG9nZ2VyX3RvZnJlZSk7CiAgICAg
ZnJlZSh4Y2FsbCk7CiAgICAgcmV0dXJuIHJjOwogfQpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9j
YWxsL3ByaXZhdGUuaCBiL3Rvb2xzL2xpYnMvY2FsbC9wcml2YXRlLmgKaW5kZXggMjFmOTkyYjM3
ZS4uYTJkMDBiMmI2YSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlicy9jYWxsL3ByaXZhdGUuaAorKysg
Yi90b29scy9saWJzL2NhbGwvcHJpdmF0ZS5oCkBAIC0xOCw3ICsxOCw3IEBACiAjZW5kaWYKIAog
c3RydWN0IHhlbmNhbGxfaGFuZGxlIHsKLSAgICB4ZW50b29sbG9nX2xvZ2dlciAqbG9nZ2VyLCAq
bG9nZ2VyX3RvZnJlZTsKKyAgICB4ZW50b29sbG9nX2xvZ2dlciAqbG9nZ2VyOwogICAgIHVuc2ln
bmVkIGZsYWdzOwogCiAgICAgICAgICAgICAgICAgICAgICAvKiBwYXJ0aWFsbHkgICAgIHdpdGgg
L2Rldi8gICAgIG5vIC9kZXYvICAgICAgKi8KZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnMvZGV2aWNl
bW9kZWwvY29yZS5jIGIvdG9vbHMvbGlicy9kZXZpY2Vtb2RlbC9jb3JlLmMKaW5kZXggZjc2ZTNk
MzA1ZS4uYjkxZjZiNGVlOSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlicy9kZXZpY2Vtb2RlbC9jb3Jl
LmMKKysrIGIvdG9vbHMvbGlicy9kZXZpY2Vtb2RlbC9jb3JlLmMKQEAgLTQ2LDE1ICs0Niw2IEBA
IHhlbmRldmljZW1vZGVsX2hhbmRsZSAqeGVuZGV2aWNlbW9kZWxfb3Blbih4ZW50b29sbG9nX2xv
Z2dlciAqbG9nZ2VyLAogCiAgICAgZG1vZC0+ZmxhZ3MgPSBvcGVuX2ZsYWdzOwogICAgIGRtb2Qt
PmxvZ2dlciA9IGxvZ2dlcjsKLSAgICBkbW9kLT5sb2dnZXJfdG9mcmVlID0gTlVMTDsKLQotICAg
IGlmICghZG1vZC0+bG9nZ2VyKSB7Ci0gICAgICAgIGRtb2QtPmxvZ2dlciA9IGRtb2QtPmxvZ2dl
cl90b2ZyZWUgPQotICAgICAgICAgICAgKHhlbnRvb2xsb2dfbG9nZ2VyKikKLSAgICAgICAgICAg
IHh0bF9jcmVhdGVsb2dnZXJfc3RkaW9zdHJlYW0oc3RkZXJyLCBYVExfUFJPR1JFU1MsIDApOwot
ICAgICAgICBpZiAoIWRtb2QtPmxvZ2dlcikKLSAgICAgICAgICAgIGdvdG8gZXJyOwotICAgIH0K
IAogICAgIGRtb2QtPnhjYWxsID0geGVuY2FsbF9vcGVuKGRtb2QtPmxvZ2dlciwgMCk7CiAgICAg
aWYgKCFkbW9kLT54Y2FsbCkKQEAgLTY3LDcgKzU4LDYgQEAgeGVuZGV2aWNlbW9kZWxfaGFuZGxl
ICp4ZW5kZXZpY2Vtb2RlbF9vcGVuKHhlbnRvb2xsb2dfbG9nZ2VyICpsb2dnZXIsCiAgICAgcmV0
dXJuIGRtb2Q7CiAKIGVycjoKLSAgICB4dGxfbG9nZ2VyX2Rlc3Ryb3koZG1vZC0+bG9nZ2VyX3Rv
ZnJlZSk7CiAgICAgeGVudG9vbGNvcmVfX2RlcmVnaXN0ZXJfYWN0aXZlX2hhbmRsZSgmZG1vZC0+
dGNfYWgpOwogICAgIHhlbmNhbGxfY2xvc2UoZG1vZC0+eGNhbGwpOwogICAgIGZyZWUoZG1vZCk7
CkBAIC04NSw3ICs3NSw2IEBAIGludCB4ZW5kZXZpY2Vtb2RlbF9jbG9zZSh4ZW5kZXZpY2Vtb2Rl
bF9oYW5kbGUgKmRtb2QpCiAKICAgICB4ZW50b29sY29yZV9fZGVyZWdpc3Rlcl9hY3RpdmVfaGFu
ZGxlKCZkbW9kLT50Y19haCk7CiAgICAgeGVuY2FsbF9jbG9zZShkbW9kLT54Y2FsbCk7Ci0gICAg
eHRsX2xvZ2dlcl9kZXN0cm95KGRtb2QtPmxvZ2dlcl90b2ZyZWUpOwogICAgIGZyZWUoZG1vZCk7
CiAgICAgcmV0dXJuIHJjOwogfQpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9kZXZpY2Vtb2RlbC9w
cml2YXRlLmggYi90b29scy9saWJzL2RldmljZW1vZGVsL3ByaXZhdGUuaAppbmRleCBjNGEyMjVm
OGFmLi5lZGVlOTY5MzEzIDEwMDY0NAotLS0gYS90b29scy9saWJzL2RldmljZW1vZGVsL3ByaXZh
dGUuaAorKysgYi90b29scy9saWJzL2RldmljZW1vZGVsL3ByaXZhdGUuaApAQCAtMTAsNyArMTAs
NyBAQAogI2luY2x1ZGUgPHhlbnRvb2xjb3JlX2ludGVybmFsLmg+CiAKIHN0cnVjdCB4ZW5kZXZp
Y2Vtb2RlbF9oYW5kbGUgewotICAgIHhlbnRvb2xsb2dfbG9nZ2VyICpsb2dnZXIsICpsb2dnZXJf
dG9mcmVlOworICAgIHhlbnRvb2xsb2dfbG9nZ2VyICpsb2dnZXI7CiAgICAgdW5zaWduZWQgaW50
IGZsYWdzOwogICAgIHhlbmNhbGxfaGFuZGxlICp4Y2FsbDsKICAgICBpbnQgZmQ7CmRpZmYgLS1n
aXQgYS90b29scy9saWJzL2V2dGNobi9jb3JlLmMgYi90b29scy9saWJzL2V2dGNobi9jb3JlLmMK
aW5kZXggYWZmNmVjZmFhMC4uZDFlNTMyODRlMCAxMDA2NDQKLS0tIGEvdG9vbHMvbGlicy9ldnRj
aG4vY29yZS5jCisrKyBiL3Rvb2xzL2xpYnMvZXZ0Y2huL2NvcmUuYwpAQCAtMzcsMTggKzM3LDEw
IEBAIHhlbmV2dGNobl9oYW5kbGUgKnhlbmV2dGNobl9vcGVuKHhlbnRvb2xsb2dfbG9nZ2VyICps
b2dnZXIsIHVuc2lnbmVkIG9wZW5fZmxhZ3MpCiAKICAgICB4Y2UtPmZkID0gLTE7CiAgICAgeGNl
LT5sb2dnZXIgPSBsb2dnZXI7Ci0gICAgeGNlLT5sb2dnZXJfdG9mcmVlICA9IE5VTEw7CiAKICAg
ICB4Y2UtPnRjX2FoLnJlc3RyaWN0X2NhbGxiYWNrID0gYWxsX3Jlc3RyaWN0X2NiOwogICAgIHhl
bnRvb2xjb3JlX19yZWdpc3Rlcl9hY3RpdmVfaGFuZGxlKCZ4Y2UtPnRjX2FoKTsKIAotICAgIGlm
ICgheGNlLT5sb2dnZXIpIHsKLSAgICAgICAgeGNlLT5sb2dnZXIgPSB4Y2UtPmxvZ2dlcl90b2Zy
ZWUgPQotICAgICAgICAgICAgKHhlbnRvb2xsb2dfbG9nZ2VyKikKLSAgICAgICAgICAgIHh0bF9j
cmVhdGVsb2dnZXJfc3RkaW9zdHJlYW0oc3RkZXJyLCBYVExfUFJPR1JFU1MsIDApOwotICAgICAg
ICBpZiAoIXhjZS0+bG9nZ2VyKSBnb3RvIGVycjsKLSAgICB9Ci0KICAgICByYyA9IG9zZGVwX2V2
dGNobl9vcGVuKHhjZSk7CiAgICAgaWYgKCByYyAgPCAwICkgZ290byBlcnI7CiAKQEAgLTU3LDcg
KzQ5LDYgQEAgeGVuZXZ0Y2huX2hhbmRsZSAqeGVuZXZ0Y2huX29wZW4oeGVudG9vbGxvZ19sb2dn
ZXIgKmxvZ2dlciwgdW5zaWduZWQgb3Blbl9mbGFncykKIGVycjoKICAgICB4ZW50b29sY29yZV9f
ZGVyZWdpc3Rlcl9hY3RpdmVfaGFuZGxlKCZ4Y2UtPnRjX2FoKTsKICAgICBvc2RlcF9ldnRjaG5f
Y2xvc2UoeGNlKTsKLSAgICB4dGxfbG9nZ2VyX2Rlc3Ryb3koeGNlLT5sb2dnZXJfdG9mcmVlKTsK
ICAgICBmcmVlKHhjZSk7CiAgICAgcmV0dXJuIE5VTEw7CiB9CkBAIC03MSw3ICs2Miw2IEBAIGlu
dCB4ZW5ldnRjaG5fY2xvc2UoeGVuZXZ0Y2huX2hhbmRsZSAqeGNlKQogCiAgICAgeGVudG9vbGNv
cmVfX2RlcmVnaXN0ZXJfYWN0aXZlX2hhbmRsZSgmeGNlLT50Y19haCk7CiAgICAgcmMgPSBvc2Rl
cF9ldnRjaG5fY2xvc2UoeGNlKTsKLSAgICB4dGxfbG9nZ2VyX2Rlc3Ryb3koeGNlLT5sb2dnZXJf
dG9mcmVlKTsKICAgICBmcmVlKHhjZSk7CiAgICAgcmV0dXJuIHJjOwogfQpkaWZmIC0tZ2l0IGEv
dG9vbHMvbGlicy9ldnRjaG4vcHJpdmF0ZS5oIGIvdG9vbHMvbGlicy9ldnRjaG4vcHJpdmF0ZS5o
CmluZGV4IDMxZTU5NWJlYTIuLmEyNzI4OTVmZTUgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnMvZXZ0
Y2huL3ByaXZhdGUuaAorKysgYi90b29scy9saWJzL2V2dGNobi9wcml2YXRlLmgKQEAgLTksNyAr
OSw3IEBACiAjaW5jbHVkZSA8eGVuL3hlbi5oPgogCiBzdHJ1Y3QgeGVuZXZ0Y2huX2hhbmRsZSB7
Ci0gICAgeGVudG9vbGxvZ19sb2dnZXIgKmxvZ2dlciwgKmxvZ2dlcl90b2ZyZWU7CisgICAgeGVu
dG9vbGxvZ19sb2dnZXIgKmxvZ2dlcjsKICAgICBpbnQgZmQ7CiAgICAgWGVudG9vbGNvcmVfX0Fj
dGl2ZV9IYW5kbGUgdGNfYWg7CiB9OwpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9mb3JlaWdubWVt
b3J5L2NvcmUuYyBiL3Rvb2xzL2xpYnMvZm9yZWlnbm1lbW9yeS9jb3JlLmMKaW5kZXggNjNmMTJl
MjQ1MC4uZDQ4NWRkODY3MiAxMDA2NDQKLS0tIGEvdG9vbHMvbGlicy9mb3JlaWdubWVtb3J5L2Nv
cmUuYworKysgYi90b29scy9saWJzL2ZvcmVpZ25tZW1vcnkvY29yZS5jCkBAIC00MSwxOCArNDEs
MTAgQEAgeGVuZm9yZWlnbm1lbW9yeV9oYW5kbGUgKnhlbmZvcmVpZ25tZW1vcnlfb3Blbih4ZW50
b29sbG9nX2xvZ2dlciAqbG9nZ2VyLAogCiAgICAgZm1lbS0+ZmQgPSAtMTsKICAgICBmbWVtLT5s
b2dnZXIgPSBsb2dnZXI7Ci0gICAgZm1lbS0+bG9nZ2VyX3RvZnJlZSA9IE5VTEw7CiAKICAgICBm
bWVtLT50Y19haC5yZXN0cmljdF9jYWxsYmFjayA9IGFsbF9yZXN0cmljdF9jYjsKICAgICB4ZW50
b29sY29yZV9fcmVnaXN0ZXJfYWN0aXZlX2hhbmRsZSgmZm1lbS0+dGNfYWgpOwogCi0gICAgaWYg
KCFmbWVtLT5sb2dnZXIpIHsKLSAgICAgICAgZm1lbS0+bG9nZ2VyID0gZm1lbS0+bG9nZ2VyX3Rv
ZnJlZSA9Ci0gICAgICAgICAgICAoeGVudG9vbGxvZ19sb2dnZXIqKQotICAgICAgICAgICAgeHRs
X2NyZWF0ZWxvZ2dlcl9zdGRpb3N0cmVhbShzdGRlcnIsIFhUTF9QUk9HUkVTUywgMCk7Ci0gICAg
ICAgIGlmICghZm1lbS0+bG9nZ2VyKSBnb3RvIGVycjsKLSAgICB9Ci0KICAgICByYyA9IG9zZGVw
X3hlbmZvcmVpZ25tZW1vcnlfb3BlbihmbWVtKTsKICAgICBpZiAoIHJjICA8IDAgKSBnb3RvIGVy
cjsKIApAQCAtNjEsNyArNTMsNiBAQCB4ZW5mb3JlaWdubWVtb3J5X2hhbmRsZSAqeGVuZm9yZWln
bm1lbW9yeV9vcGVuKHhlbnRvb2xsb2dfbG9nZ2VyICpsb2dnZXIsCiBlcnI6CiAgICAgeGVudG9v
bGNvcmVfX2RlcmVnaXN0ZXJfYWN0aXZlX2hhbmRsZSgmZm1lbS0+dGNfYWgpOwogICAgIG9zZGVw
X3hlbmZvcmVpZ25tZW1vcnlfY2xvc2UoZm1lbSk7Ci0gICAgeHRsX2xvZ2dlcl9kZXN0cm95KGZt
ZW0tPmxvZ2dlcl90b2ZyZWUpOwogICAgIGZyZWUoZm1lbSk7CiAgICAgcmV0dXJuIE5VTEw7CiB9
CkBAIC03NSw3ICs2Niw2IEBAIGludCB4ZW5mb3JlaWdubWVtb3J5X2Nsb3NlKHhlbmZvcmVpZ25t
ZW1vcnlfaGFuZGxlICpmbWVtKQogCiAgICAgeGVudG9vbGNvcmVfX2RlcmVnaXN0ZXJfYWN0aXZl
X2hhbmRsZSgmZm1lbS0+dGNfYWgpOwogICAgIHJjID0gb3NkZXBfeGVuZm9yZWlnbm1lbW9yeV9j
bG9zZShmbWVtKTsKLSAgICB4dGxfbG9nZ2VyX2Rlc3Ryb3koZm1lbS0+bG9nZ2VyX3RvZnJlZSk7
CiAgICAgZnJlZShmbWVtKTsKICAgICByZXR1cm4gcmM7CiB9CmRpZmYgLS1naXQgYS90b29scy9s
aWJzL2ZvcmVpZ25tZW1vcnkvcHJpdmF0ZS5oIGIvdG9vbHMvbGlicy9mb3JlaWdubWVtb3J5L3By
aXZhdGUuaAppbmRleCA4ZjFiZjA4MWVkLi45MDMwZGU5NzQwIDEwMDY0NAotLS0gYS90b29scy9s
aWJzL2ZvcmVpZ25tZW1vcnkvcHJpdmF0ZS5oCisrKyBiL3Rvb2xzL2xpYnMvZm9yZWlnbm1lbW9y
eS9wcml2YXRlLmgKQEAgLTE5LDcgKzE5LDcgQEAKICNlbmRpZgogCiBzdHJ1Y3QgeGVuZm9yZWln
bm1lbW9yeV9oYW5kbGUgewotICAgIHhlbnRvb2xsb2dfbG9nZ2VyICpsb2dnZXIsICpsb2dnZXJf
dG9mcmVlOworICAgIHhlbnRvb2xsb2dfbG9nZ2VyICpsb2dnZXI7CiAgICAgdW5zaWduZWQgZmxh
Z3M7CiAgICAgaW50IGZkOwogICAgIFhlbnRvb2xjb3JlX19BY3RpdmVfSGFuZGxlIHRjX2FoOwpk
aWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9nbnR0YWIvZ250c2hyX2NvcmUuYyBiL3Rvb2xzL2xpYnMv
Z250dGFiL2dudHNocl9jb3JlLmMKaW5kZXggMTExN2UyOWM5MS4uMzhjZjM2NDg5NyAxMDA2NDQK
LS0tIGEvdG9vbHMvbGlicy9nbnR0YWIvZ250c2hyX2NvcmUuYworKysgYi90b29scy9saWJzL2du
dHRhYi9nbnRzaHJfY29yZS5jCkBAIC0zMSwxNCArMzEsNiBAQCB4ZW5nbnRzaHJfaGFuZGxlICp4
ZW5nbnRzaHJfb3Blbih4ZW50b29sbG9nX2xvZ2dlciAqbG9nZ2VyLCB1bnNpZ25lZCBvcGVuX2Zs
YWdzKQogCiAgICAgeGdzLT5mZCA9IC0xOwogICAgIHhncy0+bG9nZ2VyID0gbG9nZ2VyOwotICAg
IHhncy0+bG9nZ2VyX3RvZnJlZSAgPSBOVUxMOwotCi0gICAgaWYgKCF4Z3MtPmxvZ2dlcikgewot
ICAgICAgICB4Z3MtPmxvZ2dlciA9IHhncy0+bG9nZ2VyX3RvZnJlZSA9Ci0gICAgICAgICAgICAo
eGVudG9vbGxvZ19sb2dnZXIqKQotICAgICAgICAgICAgeHRsX2NyZWF0ZWxvZ2dlcl9zdGRpb3N0
cmVhbShzdGRlcnIsIFhUTF9QUk9HUkVTUywgMCk7Ci0gICAgICAgIGlmICgheGdzLT5sb2dnZXIp
IGdvdG8gZXJyOwotICAgIH0KIAogICAgIHJjID0gb3NkZXBfZ250c2hyX29wZW4oeGdzKTsKICAg
ICBpZiAoIHJjICA8IDAgKSBnb3RvIGVycjsKQEAgLTQ3LDcgKzM5LDYgQEAgeGVuZ250c2hyX2hh
bmRsZSAqeGVuZ250c2hyX29wZW4oeGVudG9vbGxvZ19sb2dnZXIgKmxvZ2dlciwgdW5zaWduZWQg
b3Blbl9mbGFncykKIAogZXJyOgogICAgIG9zZGVwX2dudHNocl9jbG9zZSh4Z3MpOwotICAgIHh0
bF9sb2dnZXJfZGVzdHJveSh4Z3MtPmxvZ2dlcl90b2ZyZWUpOwogICAgIGZyZWUoeGdzKTsKICAg
ICByZXR1cm4gTlVMTDsKIH0KQEAgLTYwLDcgKzUxLDYgQEAgaW50IHhlbmdudHNocl9jbG9zZSh4
ZW5nbnRzaHJfaGFuZGxlICp4Z3MpCiAgICAgICAgIHJldHVybiAwOwogCiAgICAgcmMgPSBvc2Rl
cF9nbnRzaHJfY2xvc2UoeGdzKTsKLSAgICB4dGxfbG9nZ2VyX2Rlc3Ryb3koeGdzLT5sb2dnZXJf
dG9mcmVlKTsKICAgICBmcmVlKHhncyk7CiAgICAgcmV0dXJuIHJjOwogfQpkaWZmIC0tZ2l0IGEv
dG9vbHMvbGlicy9nbnR0YWIvZ250dGFiX2NvcmUuYyBiL3Rvb2xzL2xpYnMvZ250dGFiL2dudHRh
Yl9jb3JlLmMKaW5kZXggOTJlNzIyOGEyNi4uYTY3ZjQ0NDI0NSAxMDA2NDQKLS0tIGEvdG9vbHMv
bGlicy9nbnR0YWIvZ250dGFiX2NvcmUuYworKysgYi90b29scy9saWJzL2dudHRhYi9nbnR0YWJf
Y29yZS5jCkBAIC0zNywxOCArMzcsMTAgQEAgeGVuZ250dGFiX2hhbmRsZSAqeGVuZ250dGFiX29w
ZW4oeGVudG9vbGxvZ19sb2dnZXIgKmxvZ2dlciwgdW5zaWduZWQgb3Blbl9mbGFncykKIAogICAg
IHhndC0+ZmQgPSAtMTsKICAgICB4Z3QtPmxvZ2dlciA9IGxvZ2dlcjsKLSAgICB4Z3QtPmxvZ2dl
cl90b2ZyZWUgID0gTlVMTDsKIAogICAgIHhndC0+dGNfYWgucmVzdHJpY3RfY2FsbGJhY2sgPSBh
bGxfcmVzdHJpY3RfY2I7CiAgICAgeGVudG9vbGNvcmVfX3JlZ2lzdGVyX2FjdGl2ZV9oYW5kbGUo
JnhndC0+dGNfYWgpOwogCi0gICAgaWYgKCF4Z3QtPmxvZ2dlcikgewotICAgICAgICB4Z3QtPmxv
Z2dlciA9IHhndC0+bG9nZ2VyX3RvZnJlZSA9Ci0gICAgICAgICAgICAoeGVudG9vbGxvZ19sb2dn
ZXIqKQotICAgICAgICAgICAgeHRsX2NyZWF0ZWxvZ2dlcl9zdGRpb3N0cmVhbShzdGRlcnIsIFhU
TF9QUk9HUkVTUywgMCk7Ci0gICAgICAgIGlmICgheGd0LT5sb2dnZXIpIGdvdG8gZXJyOwotICAg
IH0KLQogICAgIHJjID0gb3NkZXBfZ250dGFiX29wZW4oeGd0KTsKICAgICBpZiAoIHJjICA8IDAg
KSBnb3RvIGVycjsKIApAQCAtNTcsNyArNDksNiBAQCB4ZW5nbnR0YWJfaGFuZGxlICp4ZW5nbnR0
YWJfb3Blbih4ZW50b29sbG9nX2xvZ2dlciAqbG9nZ2VyLCB1bnNpZ25lZCBvcGVuX2ZsYWdzKQog
ZXJyOgogICAgIHhlbnRvb2xjb3JlX19kZXJlZ2lzdGVyX2FjdGl2ZV9oYW5kbGUoJnhndC0+dGNf
YWgpOwogICAgIG9zZGVwX2dudHRhYl9jbG9zZSh4Z3QpOwotICAgIHh0bF9sb2dnZXJfZGVzdHJv
eSh4Z3QtPmxvZ2dlcl90b2ZyZWUpOwogICAgIGZyZWUoeGd0KTsKICAgICByZXR1cm4gTlVMTDsK
IH0KQEAgLTcxLDcgKzYyLDYgQEAgaW50IHhlbmdudHRhYl9jbG9zZSh4ZW5nbnR0YWJfaGFuZGxl
ICp4Z3QpCiAKICAgICB4ZW50b29sY29yZV9fZGVyZWdpc3Rlcl9hY3RpdmVfaGFuZGxlKCZ4Z3Qt
PnRjX2FoKTsKICAgICByYyA9IG9zZGVwX2dudHRhYl9jbG9zZSh4Z3QpOwotICAgIHh0bF9sb2dn
ZXJfZGVzdHJveSh4Z3QtPmxvZ2dlcl90b2ZyZWUpOwogICAgIGZyZWUoeGd0KTsKICAgICByZXR1
cm4gcmM7CiB9CmRpZmYgLS1naXQgYS90b29scy9saWJzL2dudHRhYi9wcml2YXRlLmggYi90b29s
cy9saWJzL2dudHRhYi9wcml2YXRlLmgKaW5kZXggYzVlMjM2MzliMS4uY2RiMTU1NzYxZSAxMDA2
NDQKLS0tIGEvdG9vbHMvbGlicy9nbnR0YWIvcHJpdmF0ZS5oCisrKyBiL3Rvb2xzL2xpYnMvZ250
dGFiL3ByaXZhdGUuaApAQCAtMTIsNyArMTIsNyBAQAogI2RlZmluZSBHU0VSUk9SKF9sLCBfZi4u
LikgeHRsX2xvZyhfbCwgWFRMX0VSUk9SLCBlcnJubywgImdudHNociIsIF9mKQogCiBzdHJ1Y3Qg
eGVuZ250ZGV2X2hhbmRsZSB7Ci0gICAgeGVudG9vbGxvZ19sb2dnZXIgKmxvZ2dlciwgKmxvZ2dl
cl90b2ZyZWU7CisgICAgeGVudG9vbGxvZ19sb2dnZXIgKmxvZ2dlcjsKICAgICBpbnQgZmQ7CiAg
ICAgWGVudG9vbGNvcmVfX0FjdGl2ZV9IYW5kbGUgdGNfYWg7CiB9OwotLSAKMi4xMS4wCgoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1h
aWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54
ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==
