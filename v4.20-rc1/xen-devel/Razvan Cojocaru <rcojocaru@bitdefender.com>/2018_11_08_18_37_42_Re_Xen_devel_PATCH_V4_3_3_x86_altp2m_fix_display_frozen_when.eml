Return-Path: <xen-devel-bounces@lists.xenproject.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (124.160.105.205:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 09 Nov 2018 00:37:20 -0000
Received: from icoremail.net (unknown [209.85.214.170])
	by mail-app2 (Coremail) with SMTP id by_KCgDXv94Vg+RbbPVhAQ--.29834S3;
	Fri, 09 Nov 2018 02:40:24 +0800 (CST)
Received: from mail-pl1-f170.google.com (unknown [209.85.214.170])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwAnBEAOg+Rb+ygeAA--.719S3;
	Fri, 09 Nov 2018 02:40:15 +0800 (CST)
Received: by mail-pl1-f170.google.com with SMTP id q19-v6so6941273pll.7
        for <xuliker@zju.edu.cn>; Thu, 08 Nov 2018 10:40:15 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-original-authentication-results:x-gm-message-state:delivered-to
         :to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-language:subject:precedence:list-id
         :list-unsubscribe:list-post:list-help:list-subscribe:cc
         :content-transfer-encoding:errors-to:sender;
        bh=R95CF6y/H1IKRBgP56L7YtW2LYyfEafJPt3PF9/nNws=;
        b=B5LjDmdInv6w5EA+09yRLAFOvcXRSgpsP6upaycZYRNL6QXyQVNqL6n6PQ4uc5skZ+
         wcnYUThdCVozfkj2aasSIKmvwqPx/esy21F/oQtVbUARNPd+Oj4yjnEQkfcQ69Nwe/Xq
         J4eAMq6nqxzFVuAVP1MAauoW7TGN40bUl5PD6e6gezTpLQHCKr7RY6X7kBQAlBz9a6ZP
         Sg2UBKBnSopQKuvlBEubc2NZqzTHk3LaN667m0wz0FT+V/MVfuIH1UpLQQi9GTZfDO0V
         ic9SuIB47YE5AiYCBaAn3IoltViFLuveHs5AnKxFCrl6XQaor1uJ++ExgJTMm9qfNfyR
         09Kg==
X-Original-Authentication-Results: mx.google.com;       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
X-Gm-Message-State: AGRZ1gLxfe8rprDAsFjKViFo8jiYwIJbAowkf2tPMxN4auyZFcl4ECYn
	c1JP2KiHhF1eHhn6RA6u5UrvyDgv+AY6voJngzljQWla6Z909AP+Hg==
X-Received: by 2002:a17:902:166:: with SMTP id 93-v6mr5527963plb.68.1541702414762;
        Thu, 08 Nov 2018 10:40:14 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:c304:0:0:0:0 with SMTP id g4-v6csp565040pjt;
        Thu, 8 Nov 2018 10:40:13 -0800 (PST)
X-Google-Smtp-Source: AJdET5faT6bzOKAy3DqrcUA1JqM/JuspCZiCbBxFebJSxNoGd1rpsmwVac7oHuWGKDxmgAWWhYjW
X-Received: by 2002:a0d:f5c2:: with SMTP id e185-v6mr2709954ywf.170.1541702413627;
        Thu, 08 Nov 2018 10:40:13 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1541702413; cv=none;
        d=google.com; s=arc-20160816;
        b=rfEk6+g0BBnBiwiZIPeIvkeeyFsiyiGSVTDXm4FtVqSSazCryc/edRzO45sXqCjtGd
         rmDxhy94NW+0RUAxcudsrMK5dLZTy48ytNuRs2eC7Uh5psi9mCNiTtGzdsAGIjMzdkk5
         q4BEFj36NgMJV6qHgdYxFTevEIG0ZbeS4aB6SYbK77IJUd2lWj+7EP48L8V6CXHiipFb
         EzdxRUs2ar1sgb6Njz/1IpXSkHgUrrqwDruO7ed44gFx5nhoBhJBkpkSiTQ2Gmjb3syc
         2KgHY8OIz3lXovqM6Iq6xU3NhjOFDfE1kGjWDl9rBhDLi7jk6SeqSsdwBFh63F49ujFx
         M97g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=sender:errors-to:content-transfer-encoding:cc:list-subscribe
         :list-help:list-post:list-unsubscribe:list-id:precedence:subject
         :content-language:in-reply-to:mime-version:user-agent:date
         :message-id:from:references:to;
        bh=R95CF6y/H1IKRBgP56L7YtW2LYyfEafJPt3PF9/nNws=;
        b=V6YDPC3TazIwCqHMnJCF3cEAdEu9FJl3uX5EqBex6lf/06UjFkEoHbaE8Ec1Rp0rUG
         ezgps/cT+JVs/EbksTNgzoIzeQJXBN1DSntcUuxTLfzbwFCcW6APUSDiVA01WxILq9pH
         ZdqFE7quhSV+O6q4GkRn94EF4WBfWlQGrdY4DRvKW2Mtyx20xalss/QgLgtVaOCfyRZ7
         SQvITCltx0U/FsgaT+dwX/HlOGyOZKq0ZDrGSbXUiLrN1hY/TevaarZ62RYto8ZGAiBR
         GUU/1hsU0EsgkctvTlUhESTByeJrYXV72Ao08HruFXWeWHhhSZczKlYNHxpE7BdPKcw+
         X4/Q==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
Received: from lists.xenproject.org (lists.xenproject.org. [192.237.175.120])
        by mx.google.com with ESMTPS id n205-v6si2865444ywd.335.2018.11.08.10.40.13
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Thu, 08 Nov 2018 10:40:13 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) client-ip=192.237.175.120;
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1gKpBs-0003BW-0f; Thu, 08 Nov 2018 18:38:04 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <srs0=6g0g=nt=bitdefender.com=rcojocaru@srs-us1.protection.inumbo.net>)
 id 1gKpBr-0003BR-5z
 for xen-devel@lists.xenproject.org; Thu, 08 Nov 2018 18:38:03 +0000
X-Inumbo-ID: 6b9a8982-e385-11e8-9a16-bc764e045a96
Received: from mx01.bbu.dsd.mx.bitdefender.com (unknown [91.199.104.161])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTP
 id 6b9a8982-e385-11e8-9a16-bc764e045a96;
 Thu, 08 Nov 2018 18:38:01 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp01.buh.bitdefender.com [10.17.80.75])
 by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
 A525D301AB24; Thu,  8 Nov 2018 20:38:00 +0200 (EET)
Received: from [192.168.228.119] (unknown [86.120.158.223])
 by smtp.bitdefender.com (Postfix) with ESMTPSA id 7DCFA300F729;
 Thu,  8 Nov 2018 20:38:00 +0200 (EET)
To: George Dunlap <george.dunlap@citrix.com>, xen-devel@lists.xenproject.org
References: <1541083542-22464-1-git-send-email-rcojocaru@bitdefender.com>
 <1541083542-22464-4-git-send-email-rcojocaru@bitdefender.com>
 <65ef6cc6-a198-f875-ec11-e3727360f257@citrix.com>
From: Razvan Cojocaru <rcojocaru@bitdefender.com>
Message-ID: <d3387f54-04fb-3fdc-6b5f-9cbfc725fef2@bitdefender.com>
Date: Thu, 8 Nov 2018 20:37:42 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.3.0
MIME-Version: 1.0
In-Reply-To: <65ef6cc6-a198-f875-ec11-e3727360f257@citrix.com>
Content-Language: en-US-large
Subject: Re: [Xen-devel] [PATCH V4 3/3] x86/altp2m: fix display frozen when
 switching to a new view early
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>, Wei Liu <wei.liu2@citrix.com>,
 Jun Nakajima <jun.nakajima@intel.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
X-CM-TRANSID: AQAAfwAnBEAOg+Rb+ygeAA--.719S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvJXoW3AFW7ZFyruF15CrWkKry7Awb_yoWfGr4xpF
	W3AFn0gFs5JFW2g3WfJrs8Zr1YvrWfGrn5GF43K34rt342vrn7Gr10kw15Cr4DCFn3uF1Y
	yF15Krnrua4jyFDanT9S1TB71UUUUUUqnTZGkaVYY2UrUUUU0bIjqfuFe4nvWSU8nxnvy2
	9KBjDU0xBIdaVrnRJUUULSb7Iv0xC_Kw4lb4IE77IF4wAFF20E14v26r1j6r4UM7CIcVAF
	z4kK6r1j6r18M28lY4IEw2IIxxk0rwA2F7IY1VAKz4vEj48ve4kI8wA2z4x0Y4vE2Ix0cI
	8IcVAFwI0_Ar0_tr1l84ACjcxK6xIIjxv20xvEc7CjxVAFwI0_Gr0_Cr1l84ACjcxK6I8E
	87Iv67AKxVWxJr0_GcWl84ACjcxK6I8E87Iv6xkF7I0E14v26F4UJVW0owAa7VCE64xvF2
	IEb7IF0Fy264xvF2IEb7IF0Fy264kE64k0F2IE7I0Y6sxI4wAS0I0E0xvYzxvE52x082IY
	62kv0487Mc02F40EFcxC0VAKzVAqx4xG6I80ewAv7VC0I7IYx2IY67AKxVWUJVWUGwAv7V
	C2z280aVAFwI0_Jr0_Gr1lOx8S6xCaFVCjc4AY6r1j6r4UM4x0Y48IcVAKI48JM4xvF2IE
	b7IF0Fy264kE64k0F24l7I0Y6sxI4wCYjI0SjxkI62AI1cAE67vIY487MxkF7I0Ew4C26c
	xK6c8Ij28IcwCY1Ik26cxK6xAEc7vF6xCjj44lc2xSY4AK6IIF6rylc2IjII80xcxEwVAK
	I48JMxvI42IY6xIIjxv20xvE14v26r4j6ryUMxvI42IY6xIIjxv20xvEc7CjxVAFwI0_Gr
	0_Cr1lcIIF0xvEx4A2jsIE14v26r4UJVWxJr1lcIIF0xvEx4A2jsIEc7CjxVAFwI0_Gr1j
	6F4UJwCF04k20xvY0x0EwIxGrwCF04k20xvEw4C26cxK6c8Ij28IcwCF72vE77IF4wCFx2
	IqxVCFs4IE7xkEbVWUJVW8JwC20s026c02F40E14v26r1j6r18MI8I3I0E7480Y4vE14v2
	6r106r1rMI8E67AF67kF1VAFwI0_Jw0_GFylIxkGc2Ij64vIr41lIxAIcVCF04k26cxKx2
	IYs7xG6r4j6FyUMVCEFcxC0VAYjxAxZFUvcSsGvfC2KfnxnUUI43ZEXa7IUYGztUUUUUU=
	=

T24gMTEvOC8xOCA4OjE0IFBNLCBHZW9yZ2UgRHVubGFwIHdyb3RlOgo+IE9uIDExLzAxLzIwMTgg
MDI6NDUgUE0sIFJhenZhbiBDb2pvY2FydSB3cm90ZToKPj4gV2hlbiBhbiBuZXcgYWx0cDJtIHZp
ZXcgaXMgY3JlYXRlZCB2ZXJ5IGVhcmx5IG9uIGd1ZXN0IGJvb3QsIHRoZQo+PiBkaXNwbGF5IHdp
bGwgZnJlZXplIChhbHRob3VnaCB0aGUgZ3Vlc3Qgd2lsbCBydW4gbm9ybWFsbHkpLiBUaGlzCj4+
IG1heSBhbHNvIGhhcHBlbiBvbiByZXNpemluZyB0aGUgZGlzcGxheS4gVGhlIHJlYXNvbiBpcyB0
aGUgd2F5Cj4+IFhlbiBjdXJyZW50bHkgKG1pcyloYW5kbGVzIGxvZ2RpcnR5IFZHQTogaXQgaW50
ZW50aW9uYWxseQo+PiBtaXNjb25maWd1cmVzIFZHQSBwYWdlcyBzbyB0aGF0IHRoZXkgd2lsbCBm
YXVsdC4KPj4KPj4gVGhlIHByb2JsZW0gaXMgdGhhdCBpdCBvbmx5IGRvZXMgdGhpcyBpbiB0aGUg
aG9zdCBwMm0uIE9uY2Ugd2UKPj4gc3dpdGNoIHRvIGEgbmV3IGFsdHAybSwgdGhlIG1pc2NvbmZp
Z3VyZWQgZW50cmllcyB3aWxsIG5vIGxvbmdlcgo+PiBmYXVsdCwgc28gdGhlIGRpc3BsYXkgd2ls
bCBub3QgYmUgdXBkYXRlZC4KPj4KPj4gVGhpcyBwYXRjaDoKPj4gKiB1cGRhdGVzIGVwdF9oYW5k
bGVfbWlzY29uZmlnKCkgdG8gdXNlIHRoZSBhY3RpdmUgYWx0cDJtIGluc3RlYWQKPj4gICBvZiB0
aGUgaG9zdHAybTsKPj4gKiBtb2RpZmllcyBwMm1fY2hhbmdlX2VudHJ5X3R5cGVfZ2xvYmFsKCks
IHAybV9tZW1vcnlfdHlwZV9jaGFuZ2VkCj4+ICAgYW5kIHAybV9jaGFuZ2VfdHlwZV9yYW5nZSgp
IHRvIHByb3BhZ2F0ZSB0aGVpciBjaGFuZ2VzIHRvIGFsbAo+PiAgIHZhbGlkIGFsdHAybXMuCj4+
Cj4+IFNpZ25lZC1vZmYtYnk6IFJhenZhbiBDb2pvY2FydSA8cmNvam9jYXJ1QGJpdGRlZmVuZGVy
LmNvbT4KPj4gU3VnZ2VzdGVkLWJ5OiBHZW9yZ2UgRHVubGFwIDxnZW9yZ2UuZHVubGFwQGNpdHJp
eC5jb20+Cj4gCj4gSGV5IFJhenZhbiwKPiAKPiBTb3JyeSBmb3IgdGFraW5nIHNvIGxvbmcgdG8g
Z2V0IHRvIHRoaXMuICBBdCBhIGhpZ2ggbGV2ZWwgdGhpcyBsb29rcwo+IGdvb2QuICBPbmUgYW5z
d2VyIGFuZCBvbmUgb3RoZXIgY29tbWVudC4uLgoKTm8gcHJvYmxlbSwgdGhhbmtzIGZvciB0aGUg
cmV2aWV3IQoKPj4gLS0tCj4+IENDOiBKdW4gTmFrYWppbWEgPGp1bi5uYWthamltYUBpbnRlbC5j
b20+Cj4+IENDOiBLZXZpbiBUaWFuIDxrZXZpbi50aWFuQGludGVsLmNvbT4KPj4gQ0M6IEdlb3Jn
ZSBEdW5sYXAgPGdlb3JnZS5kdW5sYXBAZXUuY2l0cml4LmNvbT4KPj4gQ0M6IEphbiBCZXVsaWNo
IDxqYmV1bGljaEBzdXNlLmNvbT4KPj4gQ0M6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIz
QGNpdHJpeC5jb20+Cj4+IENDOiBXZWkgTGl1IDx3ZWkubGl1MkBjaXRyaXguY29tPgo+Pgo+PiAt
LS0KPj4gQ2hhbmdlcyBzaW5jZSBWMzoKPj4gIC0gUkZDOiBXZSBuZWVkIEdlb3JnZSdzIG9waW5p
b24gb24gSmFuJ3Mgc3VnZ2VzdGlvbiB0byB1cGRhdGUKPj4gICAgcDJtLXB0LmMgYXMgd2VsbC4K
PiAKPiBIbW0gLS0gaWYgdGhlIG9ubHkgY2hhbmdlIGlzIHRvIGFkZCB0aGUgYHAybV9nZXRfYWx0
cDJtKClgIGNsYXVzZSBmcm9tCj4gZXB0X2hhbmRsZV9taXNjb25maWcoKSwgaXQgd291bGRuJ3Qg
YmUgdGVycmlibGU7IHN0aWxsLCBpdCdzIGV4dHJhIGNvZGUKPiBhbmQgYW4gZXh0cmEgYnJhbmNo
IHRoYXQgd2lsbCBuZXZlciBiZSBleGVjdXRlZC4KPiAKPiBJIHRoaW5rIEknZCByYXRoZXIgcHV0
IGFuIEFTU0VSVCghYWx0cDJtX2FjdGl2ZSgpKSB0aGVyZSBpbnN0ZWFkLCB3aXRoIGEKPiBjb21t
ZW50IHRvIHRoZSBlZmZlY3QgdGhhdCBpZiBhbHRwMm0gaXMgZXZlciBlbmFibGVkIGZvciBOUFQg
LyBzaGFkb3csCj4gd2UnbGwgaGF2ZSB0byB1c2UgdGhlIGFsdHAybTsgYW5kIHRvIHNlZSBlcHRf
aGFuZGxlX21pc2NvbmZpZygpLgoKV2lsbCBkby4KCj4+ICAtIEZpeGVkIG1pcy1pbmRlbnRlZCBs
aW5lIGluIGNoYW5nZV90eXBlX3JhbmdlKCkuCj4+ICAtIE1vdmVkIHAybV9tZW1vcnlfdHlwZV9j
aGFuZ2VkKCkgKGFuZCBzdGF0aWMgaGVscGVyKSB1bmRlcgo+PiAgICAjaWZkZWYgQ09ORklHX0hW
TS4KPj4gLS0tCj4+ICB4ZW4vYXJjaC94ODYvbW0vcDJtLWVwdC5jIHwgIDggKysrKysKPj4gIHhl
bi9hcmNoL3g4Ni9tbS9wMm0uYyAgICAgfCA4MyArKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKystLS0tLS0tLQo+PiAgeGVuL2luY2x1ZGUvYXNtLXg4Ni9wMm0uaCB8ICA2ICsr
LS0KPj4gIDMgZmlsZXMgY2hhbmdlZCwgODEgaW5zZXJ0aW9ucygrKSwgMTYgZGVsZXRpb25zKC0p
Cj4+Cj4+IGRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvbW0vcDJtLWVwdC5jIGIveGVuL2FyY2gv
eDg2L21tL3AybS1lcHQuYwo+PiBpbmRleCBmYWJjZDA2Li5lNmZhODVmIDEwMDY0NAo+PiAtLS0g
YS94ZW4vYXJjaC94ODYvbW0vcDJtLWVwdC5jCj4+ICsrKyBiL3hlbi9hcmNoL3g4Ni9tbS9wMm0t
ZXB0LmMKPj4gQEAgLTY1Nyw2ICs2NTcsOSBAQCBib29sX3QgZXB0X2hhbmRsZV9taXNjb25maWco
dWludDY0X3QgZ3BhKQo+PiAgICAgIGJvb2xfdCBzcHVyaW91czsKPj4gICAgICBpbnQgcmM7Cj4+
ICAKPj4gKyAgICBpZiAoIGFsdHAybV9hY3RpdmUoY3Vyci0+ZG9tYWluKSApCj4+ICsgICAgICAg
IHAybSA9IHAybV9nZXRfYWx0cDJtKGN1cnIpOwo+PiArCj4+ICAgICAgcDJtX2xvY2socDJtKTsK
Pj4gIAo+PiAgICAgIHNwdXJpb3VzID0gY3Vyci0+YXJjaC5odm0udm14LmVwdF9zcHVyaW91c19t
aXNjb25maWc7Cj4+IEBAIC0xNDQwLDYgKzE0NDMsMTEgQEAgdm9pZCBwMm1faW5pdF9hbHRwMm1f
ZXB0KHN0cnVjdCBkb21haW4gKmQsIHVuc2lnbmVkIGludCBpKQo+PiAgICAgIHN0cnVjdCBwMm1f
ZG9tYWluICpob3N0cDJtID0gcDJtX2dldF9ob3N0cDJtKGQpOwo+PiAgICAgIHN0cnVjdCBlcHRf
ZGF0YSAqZXB0Owo+PiAgCj4+ICsgICAgcDJtLT5tYXhfbWFwcGVkX3BmbiA9IGhvc3RwMm0tPm1h
eF9tYXBwZWRfcGZuOwo+PiArICAgIHAybS0+ZGVmYXVsdF9hY2Nlc3MgPSBob3N0cDJtLT5kZWZh
dWx0X2FjY2VzczsKPj4gKyAgICBwMm0tPmRvbWFpbiA9IGhvc3RwMm0tPmRvbWFpbjsKPj4gKwo+
PiArICAgIHAybS0+Z2xvYmFsX2xvZ2RpcnR5ID0gaG9zdHAybS0+Z2xvYmFsX2xvZ2RpcnR5Owo+
PiAgICAgIHAybS0+ZXB0LmFkID0gaG9zdHAybS0+ZXB0LmFkOwo+PiAgICAgIHAybS0+bWluX3Jl
bWFwcGVkX2dmbiA9IGdmbl94KElOVkFMSURfR0ZOKTsKPj4gICAgICBwMm0tPm1heF9yZW1hcHBl
ZF9nZm4gPSAwOwo+PiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L21tL3AybS5jIGIveGVuL2Fy
Y2gveDg2L21tL3AybS5jCj4+IGluZGV4IGJjNmU1NDMuLjcwZTQzNmQgMTAwNjQ0Cj4+IC0tLSBh
L3hlbi9hcmNoL3g4Ni9tbS9wMm0uYwo+PiArKysgYi94ZW4vYXJjaC94ODYvbW0vcDJtLmMKPj4g
QEAgLTI3OSw3ICsyNzksNiBAQCBpbnQgcDJtX2luaXQoc3RydWN0IGRvbWFpbiAqZCkKPj4gIGlu
dCBwMm1faXNfbG9nZGlydHlfcmFuZ2Uoc3RydWN0IHAybV9kb21haW4gKnAybSwgdW5zaWduZWQg
bG9uZyBzdGFydCwKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBl
bmQpCj4+ICB7Cj4+IC0gICAgQVNTRVJUKHAybV9pc19ob3N0cDJtKHAybSkpOwo+PiAgICAgIGlm
ICggcDJtLT5nbG9iYWxfbG9nZGlydHkgfHwKPj4gICAgICAgICAgIHJhbmdlc2V0X2NvbnRhaW5z
X3JhbmdlKHAybS0+bG9nZGlydHlfcmFuZ2VzLCBzdGFydCwgZW5kKSApCj4+ICAgICAgICAgIHJl
dHVybiAxOwo+PiBAQCAtMjg4LDI0ICsyODcsNDkgQEAgaW50IHAybV9pc19sb2dkaXJ0eV9yYW5n
ZShzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLCB1bnNpZ25lZCBsb25nIHN0YXJ0LAo+PiAgICAgIHJl
dHVybiAwOwo+PiAgfQo+PiAgCj4+ICtzdGF0aWMgdm9pZCBjaGFuZ2VfZW50cnlfdHlwZV9nbG9i
YWwoc3RydWN0IHAybV9kb21haW4gKnAybSwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHAybV90eXBlX3Qgb3QsIHAybV90eXBlX3QgbnQpCj4+ICt7Cj4+ICsg
ICAgcDJtLT5jaGFuZ2VfZW50cnlfdHlwZV9nbG9iYWwocDJtLCBvdCwgbnQpOwo+PiArICAgIHAy
bS0+Z2xvYmFsX2xvZ2RpcnR5ID0gKG50ID09IHAybV9yYW1fbG9nZGlydHkpOwo+PiArfQo+PiAr
Cj4+ICB2b2lkIHAybV9jaGFuZ2VfZW50cnlfdHlwZV9nbG9iYWwoc3RydWN0IGRvbWFpbiAqZCwK
Pj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwMm1fdHlwZV90IG90LCBwMm1f
dHlwZV90IG50KQo+PiAgewo+PiAtICAgIHN0cnVjdCBwMm1fZG9tYWluICpwMm0gPSBwMm1fZ2V0
X2hvc3RwMm0oZCk7Cj4+ICsgICAgc3RydWN0IHAybV9kb21haW4gKmhvc3RwMm0gPSBwMm1fZ2V0
X2hvc3RwMm0oZCk7Cj4+ICAKPj4gICAgICBBU1NFUlQob3QgIT0gbnQpOwo+PiAgICAgIEFTU0VS
VChwMm1faXNfY2hhbmdlYWJsZShvdCkgJiYgcDJtX2lzX2NoYW5nZWFibGUobnQpKTsKPj4gIAo+
PiAtICAgIHAybV9sb2NrKHAybSk7Cj4+IC0gICAgcDJtLT5jaGFuZ2VfZW50cnlfdHlwZV9nbG9i
YWwocDJtLCBvdCwgbnQpOwo+PiAtICAgIHAybS0+Z2xvYmFsX2xvZ2RpcnR5ID0gKG50ID09IHAy
bV9yYW1fbG9nZGlydHkpOwo+PiAtICAgIHAybV91bmxvY2socDJtKTsKPj4gKyAgICBwMm1fbG9j
ayhob3N0cDJtKTsKPj4gKwo+PiArICAgIGNoYW5nZV9lbnRyeV90eXBlX2dsb2JhbChob3N0cDJt
LCBvdCwgbnQpOwo+PiArCj4+ICsjaWZkZWYgQ09ORklHX0hWTQo+PiArICAgIGlmICggdW5saWtl
bHkoYWx0cDJtX2FjdGl2ZShkKSkgKQo+PiArICAgIHsKPj4gKyAgICAgICAgdW5zaWduZWQgaW50
IGk7Cj4+ICsKPj4gKyAgICAgICAgZm9yICggaSA9IDA7IGkgPCBNQVhfQUxUUDJNOyBpKysgKQo+
PiArICAgICAgICAgICAgaWYgKCBkLT5hcmNoLmFsdHAybV9lcHRwW2ldICE9IG1mbl94KElOVkFM
SURfTUZOKSApCj4+ICsgICAgICAgICAgICB7Cj4+ICsgICAgICAgICAgICAgICAgc3RydWN0IHAy
bV9kb21haW4gKnAybSA9IGQtPmFyY2guYWx0cDJtX3AybVtpXTsKPj4gKwo+PiArICAgICAgICAg
ICAgICAgIHAybV9sb2NrKHAybSk7Cj4+ICsgICAgICAgICAgICAgICAgY2hhbmdlX2VudHJ5X3R5
cGVfZ2xvYmFsKHAybSwgb3QsIG50KTsKPj4gKyAgICAgICAgICAgICAgICBwMm1fdW5sb2NrKHAy
bSk7Cj4+ICsgICAgICAgICAgICB9Cj4+ICsgICAgfQo+PiArI2VuZGlmCj4+ICsKPj4gKyAgICBw
Mm1fdW5sb2NrKGhvc3RwMm0pOwo+IAo+IFNvIGhlcmUgeW91IGhvbGQgdGhlIGhvc3QgcDJtIGxv
Y2sgd2hpbGUgdXBkYXRpbmcgYWxsIHRoZSBhbHRwMm0gbG9ja3MuCj4gVGhhdCBzb3VuZHMgbGlr
ZSBpdCdzIHByb2JhYmx5IG5lY2Vzc2FyeTsgYnV0IGRvIHlvdSByZW1lbWJlciB0aGUKPiBsb2Nr
aW5nIGRpc2NpcGxpbmU/ICBJcyB0aGF0IGFsbG93ZWQsIGFuZC9vciBkbyB3ZSBldmVyIGdyYWIg
dGhlIGFsdHAybQo+IGxvY2sgYW5kIHRoZW4gdGhlIGhvc3RwMm0gbG9jaz8KCkxvY2tpbmcgdGhl
IGhvc3RwMm0gZmlyc3Qgc2VlbXMgdG8gYmUgdGhlIHBhdHRlcm4gZXZlcnl3aGVyZSBJJ3ZlIGxv
b2tlZAooZm9yIGV4YW1wbGUsIGluIHAybV9jaGFuZ2VfYWx0cDJtX2dmbigpLCBwMm1fc2V0X3N1
cHByZXNzX3ZlKCksCnAybV9nZXRfc3VwcHJlc3NfdmUoKSwgb3IgcDJtX3NldF9tZW1fYWNjZXNz
KCkpLgoKPiBCdXQgdGhlbi4uLgo+IAo+PiAgfQo+PiAgCj4+IC12b2lkIHAybV9tZW1vcnlfdHlw
ZV9jaGFuZ2VkKHN0cnVjdCBkb21haW4gKmQpCj4+ICsjaWZkZWYgQ09ORklHX0hWTQo+PiArLyog
VGhlcmUncyBhbHJlYWR5IGEgbWVtb3J5X3R5cGVfY2hhbmdlZCgpIGluIGFzbS9tdHJyLmguICov
Cj4+ICtzdGF0aWMgdm9pZCBfbWVtb3J5X3R5cGVfY2hhbmdlZChzdHJ1Y3QgcDJtX2RvbWFpbiAq
cDJtKQo+PiAgewo+PiAtICAgIHN0cnVjdCBwMm1fZG9tYWluICpwMm0gPSBwMm1fZ2V0X2hvc3Rw
Mm0oZCk7Cj4+IC0KPj4gICAgICBpZiAoIHAybS0+bWVtb3J5X3R5cGVfY2hhbmdlZCApCj4+ICAg
ICAgewo+PiAgICAgICAgICBwMm1fbG9jayhwMm0pOwo+PiBAQCAtMzE0LDYgKzMzOCwyMSBAQCB2
b2lkIHAybV9tZW1vcnlfdHlwZV9jaGFuZ2VkKHN0cnVjdCBkb21haW4gKmQpCj4+ICAgICAgfQo+
PiAgfQo+PiAgCj4+ICt2b2lkIHAybV9tZW1vcnlfdHlwZV9jaGFuZ2VkKHN0cnVjdCBkb21haW4g
KmQpCj4+ICt7Cj4+ICsgICAgX21lbW9yeV90eXBlX2NoYW5nZWQocDJtX2dldF9ob3N0cDJtKGQp
KTsKPj4gKwo+PiArICAgIGlmICggdW5saWtlbHkoYWx0cDJtX2FjdGl2ZShkKSkgKQo+PiArICAg
IHsKPj4gKyAgICAgICAgdW5zaWduZWQgaW50IGk7Cj4+ICsKPj4gKyAgICAgICAgZm9yICggaSA9
IDA7IGkgPCBNQVhfQUxUUDJNOyBpKysgKQo+PiArICAgICAgICAgICAgaWYgKCBkLT5hcmNoLmFs
dHAybV9lcHRwW2ldICE9IG1mbl94KElOVkFMSURfTUZOKSApCj4+ICsgICAgICAgICAgICAgICAg
X21lbW9yeV90eXBlX2NoYW5nZWQoZC0+YXJjaC5hbHRwMm1fcDJtW2ldKTsKPj4gKyAgICB9Cj4+
ICt9Cj4+ICsjZW5kaWYKPiAKPiAuLi5oZXJlIGFuZC4uLgo+IAo+PiArCj4+ICBpbnQgcDJtX3Nl
dF9pb3JlcV9zZXJ2ZXIoc3RydWN0IGRvbWFpbiAqZCwKPj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQgZmxhZ3MsCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IGh2bV9pb3JlcV9zZXJ2ZXIgKnMpCj4+IEBAIC05OTQsMTIgKzEwMzMsMTIgQEAgaW50IHAy
bV9jaGFuZ2VfdHlwZV9vbmUoc3RydWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgbG9uZyBnZm5fbCwK
Pj4gIH0KPj4gIAo+PiAgLyogTW9kaWZ5IHRoZSBwMm0gdHlwZSBvZiBhIHJhbmdlIG9mIGdmbnMg
ZnJvbSBvdCB0byBudC4gKi8KPj4gLXZvaWQgcDJtX2NoYW5nZV90eXBlX3JhbmdlKHN0cnVjdCBk
b21haW4gKmQsIAo+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBz
dGFydCwgdW5zaWduZWQgbG9uZyBlbmQsCj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICBw
Mm1fdHlwZV90IG90LCBwMm1fdHlwZV90IG50KQo+PiArc3RhdGljIHZvaWQgY2hhbmdlX3R5cGVf
cmFuZ2Uoc3RydWN0IHAybV9kb21haW4gKnAybSwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHVuc2lnbmVkIGxvbmcgc3RhcnQsIHVuc2lnbmVkIGxvbmcgZW5kLAo+PiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcDJtX3R5cGVfdCBvdCwgcDJtX3R5cGVfdCBudCkKPj4g
IHsKPj4gICAgICB1bnNpZ25lZCBsb25nIGdmbiA9IHN0YXJ0Owo+PiAtICAgIHN0cnVjdCBwMm1f
ZG9tYWluICpwMm0gPSBwMm1fZ2V0X2hvc3RwMm0oZCk7Cj4+ICsgICAgc3RydWN0IGRvbWFpbiAq
ZCA9IHAybS0+ZG9tYWluOwo+PiAgICAgIGludCByYyA9IDA7Cj4+ICAKPj4gICAgICBBU1NFUlQo
b3QgIT0gbnQpOwo+PiBAQCAtMTA1Miw2ICsxMDkxLDI0IEBAIHZvaWQgcDJtX2NoYW5nZV90eXBl
X3JhbmdlKHN0cnVjdCBkb21haW4gKmQsCj4+ICAgICAgcDJtX3VubG9jayhwMm0pOwo+PiAgfQo+
PiAgCj4+ICt2b2lkIHAybV9jaGFuZ2VfdHlwZV9yYW5nZShzdHJ1Y3QgZG9tYWluICpkLAo+PiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBzdGFydCwgdW5zaWduZWQg
bG9uZyBlbmQsCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBwMm1fdHlwZV90IG90LCBw
Mm1fdHlwZV90IG50KQo+PiArewo+PiArICAgIGNoYW5nZV90eXBlX3JhbmdlKHAybV9nZXRfaG9z
dHAybShkKSwgc3RhcnQsIGVuZCwgb3QsIG50KTsKPj4gKwo+PiArI2lmZGVmIENPTkZJR19IVk0K
Pj4gKyAgICBpZiAoIHVubGlrZWx5KGFsdHAybV9hY3RpdmUoZCkpICkKPj4gKyAgICB7Cj4+ICsg
ICAgICAgIHVuc2lnbmVkIGludCBpOwo+PiArCj4+ICsgICAgICAgIGZvciAoIGkgPSAwOyBpIDwg
TUFYX0FMVFAyTTsgaSsrICkKPj4gKyAgICAgICAgICAgIGlmICggZC0+YXJjaC5hbHRwMm1fZXB0
cFtpXSAhPSBtZm5feChJTlZBTElEX01GTikgKQo+PiArICAgICAgICAgICAgICAgIGNoYW5nZV90
eXBlX3JhbmdlKGQtPmFyY2guYWx0cDJtX3AybVtpXSwgc3RhcnQsIGVuZCwgb3QsIG50KTsKPj4g
KyAgICB9Cj4+ICsjZW5kaWYKPj4gK30KPj4gKwo+IAo+IC4uLmhlcmUgeW91IGdyYWIgJiByZWxl
YXNlIGVhY2ggbG9jayBzZXBhcmF0ZWx5LCBpbnNpZGUgdGhlIHVwZGF0ZQo+IGZ1bmN0aW9uLiAg
bWVtb3J5X3R5cGVfY2hhbmdlZCBpcyBwcm9iYWJseSBtb3JlIG9yIGxlc3MgaWRlbXBvdGVudCwg
c28KPiB3b24ndCBtYXR0ZXIgaWYgdHdvIGRpZmZlcmVudCBjYWxscyByYWNlOyBidXQgaXQgc2Vl
bXMgbGlrZWx5IHRoYXQgaWYKPiB0d28gcDJtX2NoYW5nZV90eXBlX3JhbmdlKCkgY2FsbHMgaGFw
cGVuIGNvbmN1cnJlbnRseSwgdGhlIHZhcmlvdXMKPiBhbHRwMm1zIHdpbGwgZ2V0IGRpZmZlcmVu
dCByZXN1bHRzLiAgSXMgaXQgd29ydGggcmVmYWN0b3JpbmcgYm90aCBvZgo+IHRoZXNlIHNvIHRo
YXQsIGxpa2UgY2hhbmdlX2VudHJ5X3R5cGVfZ2xvYmFsLCB5b3UgaG9sZCB0aGUgaG9zdCBwMm0g
bG9jawo+IHdoaWxlIHlvdSBjaGFuZ2UgdGhlIGluZGl2aWR1YWwgYWx0cDJtIGxvY2tzPwoKWW91
J3JlIHJpZ2h0LiBJIGRvIGFncmVlIGl0IGlzIHdvcnRoIHJlZmFjdG9yaW5nIHRoZSBjb2RlIHRv
IGhvbGQgdGhlCmhvc3RwMm0gbG9jayB1bnRpbCB0aGUgZW5kLiBJJ2xsIGRvIHRoYXQuCgpPbiB0
aGUgZmlyc3QgcGF0Y2ggb2YgdGhlIHNlcmllczogY2FuIGl0IGdvIGluIGluZGVwZW5kZW50bHks
IHNpbmNlIEphbgppcyBPSyB3aXRoIGl0IGFuZCBpdCBqdXN0IGdvdCB5b3VyIGFjaz8gT3Igc2hv
dWxkIEkganVzdCBhZGQgdGhlIGFjayBhbmQKY2FycnkgaXQgb3ZlciB0byB0aGUgbmV4dCB2ZXJz
aW9uIG9mIHRoZSBzZXJpZXM/CgoKVGhhbmtzIGFnYWluLApSYXp2YW4KCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QK
WGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5v
cmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=
