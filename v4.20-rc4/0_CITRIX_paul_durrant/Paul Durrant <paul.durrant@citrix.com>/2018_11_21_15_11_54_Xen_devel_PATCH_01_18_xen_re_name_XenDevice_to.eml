Return-Path: <xen-devel-bounces@lists.xenproject.org>
Delivered-To: unknown
Received: from pop3.zju.edu.cn (124.160.105.205:110) by
  likexu-MOBL1.ccr.corp.intel.com with POP3; 22 Nov 2018 00:34:12 -0000
Received: from icoremail.net (unknown [209.85.214.172])
	by mail-app2 (Coremail) with SMTP id by_KCgDnX9N5dvVbfwfJAQ--.58168S3;
	Wed, 21 Nov 2018 23:15:09 +0800 (CST)
Received: from mail-pl1-f172.google.com (unknown [209.85.214.172])
	by mx2.icoremail.net (Coremail) with SMTP id AQAAfwC3n0t2dvVbYg1kAA--.2184S3;
	Wed, 21 Nov 2018 23:15:02 +0800 (CST)
Received: by mail-pl1-f172.google.com with SMTP id t13so5937759ply.13
        for <xuliker@zju.edu.cn>; Wed, 21 Nov 2018 07:15:02 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-original-authentication-results:x-gm-message-state:delivered-to
         :from:to:date:message-id:in-reply-to:references:mime-version:subject
         :precedence:list-id:list-unsubscribe:list-post:list-help
         :list-subscribe:cc:content-transfer-encoding:errors-to:sender;
        bh=TxuPoioTgLuYXbR33eM1fvq7TGWm/48l0s9Wvl3XwDw=;
        b=frrpsExM6QPQq0SYzD2wGi4LCAz9BqjJiRlyOfMuwXO5239KxK8VR5tHVI4RsIcf+c
         hKLuytpkaih2ognaS/mSjSXQGQzJO+e9Ilv5IR/9TSgpSCrwHbrzEgLo+Xa7QEUjgRha
         ITj1OY9ICs7OtezWM7X7gN/OIFzHORWs69yLwJAeTx2/bmCMFj6Y1IvOkx5Qmc/mg2yL
         tednMf8TYXsLBMuulqDoOdz3CM7feNz6XIS3WtQgO03qRiU9rfQjSY9UvQqlGzvtjDXk
         sX1bfg2o75cMRzXLR52hTJ4zt369sk34mMvLQzbK6lVoUnxXLl+JfgtiLlkN0YDvwI9I
         Ad5g==
X-Original-Authentication-Results: mx.google.com;       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
X-Gm-Message-State: AGRZ1gKtRsJ0kHtM99KSD5bFRw4tL0r4eYRqTax0QO0s1CmNkdX6DnRP
	MQwmEeJyirUzmn+oe+UPpr0m7kp1kGwxoEjaahYNX4gX+Z1+jVo=
X-Received: by 2002:a62:9712:: with SMTP id n18-v6mr7182293pfe.69.1542813302313;
        Wed, 21 Nov 2018 07:15:02 -0800 (PST)
X-Forwarded-To: xuliker@zju.edu.cn
X-Forwarded-For: liker.xu@gmail.com xuliker@zju.edu.cn
Delivered-To: liker.xu@gmail.com
Received: by 2002:a17:90a:d106:0:0:0:0 with SMTP id l6-v6csp2080800pju;
        Wed, 21 Nov 2018 07:15:00 -0800 (PST)
X-Google-Smtp-Source: AJdET5fY2LWspFDA3qfyY8QS935QqbbFRi+g7DZEYFGaMQb+W+6oLibJBijefgMMk8GuAi0CJeJ9
X-Received: by 2002:a25:44d:: with SMTP id 74-v6mr6798051ybe.173.1542813300275;
        Wed, 21 Nov 2018 07:15:00 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1542813300; cv=none;
        d=google.com; s=arc-20160816;
        b=DvvqyqJeWDTiD3ogfTymqws0nRZGGkx3rI2Tt1XMFW+fd61i3AiX4t1j2QQSxr7Mlr
         d3MfXw/GA+nIMADuWEhcfnR+sT7qfp3nbLhDEonm/b+UHdxqVRNg4fWPMDVnpkxGFnOE
         NKkiu7szGn/VSOtZSOWqm35vNP6AXr/LKlxP21iW3yWCJVdOn4lJ7VfJW18YZzbCUZtI
         I92Yvfpi3qqli+uE9J0lxeNPL6OiFfrNSGU771AFPaU3QT3gUanItnZjL34oxlzE8s0t
         rYVLNxUae8rRVQy9T1fXVDRTfqSBsSy9TfWHVKqEa7HdJEJPO5X53CDDHn4Hoidc83n7
         ippA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=sender:errors-to:content-transfer-encoding:cc:list-subscribe
         :list-help:list-post:list-unsubscribe:list-id:precedence:subject
         :mime-version:references:in-reply-to:message-id:date:to:from;
        bh=TxuPoioTgLuYXbR33eM1fvq7TGWm/48l0s9Wvl3XwDw=;
        b=p2RePTXDUxay/CPpRrIjqHiYPu2O9bsZP7yXFyEIJCsniANTFx1fjchRQ9tqDOXFrv
         oW6AIvA4Jt9H3xWu7jrfWPM+eCFVC20iTFUnKed7P97SFyFrf37qnjnoPH+nqBqcwsyN
         8lOFY0RLbSj45o1KDuqSx2sOWBfHlKl0HxTI7dmHnFdBbwWB3ReDa5SwIBJI6bzYhHOB
         tdzA0hov3+NnPMQtuFbzJncBJujO3FUOeAWofyKBdaGZaePnD9P2xAL/1k67rF6F/FnM
         t9GANH/Z/2fz9Q+QF7TJhOuN+8aGnz0wRgoGsG6yzDbH0e58/zvfMKKL0E3oYZbVUEqW
         Hmgw==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) smtp.mailfrom=xen-devel-bounces@lists.xenproject.org
Received: from lists.xenproject.org (lists.xenproject.org. [192.237.175.120])
        by mx.google.com with ESMTPS id x8-v6si28532232ybm.478.2018.11.21.07.14.49
        (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
        Wed, 21 Nov 2018 07:15:00 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of xen-devel-bounces@lists.xenproject.org designates 192.237.175.120 as permitted sender) client-ip=192.237.175.120;
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1gPUB0-0007Ju-Fa; Wed, 21 Nov 2018 15:12:26 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <srs0=wvse=oa=citrix.com=prvs=856356900=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1gPUAy-0007Id-A7
 for xen-devel@lists.xenproject.org; Wed, 21 Nov 2018 15:12:24 +0000
X-Inumbo-ID: d7a6a2ee-ed9f-11e8-9a16-bc764e045a96
Received: from SMTP03.CITRIX.COM (unknown [162.221.156.55])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id d7a6a2ee-ed9f-11e8-9a16-bc764e045a96;
 Wed, 21 Nov 2018 15:12:20 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.56,261,1539648000"; d="scan'208";a="71205797"
From: Paul Durrant <paul.durrant@citrix.com>
To: <qemu-block@nongnu.org>, <qemu-devel@nongnu.org>,
 <xen-devel@lists.xenproject.org>
Date: Wed, 21 Nov 2018 15:11:54 +0000
Message-ID: <20181121151211.15997-2-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20181121151211.15997-1-paul.durrant@citrix.com>
References: <20181121151211.15997-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 01/18] xen: re-name XenDevice to
 XenLegacyDevice...
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Wolf <kwolf@redhat.com>, Stefano Stabellini <sstabellini@kernel.org>,
 Eduardo Habkost <ehabkost@redhat.com>, "Michael
 S. Tsirkin" <mst@redhat.com>, Jason Wang <jasowang@redhat.com>,
 Greg Kurz <groug@kaod.org>, Max Reitz <mreitz@redhat.com>,
 Paul Durrant <paul.durrant@citrix.com>, Gerd Hoffmann <kraxel@redhat.com>,
 Marcel Apfelbaum <marcel.apfelbaum@gmail.com>,
 Paolo Bonzini <pbonzini@redhat.com>,
 Anthony Perard <anthony.perard@citrix.com>,
 =?UTF-8?q?Marc-Andr=C3=A9=20Lureau?= <marcandre.lureau@redhat.com>,
 Richard Henderson <rth@twiddle.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: liker.xu+caf_=xuliker=zju.edu.cn@gmail.com
X-CM-TRANSID: AQAAfwC3n0t2dvVbYg1kAA--.2184S3
Authentication-Results: mail-app2; spf=pass smtp.mail=liker.xu+caf_=xu
	liker=zju.edu.cn@gmail.com;
X-Coremail-Antispam: 1UD129KBjvAXoWDJFyrAw18Kr1UtFWkGF17KFg_yoWrZw1rWo
	W7Zrs7C3W8ArnrGrWqgr42ya47Crn3Gr4F9r98KFnI9w15twn0gr1xKr15XFZ8WF4FkrW7
	X3WrZw15Gw1kCF4kn29KB7ZKAUJUUUUU529EdanIXcx71UUUUj7v73VFW2AGmfu7jjvjm3
	AaLaJ3UjIYCTnIWjp_UUUo47k0a2IF6w4kM7kC6x804xWl14x267AKxVWUJVW8JwAFIxvE
	14AKwVWUJVWUGwA2ocxC64kIII0Yj41l84x0c7CEw4AK67xGY2AK021l84ACjcxK6xIIjx
	v20xvE14v26w1j6s0DM28EF7xvwVC0I7IYx2IY6xkF7I0E14v26F4j6r4UJwA2z4x0Y4vE
	x4A2jsIE14v26rxl6s0DM28EF7xvwVC2z280aVCY1x0267AKxVW0oVCq3wAa7VCE64xvF2
	IEb7IF0Fy264xvF2IEb7IF0Fy264kE64k0F2IE7I0Y6sxI4wAS0I0E0xvYzxvE52x082IY
	62kv0487Mc02F40EFcxC0VAKzVAqx4xG6I80ewAv7VC0I7IYx2IY67AKxVWUXVWUAwAv7V
	C2z280aVAFwI0_Cr0_Gr1UMcvjeVCFs4IE7xkEbVWUJVW8JwACjcxG0xvY0x0EwIxGrwAC
	Y4xI67k04243AVAKzVAKj4xxMx02cVCv0xWlc7CjxVAKzI0EY4vE52x082I5MxkFs20EY4
	vE44CYbxCE4x80FwCY02Avz4vEIxC_XrWlc2IjII80xcxEwVAKI48JMxvI42IY6xIIjxv2
	0xvE14v26ryj6F1UMxvI42IY6xIIjxv20xvEc7CjxVAFwI0_Gr0_Cr1lcIIF0xvEx4A2js
	IE14v26rxl6s0DMxvI42IY6I8E87Iv6xkF7I0E14v26rxl6s0DMxAIw28IcxkI7VAKI48J
	MxAIw28IcVAKzI0EY4vE52x082I5MxCjnVCjjxCrMxC20s026xCaFVCjc4AY6r1j6r4UMI
	8I3I0E5I8CrVAFwI0_Jr0_Jr4lx2IqxVCjr7xvwVAFwI0_JrI_JrWlx4CE17CEb7AF67AK
	xVW8ZVWrXwCIc40Y0x0EwIxGrwCI42IY6xAIw20EY4v20xvaj40_Gr0_Zr1l6VACY4xI67
	k04243AbIYCTnIWIevJa73UjIFyTuYvjxUBOzVUUUUU

Li4uYW5kIHhlbl9iYWNrZW5kLmggdG8geGVuLWxlZ2FjeS1iYWNrZW5kLmgKClJhdGhlciB0aGFu
IGF0dGVtcHRpbmcgdG8gY29udmVydCB0aGUgZXhpc3RpbmcgYmFja2VuZCBpbmZyYXN0cnVjdHVy
ZSB0bwpiZSBRT00gY29tcGxpYW50ICh3aGljaCB3b3VsZCBiZSBoYXJkIHRvIGRvIGluIGFuIGlu
Y3JlbWVudGFsIGZhc2hpb24pLApzdWJzZXF1ZW50IHBhdGNoZXMgd2lsbCBpbnRyb2R1Y2UgYSBj
b21wbGV0ZWx5IG5ldyBmcmFtZXdvcmsgZm9yIFhlbiBQVgpiYWNrZW5kcy4gSGVuY2UgaXQgaXMg
bmVjZXNzYXJ5IHRvIHJlLW5hbWUgcGFydHMgb2YgZXhpc3RpbmcgY29kZSB0byBhdm9pZApuYW1l
IGNsYXNoZXMuIFRoZSByZS1uYW1lZCAnbGVnYWN5JyBpbmZyYXN0cnVjdHVyZSB3aWxsIGJlIHJl
bW92ZWQgb25jZSBhbGwKYmFja2VuZHMgaGF2ZSBiZWVuIHBvcnRlZCB0byB0aGUgbmV3IGZyYW1l
d29yay4KClRoaXMgcGF0Y2ggaXMgcHVyZWx5IGNvc21ldGljLiBObyBmdW5jdGlvbmFsIGNoYW5n
ZS4KClNpZ25lZC1vZmYtYnk6IFBhdWwgRHVycmFudCA8cGF1bC5kdXJyYW50QGNpdHJpeC5jb20+
Ci0tLQpDYzogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgpDYzog
QW50aG9ueSBQZXJhcmQgPGFudGhvbnkucGVyYXJkQGNpdHJpeC5jb20+CkNjOiBHcmVnIEt1cnog
PGdyb3VnQGthb2Qub3JnPgpDYzogS2V2aW4gV29sZiA8a3dvbGZAcmVkaGF0LmNvbT4KQ2M6IE1h
eCBSZWl0eiA8bXJlaXR6QHJlZGhhdC5jb20+CkNjOiAiTWFyYy1BbmRyw6kgTHVyZWF1IiA8bWFy
Y2FuZHJlLmx1cmVhdUByZWRoYXQuY29tPgpDYzogUGFvbG8gQm9uemluaSA8cGJvbnppbmlAcmVk
aGF0LmNvbT4KQ2M6IFJpY2hhcmQgSGVuZGVyc29uIDxydGhAdHdpZGRsZS5uZXQ+CkNjOiBFZHVh
cmRvIEhhYmtvc3QgPGVoYWJrb3N0QHJlZGhhdC5jb20+CkNjOiAiTWljaGFlbCBTLiBUc2lya2lu
IiA8bXN0QHJlZGhhdC5jb20+CkNjOiBNYXJjZWwgQXBmZWxiYXVtIDxtYXJjZWwuYXBmZWxiYXVt
QGdtYWlsLmNvbT4KQ2M6IEphc29uIFdhbmcgPGphc293YW5nQHJlZGhhdC5jb20+CkNjOiBHZXJk
IEhvZmZtYW5uIDxrcmF4ZWxAcmVkaGF0LmNvbT4KLS0tCiBody85cGZzL3hlbi05cC1iYWNrZW5k
LmMgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDE2ICsrLS0tCiBody9ibG9jay94ZW5fZGlz
ay5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDI0ICsrKy0tLS0KIGh3L2NoYXIv
eGVuX2NvbnNvbGUuYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMTIgKystLQogaHcv
ZGlzcGxheS94ZW5mYi5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAyNSArKysr
LS0tLQogaHcvaTM4Ni94ZW4veGVuLWh2bS5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
fCAgMiArLQogaHcvaTM4Ni94ZW4veGVuLW1hcGNhY2hlLmMgICAgICAgICAgICAgICAgICAgICAg
ICAgfCAgMiArLQogaHcvaTM4Ni94ZW4veGVuX3BsYXRmb3JtLmMgICAgICAgICAgICAgICAgICAg
ICAgICAgfCAgMiArLQogaHcvbmV0L3hlbl9uaWMuYyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfCAxNCArKy0tLQogaHcvdXNiL3hlbi11c2IuYyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgfCAyNSArKysrLS0tLQogaHcveGVuL01ha2VmaWxlLm9ianMgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgfCAgMiArLQogaHcveGVuL3hlbi1jb21tb24uYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgMiArLQogaHcveGVuL3t4ZW5fYmFja2VuZC5j
ID0+IHhlbi1sZWdhY3ktYmFja2VuZC5jfSAgICAgfCA3MyArKysrKysrKysrKystLS0tLS0tLS0t
CiBody94ZW4veGVuX2RldmNvbmZpZy5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAy
ICstCiBody94ZW4veGVuX3B0LmMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8
ICAyICstCiBody94ZW4veGVuX3B0X2NvbmZpZ19pbml0LmMgICAgICAgICAgICAgICAgICAgICAg
ICB8ICAyICstCiBody94ZW4veGVuX3B0X2dyYXBoaWNzLmMgICAgICAgICAgICAgICAgICAgICAg
ICAgICB8ICAyICstCiBody94ZW4veGVuX3B0X21zaS5jICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB8ICAyICstCiBody94ZW4veGVuX3B2ZGV2LmMgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB8IDIwICsrKy0tLQogaHcveGVucHYveGVuX2RvbWFpbmJ1aWxkLmMgICAgICAg
ICAgICAgICAgICAgICAgICAgfCAgMiArLQogaHcveGVucHYveGVuX21hY2hpbmVfcHYuYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgfCAgMiArLQogLi4uL2h3L3hlbi97eGVuX2JhY2tlbmQuaCA9
PiB4ZW4tbGVnYWN5LWJhY2tlbmQuaH0gfCA0MyArKysrKysrLS0tLS0tCiBpbmNsdWRlL2h3L3hl
bi94ZW5fcHZkZXYuaCAgICAgICAgICAgICAgICAgICAgICAgICB8IDM4ICsrKysrLS0tLS0tCiAy
MiBmaWxlcyBjaGFuZ2VkLCAxNjYgaW5zZXJ0aW9ucygrKSwgMTQ4IGRlbGV0aW9ucygtKQogcmVu
YW1lIGh3L3hlbi97eGVuX2JhY2tlbmQuYyA9PiB4ZW4tbGVnYWN5LWJhY2tlbmQuY30gKDg5JSkK
IHJlbmFtZSBpbmNsdWRlL2h3L3hlbi97eGVuX2JhY2tlbmQuaCA9PiB4ZW4tbGVnYWN5LWJhY2tl
bmQuaH0gKDYxJSkKCmRpZmYgLS1naXQgYS9ody85cGZzL3hlbi05cC1iYWNrZW5kLmMgYi9ody85
cGZzL3hlbi05cC1iYWNrZW5kLmMKaW5kZXggM2Y1NGEyMWM3Ni4uMzg1OWEwNmZlNyAxMDA2NDQK
LS0tIGEvaHcvOXBmcy94ZW4tOXAtYmFja2VuZC5jCisrKyBiL2h3LzlwZnMveGVuLTlwLWJhY2tl
bmQuYwpAQCAtMTIsNyArMTIsNyBAQAogCiAjaW5jbHVkZSAiaHcvaHcuaCIKICNpbmNsdWRlICJo
dy85cGZzLzlwLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisjaW5jbHVkZSAi
aHcveGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogI2luY2x1ZGUgImh3LzlwZnMveGVuLTlwZnMu
aCIKICNpbmNsdWRlICJxYXBpL2Vycm9yLmgiCiAjaW5jbHVkZSAicWVtdS9jb25maWctZmlsZS5o
IgpAQCAtNDUsNyArNDUsNyBAQCB0eXBlZGVmIHN0cnVjdCBYZW45cGZzUmluZyB7CiB9IFhlbjlw
ZnNSaW5nOwogCiB0eXBlZGVmIHN0cnVjdCBYZW45cGZzRGV2IHsKLSAgICBzdHJ1Y3QgWGVuRGV2
aWNlIHhlbmRldjsgIC8qIG11c3QgYmUgZmlyc3QgKi8KKyAgICBzdHJ1Y3QgWGVuTGVnYWN5RGV2
aWNlIHhlbmRldjsgIC8qIG11c3QgYmUgZmlyc3QgKi8KICAgICBWOWZzU3RhdGUgc3RhdGU7CiAg
ICAgY2hhciAqcGF0aDsKICAgICBjaGFyICpzZWN1cml0eV9tb2RlbDsKQEAgLTU2LDcgKzU2LDcg
QEAgdHlwZWRlZiBzdHJ1Y3QgWGVuOXBmc0RldiB7CiAgICAgWGVuOXBmc1JpbmcgKnJpbmdzOwog
fSBYZW45cGZzRGV2OwogCi1zdGF0aWMgdm9pZCB4ZW5fOXBmc19kaXNjb25uZWN0KHN0cnVjdCBY
ZW5EZXZpY2UgKnhlbmRldik7CitzdGF0aWMgdm9pZCB4ZW5fOXBmc19kaXNjb25uZWN0KHN0cnVj
dCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldik7CiAKIHN0YXRpYyB2b2lkIHhlbl85cGZzX2luX3Nn
KFhlbjlwZnNSaW5nICpyaW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGlv
dmVjICppbl9zZywKQEAgLTI0Myw3ICsyNDMsNyBAQCBzdGF0aWMgY29uc3QgVjlmc1RyYW5zcG9y
dCB4ZW5fOXBfdHJhbnNwb3J0ID0gewogICAgIC5wdXNoX2FuZF9ub3RpZnkgPSB4ZW5fOXBmc19w
dXNoX2FuZF9ub3RpZnksCiB9OwogCi1zdGF0aWMgaW50IHhlbl85cGZzX2luaXQoc3RydWN0IFhl
bkRldmljZSAqeGVuZGV2KQorc3RhdGljIGludCB4ZW5fOXBmc19pbml0KHN0cnVjdCBYZW5MZWdh
Y3lEZXZpY2UgKnhlbmRldikKIHsKICAgICByZXR1cm4gMDsKIH0KQEAgLTMwNSw3ICszMDUsNyBA
QCBzdGF0aWMgdm9pZCB4ZW5fOXBmc19ldnRjaG5fZXZlbnQodm9pZCAqb3BhcXVlKQogICAgIHFl
bXVfYmhfc2NoZWR1bGUocmluZy0+YmgpOwogfQogCi1zdGF0aWMgdm9pZCB4ZW5fOXBmc19kaXNj
b25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lkIHhlbl85cGZzX2Rp
c2Nvbm5lY3Qoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIFhlbjlwZnNE
ZXYgKnhlbl85cGRldiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIFhlbjlwZnNEZXYsIHhlbmRldik7
CiAgICAgaW50IGk7CkBAIC0zMjEsNyArMzIxLDcgQEAgc3RhdGljIHZvaWQgeGVuXzlwZnNfZGlz
Y29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgfQogfQogCi1zdGF0aWMgaW50
IHhlbl85cGZzX2ZyZWUoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIGludCB4ZW5f
OXBmc19mcmVlKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAgICBYZW45cGZz
RGV2ICp4ZW5fOXBkZXYgPSBjb250YWluZXJfb2YoeGVuZGV2LCBYZW45cGZzRGV2LCB4ZW5kZXYp
OwogICAgIGludCBpOwpAQCAtMzU0LDcgKzM1NCw3IEBAIHN0YXRpYyBpbnQgeGVuXzlwZnNfZnJl
ZShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBp
bnQgeGVuXzlwZnNfY29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50
IHhlbl85cGZzX2Nvbm5lY3Qoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAg
IEVycm9yICplcnIgPSBOVUxMOwogICAgIGludCBpOwpAQCAtNDY3LDcgKzQ2Nyw3IEBAIG91dDoK
ICAgICByZXR1cm4gLTE7CiB9CiAKLXN0YXRpYyB2b2lkIHhlbl85cGZzX2FsbG9jKHN0cnVjdCBY
ZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lkIHhlbl85cGZzX2FsbG9jKHN0cnVjdCBYZW5M
ZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAgICB4ZW5zdG9yZV93cml0ZV9iZV9zdHIoeGVuZGV2
LCAidmVyc2lvbnMiLCBWRVJTSU9OUyk7CiAgICAgeGVuc3RvcmVfd3JpdGVfYmVfaW50KHhlbmRl
diwgIm1heC1yaW5ncyIsIE1BWF9SSU5HUyk7CmRpZmYgLS1naXQgYS9ody9ibG9jay94ZW5fZGlz
ay5jIGIvaHcvYmxvY2sveGVuX2Rpc2suYwppbmRleCAzNmVmZjk0Zjg0Li43NWZlNTVmMmFlIDEw
MDY0NAotLS0gYS9ody9ibG9jay94ZW5fZGlzay5jCisrKyBiL2h3L2Jsb2NrL3hlbl9kaXNrLmMK
QEAgLTI1LDcgKzI1LDcgQEAKICNpbmNsdWRlIDxzeXMvdWlvLmg+CiAKICNpbmNsdWRlICJody9o
dy5oIgotI2luY2x1ZGUgImh3L3hlbi94ZW5fYmFja2VuZC5oIgorI2luY2x1ZGUgImh3L3hlbi94
ZW4tbGVnYWN5LWJhY2tlbmQuaCIKICNpbmNsdWRlICJ4ZW5fYmxraWYuaCIKICNpbmNsdWRlICJz
eXNlbXUvYmxvY2tkZXYuaCIKICNpbmNsdWRlICJzeXNlbXUvaW90aHJlYWQuaCIKQEAgLTYzLDcg
KzYzLDcgQEAgc3RydWN0IGlvcmVxIHsKICNkZWZpbmUgTUFYX1JJTkdfUEFHRV9PUkRFUiA0CiAK
IHN0cnVjdCBYZW5CbGtEZXYgewotICAgIHN0cnVjdCBYZW5EZXZpY2UgICAgeGVuZGV2OyAgLyog
bXVzdCBiZSBmaXJzdCAqLworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgICAgeGVuZGV2OyAg
LyogbXVzdCBiZSBmaXJzdCAqLwogICAgIGNoYXIgICAgICAgICAgICAgICAgKnBhcmFtczsKICAg
ICBjaGFyICAgICAgICAgICAgICAgICptb2RlOwogICAgIGNoYXIgICAgICAgICAgICAgICAgKnR5
cGU7CkBAIC0xNzksNyArMTc5LDcgQEAgc3RhdGljIHZvaWQgaW9yZXFfcmVsZWFzZShzdHJ1Y3Qg
aW9yZXEgKmlvcmVxLCBib29sIGZpbmlzaCkKIHN0YXRpYyBpbnQgaW9yZXFfcGFyc2Uoc3RydWN0
IGlvcmVxICppb3JlcSkKIHsKICAgICBzdHJ1Y3QgWGVuQmxrRGV2ICpibGtkZXYgPSBpb3JlcS0+
YmxrZGV2OwotICAgIHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiA9ICZibGtkZXYtPnhlbmRldjsK
KyAgICBzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYgPSAmYmxrZGV2LT54ZW5kZXY7CiAg
ICAgc2l6ZV90IGxlbjsKICAgICBpbnQgaTsKIApAQCAtMjQzLDcgKzI0Myw3IEBAIGVycjoKIHN0
YXRpYyBpbnQgaW9yZXFfZ3JhbnRfY29weShzdHJ1Y3QgaW9yZXEgKmlvcmVxKQogewogICAgIHN0
cnVjdCBYZW5CbGtEZXYgKmJsa2RldiA9IGlvcmVxLT5ibGtkZXY7Ci0gICAgc3RydWN0IFhlbkRl
dmljZSAqeGVuZGV2ID0gJmJsa2Rldi0+eGVuZGV2OworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZp
Y2UgKnhlbmRldiA9ICZibGtkZXYtPnhlbmRldjsKICAgICBYZW5HcmFudENvcHlTZWdtZW50IHNl
Z3NbQkxLSUZfTUFYX1NFR01FTlRTX1BFUl9SRVFVRVNUXTsKICAgICBpbnQgaSwgY291bnQsIHJj
OwogICAgIGludDY0X3QgZmlsZV9ibGsgPSBibGtkZXYtPmZpbGVfYmxrOwpAQCAtMjg5LDcgKzI4
OSw3IEBAIHN0YXRpYyB2b2lkIHFlbXVfYWlvX2NvbXBsZXRlKHZvaWQgKm9wYXF1ZSwgaW50IHJl
dCkKIHsKICAgICBzdHJ1Y3QgaW9yZXEgKmlvcmVxID0gb3BhcXVlOwogICAgIHN0cnVjdCBYZW5C
bGtEZXYgKmJsa2RldiA9IGlvcmVxLT5ibGtkZXY7Ci0gICAgc3RydWN0IFhlbkRldmljZSAqeGVu
ZGV2ID0gJmJsa2Rldi0+eGVuZGV2OworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRl
diA9ICZibGtkZXYtPnhlbmRldjsKIAogICAgIGFpb19jb250ZXh0X2FjcXVpcmUoYmxrZGV2LT5j
dHgpOwogCkBAIC02MDgsNyArNjA4LDcgQEAgc3RhdGljIHZvaWQgYmxrX2JoKHZvaWQgKm9wYXF1
ZSkKICAgICBhaW9fY29udGV4dF9yZWxlYXNlKGJsa2Rldi0+Y3R4KTsKIH0KIAotc3RhdGljIHZv
aWQgYmxrX2FsbG9jKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lkIGJsa19h
bGxvYyhzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0IFhlbkJs
a0RldiAqYmxrZGV2ID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0IFhlbkJsa0RldiwgeGVu
ZGV2KTsKICAgICBFcnJvciAqZXJyID0gTlVMTDsKQEAgLTYyOCw3ICs2MjgsNyBAQCBzdGF0aWMg
dm9pZCBibGtfYWxsb2Moc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogCiBzdGF0aWMgdm9pZCBi
bGtfcGFyc2VfZGlzY2FyZChzdHJ1Y3QgWGVuQmxrRGV2ICpibGtkZXYpCiB7Ci0gICAgc3RydWN0
IFhlbkRldmljZSAqeGVuZGV2ID0gJmJsa2Rldi0+eGVuZGV2OworICAgIHN0cnVjdCBYZW5MZWdh
Y3lEZXZpY2UgKnhlbmRldiA9ICZibGtkZXYtPnhlbmRldjsKICAgICBpbnQgZW5hYmxlOwogCiAg
ICAgYmxrZGV2LT5mZWF0dXJlX2Rpc2NhcmQgPSB0cnVlOwpAQCAtNjQyLDcgKzY0Miw3IEBAIHN0
YXRpYyB2b2lkIGJsa19wYXJzZV9kaXNjYXJkKHN0cnVjdCBYZW5CbGtEZXYgKmJsa2RldikKICAg
ICB9CiB9CiAKLXN0YXRpYyBpbnQgYmxrX2luaXQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQor
c3RhdGljIGludCBibGtfaW5pdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAg
ICAgc3RydWN0IFhlbkJsa0RldiAqYmxrZGV2ID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0
IFhlbkJsa0RldiwgeGVuZGV2KTsKICAgICBpbnQgaW5mbyA9IDA7CkBAIC03MzcsNyArNzM3LDcg
QEAgb3V0X2Vycm9yOgogICAgIHJldHVybiAtMTsKIH0KIAotc3RhdGljIGludCBibGtfY29ubmVj
dChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50IGJsa19jb25uZWN0KHN0cnVj
dCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAgICBzdHJ1Y3QgWGVuQmxrRGV2ICpibGtk
ZXYgPSBjb250YWluZXJfb2YoeGVuZGV2LCBzdHJ1Y3QgWGVuQmxrRGV2LCB4ZW5kZXYpOwogICAg
IGludCBpbmRleCwgcWZsYWdzOwpAQCAtOTQxLDcgKzk0MSw3IEBAIHN0YXRpYyBpbnQgYmxrX2Nv
bm5lY3Qoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICAgIHJldHVybiAwOwogfQogCi1zdGF0
aWMgdm9pZCBibGtfZGlzY29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMg
dm9pZCBibGtfZGlzY29ubmVjdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAg
ICAgc3RydWN0IFhlbkJsa0RldiAqYmxrZGV2ID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0
IFhlbkJsa0RldiwgeGVuZGV2KTsKIApAQCAtOTY2LDcgKzk2Niw3IEBAIHN0YXRpYyB2b2lkIGJs
a19kaXNjb25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKICAgICB9CiB9CiAKLXN0YXRp
YyBpbnQgYmxrX2ZyZWUoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIGludCBibGtf
ZnJlZShzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0IFhlbkJs
a0RldiAqYmxrZGV2ID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0IFhlbkJsa0RldiwgeGVu
ZGV2KTsKICAgICBzdHJ1Y3QgaW9yZXEgKmlvcmVxOwpAQCAtOTkyLDcgKzk5Miw3IEBAIHN0YXRp
YyBpbnQgYmxrX2ZyZWUoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICAgIHJldHVybiAwOwog
fQogCi1zdGF0aWMgdm9pZCBibGtfZXZlbnQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3Rh
dGljIHZvaWQgYmxrX2V2ZW50KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAg
ICBzdHJ1Y3QgWGVuQmxrRGV2ICpibGtkZXYgPSBjb250YWluZXJfb2YoeGVuZGV2LCBzdHJ1Y3Qg
WGVuQmxrRGV2LCB4ZW5kZXYpOwogCmRpZmYgLS1naXQgYS9ody9jaGFyL3hlbl9jb25zb2xlLmMg
Yi9ody9jaGFyL3hlbl9jb25zb2xlLmMKaW5kZXggNDRmNzIzNjM4Mi4uNDYwYWRjMWJhMSAxMDA2
NDQKLS0tIGEvaHcvY2hhci94ZW5fY29uc29sZS5jCisrKyBiL2h3L2NoYXIveGVuX2NvbnNvbGUu
YwpAQCAtMjYsNyArMjYsNyBAQAogI2luY2x1ZGUgInFhcGkvZXJyb3IuaCIKICNpbmNsdWRlICJo
dy9ody5oIgogI2luY2x1ZGUgImNoYXJkZXYvY2hhci1mZS5oIgotI2luY2x1ZGUgImh3L3hlbi94
ZW5fYmFja2VuZC5oIgorI2luY2x1ZGUgImh3L3hlbi94ZW4tbGVnYWN5LWJhY2tlbmQuaCIKIAog
I2luY2x1ZGUgPHhlbi9pby9jb25zb2xlLmg+CiAKQEAgLTM5LDcgKzM5LDcgQEAgc3RydWN0IGJ1
ZmZlciB7CiB9OwogCiBzdHJ1Y3QgWGVuQ29uc29sZSB7Ci0gICAgc3RydWN0IFhlbkRldmljZSAg
eGVuZGV2OyAgLyogbXVzdCBiZSBmaXJzdCAqLworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2Ug
IHhlbmRldjsgIC8qIG11c3QgYmUgZmlyc3QgKi8KICAgICBzdHJ1Y3QgYnVmZmVyICAgICBidWZm
ZXI7CiAgICAgY2hhciAgICAgICAgICAgICAgY29uc29sZVtYRU5fQlVGU0laRV07CiAgICAgaW50
ICAgICAgICAgICAgICAgcmluZ19yZWY7CkBAIC0xNzMsNyArMTczLDcgQEAgc3RhdGljIHZvaWQg
eGVuY29uc19zZW5kKHN0cnVjdCBYZW5Db25zb2xlICpjb24pCiAKIC8qIC0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICov
CiAKLXN0YXRpYyBpbnQgY29uX2luaXQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGlj
IGludCBjb25faW5pdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3Ry
dWN0IFhlbkNvbnNvbGUgKmNvbiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVjdCBYZW5Db25z
b2xlLCB4ZW5kZXYpOwogICAgIGNoYXIgKnR5cGUsICpkb20sIGxhYmVsWzMyXTsKQEAgLTIyMiw3
ICsyMjIsNyBAQCBvdXQ6CiAgICAgcmV0dXJuIHJldDsKIH0KIAotc3RhdGljIGludCBjb25faW5p
dGlhbGlzZShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50IGNvbl9pbml0aWFs
aXNlKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAgICBzdHJ1Y3QgWGVuQ29u
c29sZSAqY29uID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0IFhlbkNvbnNvbGUsIHhlbmRl
dik7CiAgICAgaW50IGxpbWl0OwpAQCAtMjU5LDcgKzI1OSw3IEBAIHN0YXRpYyBpbnQgY29uX2lu
aXRpYWxpc2Uoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICAgIHJldHVybiAwOwogfQogCi1z
dGF0aWMgdm9pZCBjb25fZGlzY29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0
aWMgdm9pZCBjb25fZGlzY29ubmVjdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7
CiAgICAgc3RydWN0IFhlbkNvbnNvbGUgKmNvbiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVj
dCBYZW5Db25zb2xlLCB4ZW5kZXYpOwogCkBAIC0yNzYsNyArMjc2LDcgQEAgc3RhdGljIHZvaWQg
Y29uX2Rpc2Nvbm5lY3Qoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICAgIH0KIH0KIAotc3Rh
dGljIHZvaWQgY29uX2V2ZW50KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lk
IGNvbl9ldmVudChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0
IFhlbkNvbnNvbGUgKmNvbiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVjdCBYZW5Db25zb2xl
LCB4ZW5kZXYpOwogCmRpZmYgLS1naXQgYS9ody9kaXNwbGF5L3hlbmZiLmMgYi9ody9kaXNwbGF5
L3hlbmZiLmMKaW5kZXggMDMzMGRjNmY2MS4uNjIwMmYxMTUwZSAxMDA2NDQKLS0tIGEvaHcvZGlz
cGxheS94ZW5mYi5jCisrKyBiL2h3L2Rpc3BsYXkveGVuZmIuYwpAQCAtMzAsNyArMzAsNyBAQAog
I2luY2x1ZGUgImh3L2h3LmgiCiAjaW5jbHVkZSAidWkvaW5wdXQuaCIKICNpbmNsdWRlICJ1aS9j
b25zb2xlLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisjaW5jbHVkZSAiaHcv
eGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogCiAjaW5jbHVkZSA8eGVuL2V2ZW50X2NoYW5uZWwu
aD4KICNpbmNsdWRlIDx4ZW4vaW8vZmJpZi5oPgpAQCAtNDYsNyArNDYsNyBAQAogLyogLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0gKi8KIAogc3RydWN0IGNvbW1vbiB7Ci0gICAgc3RydWN0IFhlbkRldmljZSAgeGVuZGV2
OyAgLyogbXVzdCBiZSBmaXJzdCAqLworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgIHhlbmRl
djsgIC8qIG11c3QgYmUgZmlyc3QgKi8KICAgICB2b2lkICAgICAgICAgICAgICAqcGFnZTsKIH07
CiAKQEAgLTM0MiwxNCArMzQyLDE0IEBAIHN0YXRpYyBRZW11SW5wdXRIYW5kbGVyIHhlbmZiX3Jl
bF9tb3VzZSA9IHsKICAgICAuc3luYyAgPSB4ZW5mYl9tb3VzZV9zeW5jLAogfTsKIAotc3RhdGlj
IGludCBpbnB1dF9pbml0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyBpbnQgaW5w
dXRfaW5pdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgeGVuc3RvcmVf
d3JpdGVfYmVfaW50KHhlbmRldiwgImZlYXR1cmUtYWJzLXBvaW50ZXIiLCAxKTsKICAgICB4ZW5z
dG9yZV93cml0ZV9iZV9pbnQoeGVuZGV2LCAiZmVhdHVyZS1yYXctcG9pbnRlciIsIDEpOwogICAg
IHJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IGlucHV0X2luaXRpYWxpc2Uoc3RydWN0IFhlbkRl
dmljZSAqeGVuZGV2KQorc3RhdGljIGludCBpbnB1dF9pbml0aWFsaXNlKHN0cnVjdCBYZW5MZWdh
Y3lEZXZpY2UgKnhlbmRldikKIHsKICAgICBzdHJ1Y3QgWGVuSW5wdXQgKmluID0gY29udGFpbmVy
X29mKHhlbmRldiwgc3RydWN0IFhlbklucHV0LCBjLnhlbmRldik7CiAgICAgaW50IHJjOwpAQCAt
MzYxLDcgKzM2MSw3IEBAIHN0YXRpYyBpbnQgaW5wdXRfaW5pdGlhbGlzZShzdHJ1Y3QgWGVuRGV2
aWNlICp4ZW5kZXYpCiAgICAgcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB2b2lkIGlucHV0X2Nvbm5l
Y3RlZChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgdm9pZCBpbnB1dF9jb25uZWN0
ZWQoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIHN0cnVjdCBYZW5JbnB1
dCAqaW4gPSBjb250YWluZXJfb2YoeGVuZGV2LCBzdHJ1Y3QgWGVuSW5wdXQsIGMueGVuZGV2KTsK
IApAQCAtMzk1LDcgKzM5NSw3IEBAIHN0YXRpYyB2b2lkIGlucHV0X2Nvbm5lY3RlZChzdHJ1Y3Qg
WGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgfQogfQogCi1zdGF0aWMgdm9pZCBpbnB1dF9kaXNjb25u
ZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lkIGlucHV0X2Rpc2Nvbm5l
Y3Qoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIHN0cnVjdCBYZW5JbnB1
dCAqaW4gPSBjb250YWluZXJfb2YoeGVuZGV2LCBzdHJ1Y3QgWGVuSW5wdXQsIGMueGVuZGV2KTsK
IApAQCAtNDEwLDcgKzQxMCw3IEBAIHN0YXRpYyB2b2lkIGlucHV0X2Rpc2Nvbm5lY3Qoc3RydWN0
IFhlbkRldmljZSAqeGVuZGV2KQogICAgIGNvbW1vbl91bmJpbmQoJmluLT5jKTsKIH0KIAotc3Rh
dGljIHZvaWQgaW5wdXRfZXZlbnQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIHZv
aWQgaW5wdXRfZXZlbnQoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIHN0
cnVjdCBYZW5JbnB1dCAqeGVuZmIgPSBjb250YWluZXJfb2YoeGVuZGV2LCBzdHJ1Y3QgWGVuSW5w
dXQsIGMueGVuZGV2KTsKICAgICBzdHJ1Y3QgeGVua2JkX3BhZ2UgKnBhZ2UgPSB4ZW5mYi0+Yy5w
YWdlOwpAQCAtODY3LDcgKzg2Nyw3IEBAIHN0YXRpYyB2b2lkIHhlbmZiX2hhbmRsZV9ldmVudHMo
c3RydWN0IFhlbkZCICp4ZW5mYikKICAgICBwYWdlLT5vdXRfY29ucyA9IGNvbnM7CiB9CiAKLXN0
YXRpYyBpbnQgZmJfaW5pdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50IGZi
X2luaXQoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogI2lmZGVmIFhFTkZCX1RZ
UEVfUkVTSVpFCiAgICAgeGVuc3RvcmVfd3JpdGVfYmVfaW50KHhlbmRldiwgImZlYXR1cmUtcmVz
aXplIiwgMSk7CkBAIC04NzUsNyArODc1LDcgQEAgc3RhdGljIGludCBmYl9pbml0KHN0cnVjdCBY
ZW5EZXZpY2UgKnhlbmRldikKICAgICByZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBmYl9pbml0
aWFsaXNlKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyBpbnQgZmJfaW5pdGlhbGlz
ZShzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0IFhlbkZCICpm
YiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVjdCBYZW5GQiwgYy54ZW5kZXYpOwogICAgIHN0
cnVjdCB4ZW5mYl9wYWdlICpmYl9wYWdlOwpAQCAtOTEyLDcgKzkxMiw3IEBAIHN0YXRpYyBpbnQg
ZmJfaW5pdGlhbGlzZShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgcmV0dXJuIDA7CiB9
CiAKLXN0YXRpYyB2b2lkIGZiX2Rpc2Nvbm5lY3Qoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQor
c3RhdGljIHZvaWQgZmJfZGlzY29ubmVjdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYp
CiB7CiAgICAgc3RydWN0IFhlbkZCICpmYiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVjdCBY
ZW5GQiwgYy54ZW5kZXYpOwogCkBAIC05MzUsNyArOTM1LDggQEAgc3RhdGljIHZvaWQgZmJfZGlz
Y29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgZmItPmJ1Z190cmlnZ2VyICAg
ID0gMDsKIH0KIAotc3RhdGljIHZvaWQgZmJfZnJvbnRlbmRfY2hhbmdlZChzdHJ1Y3QgWGVuRGV2
aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUpCitzdGF0aWMgdm9pZCBmYl9mcm9udGVuZF9j
aGFuZ2VkKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbm9kZSkKIHsKICAgICBzdHJ1Y3QgWGVuRkIgKmZi
ID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0IFhlbkZCLCBjLnhlbmRldik7CiAKQEAgLTk1
Myw3ICs5NTQsNyBAQCBzdGF0aWMgdm9pZCBmYl9mcm9udGVuZF9jaGFuZ2VkKHN0cnVjdCBYZW5E
ZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSkKICAgICB9CiB9CiAKLXN0YXRpYyB2b2lk
IGZiX2V2ZW50KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lkIGZiX2V2ZW50
KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAgICBzdHJ1Y3QgWGVuRkIgKnhl
bmZiID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0IFhlbkZCLCBjLnhlbmRldik7CiAKZGlm
ZiAtLWdpdCBhL2h3L2kzODYveGVuL3hlbi1odm0uYyBiL2h3L2kzODYveGVuL3hlbi1odm0uYwpp
bmRleCA5MzVhMzY3NmM4Li4xZDYzNzYzOWM3IDEwMDY0NAotLS0gYS9ody9pMzg2L3hlbi94ZW4t
aHZtLmMKKysrIGIvaHcvaTM4Ni94ZW4veGVuLWh2bS5jCkBAIC0xNiw3ICsxNiw3IEBACiAjaW5j
bHVkZSAiaHcvaTM4Ni9wYy5oIgogI2luY2x1ZGUgImh3L2kzODYvYXBpYy1tc2lkZWYuaCIKICNp
bmNsdWRlICJody94ZW4veGVuX2NvbW1vbi5oIgotI2luY2x1ZGUgImh3L3hlbi94ZW5fYmFja2Vu
ZC5oIgorI2luY2x1ZGUgImh3L3hlbi94ZW4tbGVnYWN5LWJhY2tlbmQuaCIKICNpbmNsdWRlICJx
YXBpL2Vycm9yLmgiCiAjaW5jbHVkZSAicWFwaS9xYXBpLWNvbW1hbmRzLW1pc2MuaCIKICNpbmNs
dWRlICJxZW11L2Vycm9yLXJlcG9ydC5oIgpkaWZmIC0tZ2l0IGEvaHcvaTM4Ni94ZW4veGVuLW1h
cGNhY2hlLmMgYi9ody9pMzg2L3hlbi94ZW4tbWFwY2FjaGUuYwppbmRleCA0ZTRmMDY5YTI0Li45
MTM0YTdiZmVmIDEwMDY0NAotLS0gYS9ody9pMzg2L3hlbi94ZW4tbWFwY2FjaGUuYworKysgYi9o
dy9pMzg2L3hlbi94ZW4tbWFwY2FjaGUuYwpAQCAtMTQsNyArMTQsNyBAQAogCiAjaW5jbHVkZSA8
c3lzL3Jlc291cmNlLmg+CiAKLSNpbmNsdWRlICJody94ZW4veGVuX2JhY2tlbmQuaCIKKyNpbmNs
dWRlICJody94ZW4veGVuLWxlZ2FjeS1iYWNrZW5kLmgiCiAjaW5jbHVkZSAicWVtdS9iaXRtYXAu
aCIKIAogI2luY2x1ZGUgPHhlbi9odm0vcGFyYW1zLmg+CmRpZmYgLS1naXQgYS9ody9pMzg2L3hl
bi94ZW5fcGxhdGZvcm0uYyBiL2h3L2kzODYveGVuL3hlbl9wbGF0Zm9ybS5jCmluZGV4IGRlYjdh
MGMzNzQuLjE2YWZiNTRmZWUgMTAwNjQ0Ci0tLSBhL2h3L2kzODYveGVuL3hlbl9wbGF0Zm9ybS5j
CisrKyBiL2h3L2kzODYveGVuL3hlbl9wbGF0Zm9ybS5jCkBAIC0zMCw3ICszMCw3IEBACiAjaW5j
bHVkZSAiaHcvcGNpL3BjaS5oIgogI2luY2x1ZGUgImh3L2lycS5oIgogI2luY2x1ZGUgImh3L3hl
bi94ZW5fY29tbW9uLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisjaW5jbHVk
ZSAiaHcveGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogI2luY2x1ZGUgInRyYWNlLmgiCiAjaW5j
bHVkZSAiZXhlYy9hZGRyZXNzLXNwYWNlcy5oIgogI2luY2x1ZGUgInN5c2VtdS9ibG9jay1iYWNr
ZW5kLmgiCmRpZmYgLS1naXQgYS9ody9uZXQveGVuX25pYy5jIGIvaHcvbmV0L3hlbl9uaWMuYwpp
bmRleCA0NmE4ZGJmYzkwLi4zN2NkYThlNGJlIDEwMDY0NAotLS0gYS9ody9uZXQveGVuX25pYy5j
CisrKyBiL2h3L25ldC94ZW5fbmljLmMKQEAgLTI4LDE0ICsyOCwxNCBAQAogI2luY2x1ZGUgIm5l
dC9uZXQuaCIKICNpbmNsdWRlICJuZXQvY2hlY2tzdW0uaCIKICNpbmNsdWRlICJuZXQvdXRpbC5o
IgotI2luY2x1ZGUgImh3L3hlbi94ZW5fYmFja2VuZC5oIgorI2luY2x1ZGUgImh3L3hlbi94ZW4t
bGVnYWN5LWJhY2tlbmQuaCIKIAogI2luY2x1ZGUgPHhlbi9pby9uZXRpZi5oPgogCiAvKiAtLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
ICovCiAKIHN0cnVjdCBYZW5OZXREZXYgewotICAgIHN0cnVjdCBYZW5EZXZpY2UgICAgICB4ZW5k
ZXY7ICAvKiBtdXN0IGJlIGZpcnN0ICovCisgICAgc3RydWN0IFhlbkxlZ2FjeURldmljZSAgICAg
IHhlbmRldjsgIC8qIG11c3QgYmUgZmlyc3QgKi8KICAgICBjaGFyICAgICAgICAgICAgICAgICAg
Km1hYzsKICAgICBpbnQgICAgICAgICAgICAgICAgICAgdHhfd29yazsKICAgICBpbnQgICAgICAg
ICAgICAgICAgICAgdHhfcmluZ19yZWY7CkBAIC0yNzYsNyArMjc2LDcgQEAgc3RhdGljIE5ldENs
aWVudEluZm8gbmV0X3hlbl9pbmZvID0gewogICAgIC5yZWNlaXZlID0gbmV0X3J4X3BhY2tldCwK
IH07CiAKLXN0YXRpYyBpbnQgbmV0X2luaXQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3Rh
dGljIGludCBuZXRfaW5pdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAg
c3RydWN0IFhlbk5ldERldiAqbmV0ZGV2ID0gY29udGFpbmVyX29mKHhlbmRldiwgc3RydWN0IFhl
bk5ldERldiwgeGVuZGV2KTsKIApAQCAtMzA4LDcgKzMwOCw3IEBAIHN0YXRpYyBpbnQgbmV0X2lu
aXQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICAgIHJldHVybiAwOwogfQogCi1zdGF0aWMg
aW50IG5ldF9jb25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyBpbnQgbmV0
X2Nvbm5lY3Qoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIHN0cnVjdCBY
ZW5OZXREZXYgKm5ldGRldiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVjdCBYZW5OZXREZXYs
IHhlbmRldik7CiAgICAgaW50IHJ4X2NvcHk7CkBAIC0zNjMsNyArMzYzLDcgQEAgc3RhdGljIGlu
dCBuZXRfY29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgcmV0dXJuIDA7CiB9
CiAKLXN0YXRpYyB2b2lkIG5ldF9kaXNjb25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikK
K3N0YXRpYyB2b2lkIG5ldF9kaXNjb25uZWN0KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRl
dikKIHsKICAgICBzdHJ1Y3QgWGVuTmV0RGV2ICpuZXRkZXYgPSBjb250YWluZXJfb2YoeGVuZGV2
LCBzdHJ1Y3QgWGVuTmV0RGV2LCB4ZW5kZXYpOwogCkBAIC0zNzksMTQgKzM3OSwxNCBAQCBzdGF0
aWMgdm9pZCBuZXRfZGlzY29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgfQog
fQogCi1zdGF0aWMgdm9pZCBuZXRfZXZlbnQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3Rh
dGljIHZvaWQgbmV0X2V2ZW50KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAg
ICBzdHJ1Y3QgWGVuTmV0RGV2ICpuZXRkZXYgPSBjb250YWluZXJfb2YoeGVuZGV2LCBzdHJ1Y3Qg
WGVuTmV0RGV2LCB4ZW5kZXYpOwogICAgIG5ldF90eF9wYWNrZXRzKG5ldGRldik7CiAgICAgcWVt
dV9mbHVzaF9xdWV1ZWRfcGFja2V0cyhxZW11X2dldF9xdWV1ZShuZXRkZXYtPm5pYykpOwogfQog
Ci1zdGF0aWMgaW50IG5ldF9mcmVlKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyBp
bnQgbmV0X2ZyZWUoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIHN0cnVj
dCBYZW5OZXREZXYgKm5ldGRldiA9IGNvbnRhaW5lcl9vZih4ZW5kZXYsIHN0cnVjdCBYZW5OZXRE
ZXYsIHhlbmRldik7CiAKZGlmZiAtLWdpdCBhL2h3L3VzYi94ZW4tdXNiLmMgYi9ody91c2IveGVu
LXVzYi5jCmluZGV4IDViMmUyMWVkMTguLjliMmRhNmU3NWQgMTAwNjQ0Ci0tLSBhL2h3L3VzYi94
ZW4tdXNiLmMKKysrIGIvaHcvdXNiL3hlbi11c2IuYwpAQCAtMjcsNyArMjcsNyBAQAogI2luY2x1
ZGUgInFlbXUvb3B0aW9uLmgiCiAjaW5jbHVkZSAiaHcvc3lzYnVzLmgiCiAjaW5jbHVkZSAiaHcv
dXNiLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisjaW5jbHVkZSAiaHcveGVu
L3hlbi1sZWdhY3ktYmFja2VuZC5oIgogI2luY2x1ZGUgIm1vbml0b3IvcWRldi5oIgogI2luY2x1
ZGUgInFhcGkvcW1wL3FkaWN0LmgiCiAjaW5jbHVkZSAicWFwaS9xbXAvcXN0cmluZy5oIgpAQCAt
OTksNyArOTksNyBAQCBzdHJ1Y3QgdXNiYmFja19ob3RwbHVnIHsKIH07CiAKIHN0cnVjdCB1c2Ji
YWNrX2luZm8gewotICAgIHN0cnVjdCBYZW5EZXZpY2UgICAgICAgICB4ZW5kZXY7ICAvKiBtdXN0
IGJlIGZpcnN0ICovCisgICAgc3RydWN0IFhlbkxlZ2FjeURldmljZSAgICAgICAgIHhlbmRldjsg
IC8qIG11c3QgYmUgZmlyc3QgKi8KICAgICBVU0JCdXMgICAgICAgICAgICAgICAgICAgYnVzOwog
ICAgIHZvaWQgICAgICAgICAgICAgICAgICAgICAqdXJiX3NyaW5nOwogICAgIHZvaWQgICAgICAg
ICAgICAgICAgICAgICAqY29ubl9zcmluZzsKQEAgLTE0Miw3ICsxNDIsNyBAQCBzdGF0aWMgaW50
IHVzYmJhY2tfZ250dGFiX21hcChzdHJ1Y3QgdXNiYmFja19yZXEgKnVzYmJhY2tfcmVxKQogICAg
IHVuc2lnbmVkIGludCBucl9zZWdzLCBpLCBwcm90OwogICAgIHVpbnQzMl90IHJlZltVU0JJRl9N
QVhfU0VHTUVOVFNfUEVSX1JFUVVFU1RdOwogICAgIHN0cnVjdCB1c2JiYWNrX2luZm8gKnVzYmlm
ID0gdXNiYmFja19yZXEtPnVzYmlmOwotICAgIHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiA9ICZ1
c2JpZi0+eGVuZGV2OworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiA9ICZ1c2Jp
Zi0+eGVuZGV2OwogICAgIHN0cnVjdCB1c2JpZl9yZXF1ZXN0X3NlZ21lbnQgKnNlZzsKICAgICB2
b2lkICphZGRyOwogCkBAIC0yMjAsNyArMjIwLDcgQEAgc3RhdGljIGludCB1c2JiYWNrX2dudHRh
Yl9tYXAoc3RydWN0IHVzYmJhY2tfcmVxICp1c2JiYWNrX3JlcSkKIAogc3RhdGljIGludCB1c2Ji
YWNrX2luaXRfcGFja2V0KHN0cnVjdCB1c2JiYWNrX3JlcSAqdXNiYmFja19yZXEpCiB7Ci0gICAg
c3RydWN0IFhlbkRldmljZSAqeGVuZGV2ID0gJnVzYmJhY2tfcmVxLT51c2JpZi0+eGVuZGV2Owor
ICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiA9ICZ1c2JiYWNrX3JlcS0+dXNiaWYt
PnhlbmRldjsKICAgICBVU0JQYWNrZXQgKnBhY2tldCA9ICZ1c2JiYWNrX3JlcS0+cGFja2V0Owog
ICAgIFVTQkRldmljZSAqZGV2ID0gdXNiYmFja19yZXEtPnN0dWItPmRldjsKICAgICBVU0JFbmRw
b2ludCAqZXA7CkBAIC0yNzksNyArMjc5LDcgQEAgc3RhdGljIHZvaWQgdXNiYmFja19kb19yZXNw
b25zZShzdHJ1Y3QgdXNiYmFja19yZXEgKnVzYmJhY2tfcmVxLCBpbnQzMl90IHN0YXR1cywKIHsK
ICAgICBzdHJ1Y3QgdXNiYmFja19pbmZvICp1c2JpZjsKICAgICBzdHJ1Y3QgdXNiaWZfdXJiX3Jl
c3BvbnNlICpyZXM7Ci0gICAgc3RydWN0IFhlbkRldmljZSAqeGVuZGV2OworICAgIHN0cnVjdCBY
ZW5MZWdhY3lEZXZpY2UgKnhlbmRldjsKICAgICB1bnNpZ25lZCBpbnQgbm90aWZ5OwogCiAgICAg
dXNiaWYgPSB1c2JiYWNrX3JlcS0+dXNiaWY7CkBAIC04MjQsNyArODI0LDcgQEAgc3RhdGljIHZv
aWQgdXNiYmFja19wcm9jZXNzX3BvcnQoc3RydWN0IHVzYmJhY2tfaW5mbyAqdXNiaWYsIHVuc2ln
bmVkIHBvcnQpCiAgICAgZ19mcmVlKGJ1c2lkKTsKIH0KIAotc3RhdGljIHZvaWQgdXNiYmFja19k
aXNjb25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyB2b2lkIHVzYmJhY2tf
ZGlzY29ubmVjdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0
IHVzYmJhY2tfaW5mbyAqdXNiaWY7CiAgICAgdW5zaWduZWQgaW50IGk7CkBAIC04NTMsNyArODUz
LDcgQEAgc3RhdGljIHZvaWQgdXNiYmFja19kaXNjb25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhl
bmRldikKICAgICBUUl9CVVMoeGVuZGV2LCAiZmluaXNoZWRcbiIpOwogfQogCi1zdGF0aWMgaW50
IHVzYmJhY2tfY29ubmVjdChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50IHVz
YmJhY2tfY29ubmVjdChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3Ry
dWN0IHVzYmJhY2tfaW5mbyAqdXNiaWY7CiAgICAgc3RydWN0IHVzYmlmX3VyYl9zcmluZyAqdXJi
X3NyaW5nOwpAQCAtOTA5LDcgKzkwOSw4IEBAIHN0YXRpYyBpbnQgdXNiYmFja19jb25uZWN0KHN0
cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKICAgICByZXR1cm4gMDsKIH0KIAotc3RhdGljIHZvaWQg
dXNiYmFja19iYWNrZW5kX2NoYW5nZWQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2LCBjb25zdCBj
aGFyICpub2RlKQorc3RhdGljIHZvaWQgdXNiYmFja19iYWNrZW5kX2NoYW5nZWQoc3RydWN0IFhl
bkxlZ2FjeURldmljZSAqeGVuZGV2LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgY29uc3QgY2hhciAqbm9kZSkKIHsKICAgICBzdHJ1Y3QgdXNiYmFja19pbmZvICp1c2JpZjsK
ICAgICB1bnNpZ25lZCBpbnQgaTsKQEAgLTkyMiw3ICs5MjMsNyBAQCBzdGF0aWMgdm9pZCB1c2Ji
YWNrX2JhY2tlbmRfY2hhbmdlZChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIg
Km5vZGUpCiAgICAgfQogfQogCi1zdGF0aWMgaW50IHVzYmJhY2tfaW5pdChzdHJ1Y3QgWGVuRGV2
aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50IHVzYmJhY2tfaW5pdChzdHJ1Y3QgWGVuTGVnYWN5RGV2
aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0IHVzYmJhY2tfaW5mbyAqdXNiaWY7CiAKQEAgLTEw
MDEsNyArMTAwMiw3IEBAIHN0YXRpYyBVU0JQb3J0T3BzIHhlbl91c2JfcG9ydF9vcHMgPSB7CiBz
dGF0aWMgVVNCQnVzT3BzIHhlbl91c2JfYnVzX29wcyA9IHsKIH07CiAKLXN0YXRpYyB2b2lkIHVz
YmJhY2tfYWxsb2Moc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIHZvaWQgdXNiYmFj
a19hbGxvYyhzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0IHVz
YmJhY2tfaW5mbyAqdXNiaWY7CiAgICAgVVNCUG9ydCAqcDsKQEAgLTEwMjcsNyArMTAyOCw3IEBA
IHN0YXRpYyB2b2lkIHVzYmJhY2tfYWxsb2Moc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICAg
IHhlbl9iZV9zZXRfbWF4X2dyYW50X3JlZnMoeGVuZGV2LCBtYXhfZ3JhbnRzKTsKIH0KIAotc3Rh
dGljIGludCB1c2JiYWNrX2ZyZWUoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIGlu
dCB1c2JiYWNrX2ZyZWUoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KQogewogICAgIHN0
cnVjdCB1c2JiYWNrX2luZm8gKnVzYmlmOwogICAgIHN0cnVjdCB1c2JiYWNrX3JlcSAqdXNiYmFj
a19yZXE7CkBAIC0xMDY2LDcgKzEwNjcsNyBAQCBzdGF0aWMgaW50IHVzYmJhY2tfZnJlZShzdHJ1
Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgICAgcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB2b2lkIHVz
YmJhY2tfZXZlbnQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIHZvaWQgdXNiYmFj
a19ldmVudChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgc3RydWN0IHVz
YmJhY2tfaW5mbyAqdXNiaWY7CiAKZGlmZiAtLWdpdCBhL2h3L3hlbi9NYWtlZmlsZS5vYmpzIGIv
aHcveGVuL01ha2VmaWxlLm9ianMKaW5kZXggOWVhNWM3MzQyMy4uM2Y2NGE0NDA1MSAxMDA2NDQK
LS0tIGEvaHcveGVuL01ha2VmaWxlLm9ianMKKysrIGIvaHcveGVuL01ha2VmaWxlLm9ianMKQEAg
LTEsNSArMSw1IEBACiAjIHhlbiBiYWNrZW5kIGRyaXZlciBzdXBwb3J0Ci1jb21tb24tb2JqLSQo
Q09ORklHX1hFTikgKz0geGVuX2JhY2tlbmQubyB4ZW5fZGV2Y29uZmlnLm8geGVuX3B2ZGV2Lm8g
eGVuLWNvbW1vbi5vCitjb21tb24tb2JqLSQoQ09ORklHX1hFTikgKz0geGVuLWxlZ2FjeS1iYWNr
ZW5kLm8geGVuX2RldmNvbmZpZy5vIHhlbl9wdmRldi5vIHhlbi1jb21tb24ubwogCiBvYmotJChD
T05GSUdfWEVOX1BDSV9QQVNTVEhST1VHSCkgKz0geGVuLWhvc3QtcGNpLWRldmljZS5vCiBvYmot
JChDT05GSUdfWEVOX1BDSV9QQVNTVEhST1VHSCkgKz0geGVuX3B0Lm8geGVuX3B0X2NvbmZpZ19p
bml0Lm8geGVuX3B0X2dyYXBoaWNzLm8geGVuX3B0X21zaS5vCmRpZmYgLS1naXQgYS9ody94ZW4v
eGVuLWNvbW1vbi5jIGIvaHcveGVuL3hlbi1jb21tb24uYwppbmRleCA2ZWMxNGM3M2NhLi5lZjEz
MGIyODUwIDEwMDY0NAotLS0gYS9ody94ZW4veGVuLWNvbW1vbi5jCisrKyBiL2h3L3hlbi94ZW4t
Y29tbW9uLmMKQEAgLTEwLDcgKzEwLDcgQEAKIAogI2luY2x1ZGUgInFlbXUvb3NkZXAuaCIKICNp
bmNsdWRlICJxZW11L2Vycm9yLXJlcG9ydC5oIgotI2luY2x1ZGUgImh3L3hlbi94ZW5fYmFja2Vu
ZC5oIgorI2luY2x1ZGUgImh3L3hlbi94ZW4tbGVnYWN5LWJhY2tlbmQuaCIKICNpbmNsdWRlICJj
aGFyZGV2L2NoYXIuaCIKICNpbmNsdWRlICJzeXNlbXUvYWNjZWwuaCIKICNpbmNsdWRlICJtaWdy
YXRpb24vbWlzYy5oIgpkaWZmIC0tZ2l0IGEvaHcveGVuL3hlbl9iYWNrZW5kLmMgYi9ody94ZW4v
eGVuLWxlZ2FjeS1iYWNrZW5kLmMKc2ltaWxhcml0eSBpbmRleCA4OSUKcmVuYW1lIGZyb20gaHcv
eGVuL3hlbl9iYWNrZW5kLmMKcmVuYW1lIHRvIGh3L3hlbi94ZW4tbGVnYWN5LWJhY2tlbmQuYwpp
bmRleCA5YThlODc3MWVjLi4yZDc0ODY2NWE2IDEwMDY0NAotLS0gYS9ody94ZW4veGVuX2JhY2tl
bmQuYworKysgYi9ody94ZW4veGVuLWxlZ2FjeS1iYWNrZW5kLmMKQEAgLTMwLDcgKzMwLDcgQEAK
ICNpbmNsdWRlICJody9ib2FyZHMuaCIKICNpbmNsdWRlICJxZW11L2xvZy5oIgogI2luY2x1ZGUg
InFhcGkvZXJyb3IuaCIKLSNpbmNsdWRlICJody94ZW4veGVuX2JhY2tlbmQuaCIKKyNpbmNsdWRl
ICJody94ZW4veGVuLWxlZ2FjeS1iYWNrZW5kLmgiCiAjaW5jbHVkZSAiaHcveGVuL3hlbl9wdmRl
di5oIgogI2luY2x1ZGUgIm1vbml0b3IvcWRldi5oIgogCkBAIC00OSw0MiArNDksNDcgQEAgY29u
c3QgY2hhciAqeGVuX3Byb3RvY29sOwogc3RhdGljIGJvb2wgeGVuX2ZlYXR1cmVfZ3JhbnRfY29w
eTsKIHN0YXRpYyBpbnQgZGVidWc7CiAKLWludCB4ZW5zdG9yZV93cml0ZV9iZV9zdHIoc3RydWN0
IFhlbkRldmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpub2RlLCBjb25zdCBjaGFyICp2YWwpCitp
bnQgeGVuc3RvcmVfd3JpdGVfYmVfc3RyKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwg
Y29uc3QgY2hhciAqbm9kZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAq
dmFsKQogewogICAgIHJldHVybiB4ZW5zdG9yZV93cml0ZV9zdHIoeGVuZGV2LT5iZSwgbm9kZSwg
dmFsKTsKIH0KIAotaW50IHhlbnN0b3JlX3dyaXRlX2JlX2ludChzdHJ1Y3QgWGVuRGV2aWNlICp4
ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUsIGludCBpdmFsKQoraW50IHhlbnN0b3JlX3dyaXRlX2Jl
X2ludChzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgIGludCBpdmFsKQogewogICAgIHJldHVybiB4ZW5zdG9y
ZV93cml0ZV9pbnQoeGVuZGV2LT5iZSwgbm9kZSwgaXZhbCk7CiB9CiAKLWludCB4ZW5zdG9yZV93
cml0ZV9iZV9pbnQ2NChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUs
IGludDY0X3QgaXZhbCkKK2ludCB4ZW5zdG9yZV93cml0ZV9iZV9pbnQ2NChzdHJ1Y3QgWGVuTGVn
YWN5RGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaW50NjRfdCBpdmFsKQogewogICAgIHJldHVybiB4ZW5zdG9yZV93cml0ZV9pbnQ2
NCh4ZW5kZXYtPmJlLCBub2RlLCBpdmFsKTsKIH0KIAotY2hhciAqeGVuc3RvcmVfcmVhZF9iZV9z
dHIoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpub2RlKQorY2hhciAqeGVu
c3RvcmVfcmVhZF9iZV9zdHIoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2LCBjb25zdCBj
aGFyICpub2RlKQogewogICAgIHJldHVybiB4ZW5zdG9yZV9yZWFkX3N0cih4ZW5kZXYtPmJlLCBu
b2RlKTsKIH0KIAotaW50IHhlbnN0b3JlX3JlYWRfYmVfaW50KHN0cnVjdCBYZW5EZXZpY2UgKnhl
bmRldiwgY29uc3QgY2hhciAqbm9kZSwgaW50ICppdmFsKQoraW50IHhlbnN0b3JlX3JlYWRfYmVf
aW50KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwKKyAg
ICAgICAgICAgICAgICAgICAgICAgICBpbnQgKml2YWwpCiB7CiAgICAgcmV0dXJuIHhlbnN0b3Jl
X3JlYWRfaW50KHhlbmRldi0+YmUsIG5vZGUsIGl2YWwpOwogfQogCi1jaGFyICp4ZW5zdG9yZV9y
ZWFkX2ZlX3N0cihzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUpCitj
aGFyICp4ZW5zdG9yZV9yZWFkX2ZlX3N0cihzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYs
IGNvbnN0IGNoYXIgKm5vZGUpCiB7CiAgICAgcmV0dXJuIHhlbnN0b3JlX3JlYWRfc3RyKHhlbmRl
di0+ZmUsIG5vZGUpOwogfQogCi1pbnQgeGVuc3RvcmVfcmVhZF9mZV9pbnQoc3RydWN0IFhlbkRl
dmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpub2RlLCBpbnQgKml2YWwpCitpbnQgeGVuc3RvcmVf
cmVhZF9mZV9pbnQoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpu
b2RlLAorICAgICAgICAgICAgICAgICAgICAgICAgIGludCAqaXZhbCkKIHsKICAgICByZXR1cm4g
eGVuc3RvcmVfcmVhZF9pbnQoeGVuZGV2LT5mZSwgbm9kZSwgaXZhbCk7CiB9CiAKLWludCB4ZW5z
dG9yZV9yZWFkX2ZlX3VpbnQ2NChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIg
Km5vZGUsCitpbnQgeGVuc3RvcmVfcmVhZF9mZV91aW50NjQoc3RydWN0IFhlbkxlZ2FjeURldmlj
ZSAqeGVuZGV2LCBjb25zdCBjaGFyICpub2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVpbnQ2NF90ICp1dmFsKQogewogICAgIHJldHVybiB4ZW5zdG9yZV9yZWFkX3VpbnQ2NCh4ZW5k
ZXYtPmZlLCBub2RlLCB1dmFsKTsKQEAgLTkyLDcgKzk3LDcgQEAgaW50IHhlbnN0b3JlX3JlYWRf
ZmVfdWludDY0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwKIAog
LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLSAqLwogCi1pbnQgeGVuX2JlX3NldF9zdGF0ZShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5k
ZXYsIGVudW0geGVuYnVzX3N0YXRlIHN0YXRlKQoraW50IHhlbl9iZV9zZXRfc3RhdGUoc3RydWN0
IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2LCBlbnVtIHhlbmJ1c19zdGF0ZSBzdGF0ZSkKIHsKICAg
ICBpbnQgcmM7CiAKQEAgLTEwNiw3ICsxMTEsNyBAQCBpbnQgeGVuX2JlX3NldF9zdGF0ZShzdHJ1
Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGVudW0geGVuYnVzX3N0YXRlIHN0YXRlKQogICAgIHJldHVy
biAwOwogfQogCi12b2lkIHhlbl9iZV9zZXRfbWF4X2dyYW50X3JlZnMoc3RydWN0IFhlbkRldmlj
ZSAqeGVuZGV2LAordm9pZCB4ZW5fYmVfc2V0X21heF9ncmFudF9yZWZzKHN0cnVjdCBYZW5MZWdh
Y3lEZXZpY2UgKnhlbmRldiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25l
ZCBpbnQgbnJfcmVmcykKIHsKICAgICBhc3NlcnQoeGVuZGV2LT5vcHMtPmZsYWdzICYgREVWT1BT
X0ZMQUdfTkVFRF9HTlRERVYpOwpAQCAtMTE3LDcgKzEyMiw3IEBAIHZvaWQgeGVuX2JlX3NldF9t
YXhfZ3JhbnRfcmVmcyhzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsCiAgICAgfQogfQogCi12b2lk
ICp4ZW5fYmVfbWFwX2dyYW50X3JlZnMoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2LCB1aW50MzJf
dCAqcmVmcywKK3ZvaWQgKnhlbl9iZV9tYXBfZ3JhbnRfcmVmcyhzdHJ1Y3QgWGVuTGVnYWN5RGV2
aWNlICp4ZW5kZXYsIHVpbnQzMl90ICpyZWZzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBucl9yZWZzLCBpbnQgcHJvdCkKIHsKICAgICB2b2lkICpwdHI7CkBAIC0x
MzUsNyArMTQwLDcgQEAgdm9pZCAqeGVuX2JlX21hcF9ncmFudF9yZWZzKHN0cnVjdCBYZW5EZXZp
Y2UgKnhlbmRldiwgdWludDMyX3QgKnJlZnMsCiAgICAgcmV0dXJuIHB0cjsKIH0KIAotdm9pZCB4
ZW5fYmVfdW5tYXBfZ3JhbnRfcmVmcyhzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIHZvaWQgKnB0
ciwKK3ZvaWQgeGVuX2JlX3VubWFwX2dyYW50X3JlZnMoc3RydWN0IFhlbkxlZ2FjeURldmljZSAq
eGVuZGV2LCB2b2lkICpwdHIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVk
IGludCBucl9yZWZzKQogewogICAgIGFzc2VydCh4ZW5kZXYtPm9wcy0+ZmxhZ3MgJiBERVZPUFNf
RkxBR19ORUVEX0dOVERFVik7CkBAIC0xNDYsNyArMTUxLDcgQEAgdm9pZCB4ZW5fYmVfdW5tYXBf
Z3JhbnRfcmVmcyhzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIHZvaWQgKnB0ciwKICAgICB9CiB9
CiAKLXN0YXRpYyBpbnQgY29tcGF0X2NvcHlfZ3JhbnRfcmVmcyhzdHJ1Y3QgWGVuRGV2aWNlICp4
ZW5kZXYsCitzdGF0aWMgaW50IGNvbXBhdF9jb3B5X2dyYW50X3JlZnMoc3RydWN0IFhlbkxlZ2Fj
eURldmljZSAqeGVuZGV2LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wg
dG9fZG9tYWluLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhlbkdyYW50Q29w
eVNlZ21lbnQgc2Vnc1tdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2ln
bmVkIGludCBucl9zZWdzKQpAQCAtMTk1LDcgKzIwMCw3IEBAIHN0YXRpYyBpbnQgY29tcGF0X2Nv
cHlfZ3JhbnRfcmVmcyhzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsCiAgICAgcmV0dXJuIDA7CiB9
CiAKLWludCB4ZW5fYmVfY29weV9ncmFudF9yZWZzKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwK
K2ludCB4ZW5fYmVfY29weV9ncmFudF9yZWZzKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRl
diwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgdG9fZG9tYWluLAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgWGVuR3JhbnRDb3B5U2VnbWVudCBzZWdzW10sCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbnJfc2VncykKQEAgLTI1OSwxMCArMjY0LDEx
IEBAIGludCB4ZW5fYmVfY29weV9ncmFudF9yZWZzKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwK
IC8qCiAgKiBnZXQgeGVuIGJhY2tlbmQgZGV2aWNlLCBhbGxvY2F0ZSBhIG5ldyBvbmUgaWYgaXQg
ZG9lc24ndCBleGlzdC4KICAqLwotc3RhdGljIHN0cnVjdCBYZW5EZXZpY2UgKnhlbl9iZV9nZXRf
eGVuZGV2KGNvbnN0IGNoYXIgKnR5cGUsIGludCBkb20sIGludCBkZXYsCi0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IFhlbkRldk9wcyAqb3BzKQorc3Rh
dGljIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbl9iZV9nZXRfeGVuZGV2KGNvbnN0IGNoYXIg
KnR5cGUsIGludCBkb20sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaW50IGRldiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzdHJ1Y3QgWGVuRGV2T3BzICpvcHMpCiB7Ci0gICAgc3RydWN0IFhlbkRldmlj
ZSAqeGVuZGV2OworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldjsKIAogICAgIHhl
bmRldiA9IHhlbl9wdl9maW5kX3hlbmRldih0eXBlLCBkb20sIGRldik7CiAgICAgaWYgKHhlbmRl
dikgewpAQCAtMzE0LDcgKzMyMCw4IEBAIHN0YXRpYyBzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5fYmVf
Z2V0X3hlbmRldihjb25zdCBjaGFyICp0eXBlLCBpbnQgZG9tLCBpbnQgZGV2LAogICogTm9kZSBz
cGVjaWZpZXMgdGhlIGNoYW5nZWQgZmllbGQuICBub2RlID0gTlVMTCBtZWFucwogICogdXBkYXRl
IGFsbCBmaWVsZHMgKHVzZWQgZm9yIGluaXRpYWxpemF0aW9uKS4KICAqLwotc3RhdGljIHZvaWQg
eGVuX2JlX2JhY2tlbmRfY2hhbmdlZChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNo
YXIgKm5vZGUpCitzdGF0aWMgdm9pZCB4ZW5fYmVfYmFja2VuZF9jaGFuZ2VkKHN0cnVjdCBYZW5M
ZWdhY3lEZXZpY2UgKnhlbmRldiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
Y29uc3QgY2hhciAqbm9kZSkKIHsKICAgICBpZiAobm9kZSA9PSBOVUxMICB8fCAgc3RyY21wKG5v
ZGUsICJvbmxpbmUiKSA9PSAwKSB7CiAgICAgICAgIGlmICh4ZW5zdG9yZV9yZWFkX2JlX2ludCh4
ZW5kZXYsICJvbmxpbmUiLCAmeGVuZGV2LT5vbmxpbmUpID09IC0xKSB7CkBAIC0zMzAsNyArMzM3
LDggQEAgc3RhdGljIHZvaWQgeGVuX2JlX2JhY2tlbmRfY2hhbmdlZChzdHJ1Y3QgWGVuRGV2aWNl
ICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUpCiAgICAgfQogfQogCi1zdGF0aWMgdm9pZCB4ZW5f
YmVfZnJvbnRlbmRfY2hhbmdlZChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIg
Km5vZGUpCitzdGF0aWMgdm9pZCB4ZW5fYmVfZnJvbnRlbmRfY2hhbmdlZChzdHJ1Y3QgWGVuTGVn
YWN5RGV2aWNlICp4ZW5kZXYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBj
b25zdCBjaGFyICpub2RlKQogewogICAgIGludCBmZV9zdGF0ZTsKIApAQCAtMzczLDcgKzM4MSw3
IEBAIHN0YXRpYyB2b2lkIHhlbl9iZV9mcm9udGVuZF9jaGFuZ2VkKHN0cnVjdCBYZW5EZXZpY2Ug
KnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSkKICAqIG9ubHkgYWZmZWN0cyB0aGUgeGVuZGV2LT5i
ZV9zdGF0ZSB2YXJpYWJsZSBhcyB4ZW5idXMgc2hvdWxkCiAgKiBhbHJlYWR5IGJlIHB1dCBpbnRv
IHRoYXQgc3RhdGUgYnkgeGVuZC4KICAqLwotc3RhdGljIGludCB4ZW5fYmVfdHJ5X3NldHVwKHN0
cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3N0YXRpYyBpbnQgeGVuX2JlX3RyeV9zZXR1cChzdHJ1
Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgY2hhciB0b2tlbltYRU5fQlVGU0la
RV07CiAgICAgaW50IGJlX3N0YXRlOwpAQCAtNDE3LDcgKzQyNSw3IEBAIHN0YXRpYyBpbnQgeGVu
X2JlX3RyeV9zZXR1cChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCiAgKgogICogR29lcyB0byBJ
bml0V2FpdCBvbiBzdWNjZXNzLgogICovCi1zdGF0aWMgaW50IHhlbl9iZV90cnlfaW5pdChzdHJ1
Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0aWMgaW50IHhlbl9iZV90cnlfaW5pdChzdHJ1Y3Qg
WGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgaW50IHJjID0gMDsKIApAQCAtNDQ2LDcg
KzQ1NCw3IEBAIHN0YXRpYyBpbnQgeGVuX2JlX3RyeV9pbml0KHN0cnVjdCBYZW5EZXZpY2UgKnhl
bmRldikKICAqCiAgKiBHb2VzIHRvIENvbm5lY3RlZCBvbiBzdWNjZXNzLgogICovCi1zdGF0aWMg
aW50IHhlbl9iZV90cnlfaW5pdGlhbGlzZShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitzdGF0
aWMgaW50IHhlbl9iZV90cnlfaW5pdGlhbGlzZShzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5k
ZXYpCiB7CiAgICAgaW50IHJjID0gMDsKIApAQCAtNDg3LDcgKzQ5NSw3IEBAIHN0YXRpYyBpbnQg
eGVuX2JlX3RyeV9pbml0aWFsaXNlKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKICAqIGZyb250
ZW5kIGJlaW5nIENvbm5lY3RlZC4gIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBjYWxsZWQgbW9yZQog
ICogdGhhbiBvbmNlIHNpbmNlIHRoZSBiYWNrZW5kIHN0YXRlIGlzIG5vdCBtb2RpZmllZC4KICAq
Lwotc3RhdGljIHZvaWQgeGVuX2JlX3RyeV9jb25uZWN0ZWQoc3RydWN0IFhlbkRldmljZSAqeGVu
ZGV2KQorc3RhdGljIHZvaWQgeGVuX2JlX3RyeV9jb25uZWN0ZWQoc3RydWN0IFhlbkxlZ2FjeURl
dmljZSAqeGVuZGV2KQogewogICAgIGlmICgheGVuZGV2LT5vcHMtPmNvbm5lY3RlZCkgewogICAg
ICAgICByZXR1cm47CkBAIC01MTAsNyArNTE4LDggQEAgc3RhdGljIHZvaWQgeGVuX2JlX3RyeV9j
b25uZWN0ZWQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQogICoKICAqIEdvZXMgdG8gQ2xvc2Vk
IHdoZW4gZG9uZS4KICAqLwotc3RhdGljIHZvaWQgeGVuX2JlX2Rpc2Nvbm5lY3Qoc3RydWN0IFhl
bkRldmljZSAqeGVuZGV2LCBlbnVtIHhlbmJ1c19zdGF0ZSBzdGF0ZSkKK3N0YXRpYyB2b2lkIHhl
bl9iZV9kaXNjb25uZWN0KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGVudW0geGVuYnVzX3N0YXRlIHN0YXRlKQogewogICAgIGlm
ICh4ZW5kZXYtPmJlX3N0YXRlICE9IFhlbmJ1c1N0YXRlQ2xvc2luZyAmJgogICAgICAgICB4ZW5k
ZXYtPmJlX3N0YXRlICE9IFhlbmJ1c1N0YXRlQ2xvc2VkICAmJgpAQCAtNTI5LDcgKzUzOCw3IEBA
IHN0YXRpYyB2b2lkIHhlbl9iZV9kaXNjb25uZWN0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwg
ZW51bSB4ZW5idXNfc3RhdGUgc3RhdGUpCiAvKgogICogVHJ5IHRvIHJlc2V0IHhlbmRldiwgZm9y
IHJlY29ubmVjdGlvbiBieSBhbm90aGVyIGZyb250ZW5kIGluc3RhbmNlLgogICovCi1zdGF0aWMg
aW50IHhlbl9iZV90cnlfcmVzZXQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQorc3RhdGljIGlu
dCB4ZW5fYmVfdHJ5X3Jlc2V0KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAg
ICBpZiAoeGVuZGV2LT5mZV9zdGF0ZSAhPSBYZW5idXNTdGF0ZUluaXRpYWxpc2luZykgewogICAg
ICAgICByZXR1cm4gLTE7CkBAIC01NDMsNyArNTUyLDcgQEAgc3RhdGljIGludCB4ZW5fYmVfdHJ5
X3Jlc2V0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKIC8qCiAgKiBzdGF0ZSBjaGFuZ2UgZGlz
cGF0Y2hlciBmdW5jdGlvbgogICovCi12b2lkIHhlbl9iZV9jaGVja19zdGF0ZShzdHJ1Y3QgWGVu
RGV2aWNlICp4ZW5kZXYpCit2b2lkIHhlbl9iZV9jaGVja19zdGF0ZShzdHJ1Y3QgWGVuTGVnYWN5
RGV2aWNlICp4ZW5kZXYpCiB7CiAgICAgaW50IHJjID0gMDsKIApAQCAtNTg3LDcgKzU5Niw3IEBA
IHZvaWQgeGVuX2JlX2NoZWNrX3N0YXRlKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKIAogc3Rh
dGljIGludCB4ZW5zdG9yZV9zY2FuKGNvbnN0IGNoYXIgKnR5cGUsIGludCBkb20sIHN0cnVjdCBY
ZW5EZXZPcHMgKm9wcykKIHsKLSAgICBzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXY7CisgICAgc3Ry
dWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2OwogICAgIGNoYXIgcGF0aFtYRU5fQlVGU0laRV0s
IHRva2VuW1hFTl9CVUZTSVpFXTsKICAgICBjaGFyICoqZGV2ID0gTlVMTDsKICAgICB1bnNpZ25l
ZCBpbnQgY2RldiwgajsKQEAgLTYyMCw3ICs2MjksNyBAQCBzdGF0aWMgaW50IHhlbnN0b3JlX3Nj
YW4oY29uc3QgY2hhciAqdHlwZSwgaW50IGRvbSwgc3RydWN0IFhlbkRldk9wcyAqb3BzKQogdm9p
ZCB4ZW5zdG9yZV91cGRhdGVfYmUoY2hhciAqd2F0Y2gsIGNoYXIgKnR5cGUsIGludCBkb20sCiAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgWGVuRGV2T3BzICpvcHMpCiB7Ci0gICAgc3Ry
dWN0IFhlbkRldmljZSAqeGVuZGV2OworICAgIHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRl
djsKICAgICBjaGFyIHBhdGhbWEVOX0JVRlNJWkVdLCAqYmVwYXRoOwogICAgIHVuc2lnbmVkIGlu
dCBsZW4sIGRldjsKIApAQCAtNjUxLDcgKzY2MCw3IEBAIHZvaWQgeGVuc3RvcmVfdXBkYXRlX2Jl
KGNoYXIgKndhdGNoLCBjaGFyICp0eXBlLCBpbnQgZG9tLAogICAgIH0KIH0KIAotdm9pZCB4ZW5z
dG9yZV91cGRhdGVfZmUoY2hhciAqd2F0Y2gsIHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKK3Zv
aWQgeGVuc3RvcmVfdXBkYXRlX2ZlKGNoYXIgKndhdGNoLCBzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNl
ICp4ZW5kZXYpCiB7CiAgICAgY2hhciAqbm9kZTsKICAgICB1bnNpZ25lZCBpbnQgbGVuOwpAQCAt
NzUzLDcgKzc2Miw3IEBAIHZvaWQgeGVuX2JlX3JlZ2lzdGVyX2NvbW1vbih2b2lkKQogI2VuZGlm
CiB9CiAKLWludCB4ZW5fYmVfYmluZF9ldnRjaG4oc3RydWN0IFhlbkRldmljZSAqeGVuZGV2KQor
aW50IHhlbl9iZV9iaW5kX2V2dGNobihzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpCiB7
CiAgICAgaWYgKHhlbmRldi0+bG9jYWxfcG9ydCAhPSAtMSkgewogICAgICAgICByZXR1cm4gMDsK
QEAgLTc4OSw3ICs3OTgsNyBAQCBzdGF0aWMgY29uc3QgVHlwZUluZm8geGVuZGV2X3R5cGVfaW5m
byA9IHsKICAgICAubmFtZSAgICAgICAgICA9IFRZUEVfWEVOQkFDS0VORCwKICAgICAucGFyZW50
ICAgICAgICA9IFRZUEVfWEVOU1lTREVWLAogICAgIC5jbGFzc19pbml0ICAgID0geGVuZGV2X2Ns
YXNzX2luaXQsCi0gICAgLmluc3RhbmNlX3NpemUgPSBzaXplb2Yoc3RydWN0IFhlbkRldmljZSks
CisgICAgLmluc3RhbmNlX3NpemUgPSBzaXplb2Yoc3RydWN0IFhlbkxlZ2FjeURldmljZSksCiB9
OwogCiBzdGF0aWMgdm9pZCB4ZW5fc3lzYnVzX2NsYXNzX2luaXQoT2JqZWN0Q2xhc3MgKmtsYXNz
LCB2b2lkICpkYXRhKQpkaWZmIC0tZ2l0IGEvaHcveGVuL3hlbl9kZXZjb25maWcuYyBiL2h3L3hl
bi94ZW5fZGV2Y29uZmlnLmMKaW5kZXggYWViYzE5YmQ3MS4uMWIzMGJkNzY5MSAxMDA2NDQKLS0t
IGEvaHcveGVuL3hlbl9kZXZjb25maWcuYworKysgYi9ody94ZW4veGVuX2RldmNvbmZpZy5jCkBA
IC0xLDUgKzEsNSBAQAogI2luY2x1ZGUgInFlbXUvb3NkZXAuaCIKLSNpbmNsdWRlICJody94ZW4v
eGVuX2JhY2tlbmQuaCIKKyNpbmNsdWRlICJody94ZW4veGVuLWxlZ2FjeS1iYWNrZW5kLmgiCiAj
aW5jbHVkZSAicWVtdS9vcHRpb24uaCIKICNpbmNsdWRlICJzeXNlbXUvYmxvY2tkZXYuaCIKIApk
aWZmIC0tZ2l0IGEvaHcveGVuL3hlbl9wdC5jIGIvaHcveGVuL3hlbl9wdC5jCmluZGV4IGYxZjNh
MzcyN2MuLmIyMGJmM2E0NTMgMTAwNjQ0Ci0tLSBhL2h3L3hlbi94ZW5fcHQuYworKysgYi9ody94
ZW4veGVuX3B0LmMKQEAgLTU5LDcgKzU5LDcgQEAKICNpbmNsdWRlICJody9wY2kvcGNpLmgiCiAj
aW5jbHVkZSAiaHcveGVuL3hlbi5oIgogI2luY2x1ZGUgImh3L2kzODYvcGMuaCIKLSNpbmNsdWRl
ICJody94ZW4veGVuX2JhY2tlbmQuaCIKKyNpbmNsdWRlICJody94ZW4veGVuLWxlZ2FjeS1iYWNr
ZW5kLmgiCiAjaW5jbHVkZSAieGVuX3B0LmgiCiAjaW5jbHVkZSAicWVtdS9yYW5nZS5oIgogI2lu
Y2x1ZGUgImV4ZWMvYWRkcmVzcy1zcGFjZXMuaCIKZGlmZiAtLWdpdCBhL2h3L3hlbi94ZW5fcHRf
Y29uZmlnX2luaXQuYyBiL2h3L3hlbi94ZW5fcHRfY29uZmlnX2luaXQuYwppbmRleCA0N2Y5MDEw
Yzc1Li44MTExMjA0OWI2IDEwMDY0NAotLS0gYS9ody94ZW4veGVuX3B0X2NvbmZpZ19pbml0LmMK
KysrIGIvaHcveGVuL3hlbl9wdF9jb25maWdfaW5pdC5jCkBAIC0xNSw3ICsxNSw3IEBACiAjaW5j
bHVkZSAicWVtdS9vc2RlcC5oIgogI2luY2x1ZGUgInFhcGkvZXJyb3IuaCIKICNpbmNsdWRlICJx
ZW11L3RpbWVyLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisjaW5jbHVkZSAi
aHcveGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogI2luY2x1ZGUgInhlbl9wdC5oIgogCiAjZGVm
aW5lIFhFTl9QVF9NRVJHRV9WQUxVRSh2YWx1ZSwgZGF0YSwgdmFsX21hc2spIFwKZGlmZiAtLWdp
dCBhL2h3L3hlbi94ZW5fcHRfZ3JhcGhpY3MuYyBiL2h3L3hlbi94ZW5fcHRfZ3JhcGhpY3MuYwpp
bmRleCAxMzVjOGRmMWU3Li4xMzBjYzZjYmYwIDEwMDY0NAotLS0gYS9ody94ZW4veGVuX3B0X2dy
YXBoaWNzLmMKKysrIGIvaHcveGVuL3hlbl9wdF9ncmFwaGljcy5jCkBAIC01LDcgKzUsNyBAQAog
I2luY2x1ZGUgInFhcGkvZXJyb3IuaCIKICNpbmNsdWRlICJ4ZW5fcHQuaCIKICNpbmNsdWRlICJ4
ZW4taG9zdC1wY2ktZGV2aWNlLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisj
aW5jbHVkZSAiaHcveGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogCiBzdGF0aWMgdW5zaWduZWQg
bG9uZyBpZ2RfZ3Vlc3Rfb3ByZWdpb247CiBzdGF0aWMgdW5zaWduZWQgbG9uZyBpZ2RfaG9zdF9v
cHJlZ2lvbjsKZGlmZiAtLWdpdCBhL2h3L3hlbi94ZW5fcHRfbXNpLmMgYi9ody94ZW4veGVuX3B0
X21zaS5jCmluZGV4IGNjNTE0ZjkxNTcuLmZiNGI4ODdiOTIgMTAwNjQ0Ci0tLSBhL2h3L3hlbi94
ZW5fcHRfbXNpLmMKKysrIGIvaHcveGVuL3hlbl9wdF9tc2kuYwpAQCAtMTEsNyArMTEsNyBAQAog
CiAjaW5jbHVkZSAicWVtdS9vc2RlcC5oIgogCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5k
LmgiCisjaW5jbHVkZSAiaHcveGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogI2luY2x1ZGUgInhl
bl9wdC5oIgogI2luY2x1ZGUgImh3L2kzODYvYXBpYy1tc2lkZWYuaCIKIApkaWZmIC0tZ2l0IGEv
aHcveGVuL3hlbl9wdmRldi5jIGIvaHcveGVuL3hlbl9wdmRldi5jCmluZGV4IGFlZDc4M2U4NDQu
LjYxZGUwOTEwMDIgMTAwNjQ0Ci0tLSBhL2h3L3hlbi94ZW5fcHZkZXYuYworKysgYi9ody94ZW4v
eGVuX3B2ZGV2LmMKQEAgLTIwLDcgKzIwLDcgQEAKICNpbmNsdWRlICJxZW11L29zZGVwLmgiCiAj
aW5jbHVkZSAicWVtdS9sb2cuaCIKICNpbmNsdWRlICJody9xZGV2LWNvcmUuaCIKLSNpbmNsdWRl
ICJody94ZW4veGVuX2JhY2tlbmQuaCIKKyNpbmNsdWRlICJody94ZW4veGVuLWxlZ2FjeS1iYWNr
ZW5kLmgiCiAjaW5jbHVkZSAiaHcveGVuL3hlbl9wdmRldi5oIgogCiAvKiBwcml2YXRlICovCkBA
IC0zNCw3ICszNCw3IEBAIHN0cnVjdCB4c19kaXJzIHsKIHN0YXRpYyBRVEFJTFFfSEVBRCh4c19k
aXJzX2hlYWQsIHhzX2RpcnMpIHhzX2NsZWFudXAgPQogICAgIFFUQUlMUV9IRUFEX0lOSVRJQUxJ
WkVSKHhzX2NsZWFudXApOwogCi1zdGF0aWMgUVRBSUxRX0hFQUQoWGVuRGV2aWNlSGVhZCwgWGVu
RGV2aWNlKSB4ZW5kZXZzID0KK3N0YXRpYyBRVEFJTFFfSEVBRChYZW5MZWdhY3lEZXZpY2VIZWFk
LCBYZW5MZWdhY3lEZXZpY2UpIHhlbmRldnMgPQogICAgIFFUQUlMUV9IRUFEX0lOSVRJQUxJWkVS
KHhlbmRldnMpOwogCiAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkBAIC0xOTUsNyArMTk1LDcgQEAgY29uc3QgY2hhciAq
eGVuYnVzX3N0cnN0YXRlKGVudW0geGVuYnVzX3N0YXRlIHN0YXRlKQogICogIDIgPT0gbm9pc3kg
ZGVidWcgbWVzc2FnZXMgKGxvZ2ZpbGUgb25seSkuCiAgKiAgMyA9PSB3aWxsIGZsb29kIHlvdXIg
bG9nIChsb2dmaWxlIG9ubHkpLgogICovCi12b2lkIHhlbl9wdl9wcmludGYoc3RydWN0IFhlbkRl
dmljZSAqeGVuZGV2LCBpbnQgbXNnX2xldmVsLAordm9pZCB4ZW5fcHZfcHJpbnRmKHN0cnVjdCBY
ZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwgaW50IG1zZ19sZXZlbCwKICAgICAgICAgICAgICAgICAg
ICBjb25zdCBjaGFyICpmbXQsIC4uLikKIHsKICAgICB2YV9saXN0IGFyZ3M7CkBAIC0yMzAsNyAr
MjMwLDcgQEAgdm9pZCB4ZW5fcHZfcHJpbnRmKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwgaW50
IG1zZ19sZXZlbCwKIAogdm9pZCB4ZW5fcHZfZXZ0Y2huX2V2ZW50KHZvaWQgKm9wYXF1ZSkKIHsK
LSAgICBzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYgPSBvcGFxdWU7CisgICAgc3RydWN0IFhlbkxl
Z2FjeURldmljZSAqeGVuZGV2ID0gb3BhcXVlOwogICAgIGV2dGNobl9wb3J0X3QgcG9ydDsKIAog
ICAgIHBvcnQgPSB4ZW5ldnRjaG5fcGVuZGluZyh4ZW5kZXYtPmV2dGNobmRldik7CkBAIC0yNDcs
NyArMjQ3LDcgQEAgdm9pZCB4ZW5fcHZfZXZ0Y2huX2V2ZW50KHZvaWQgKm9wYXF1ZSkKICAgICB9
CiB9CiAKLXZvaWQgeGVuX3B2X3VuYmluZF9ldnRjaG4oc3RydWN0IFhlbkRldmljZSAqeGVuZGV2
KQordm9pZCB4ZW5fcHZfdW5iaW5kX2V2dGNobihzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5k
ZXYpCiB7CiAgICAgaWYgKHhlbmRldi0+bG9jYWxfcG9ydCA9PSAtMSkgewogICAgICAgICByZXR1
cm47CkBAIC0yNTgsMTYgKzI1OCwxNiBAQCB2b2lkIHhlbl9wdl91bmJpbmRfZXZ0Y2huKHN0cnVj
dCBYZW5EZXZpY2UgKnhlbmRldikKICAgICB4ZW5kZXYtPmxvY2FsX3BvcnQgPSAtMTsKIH0KIAot
aW50IHhlbl9wdl9zZW5kX25vdGlmeShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpCitpbnQgeGVu
X3B2X3NlbmRfbm90aWZ5KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldikKIHsKICAgICBy
ZXR1cm4geGVuZXZ0Y2huX25vdGlmeSh4ZW5kZXYtPmV2dGNobmRldiwgeGVuZGV2LT5sb2NhbF9w
b3J0KTsKIH0KIAogLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogCi1zdHJ1Y3QgWGVuRGV2aWNlICp4ZW5fcHZfZmluZF94
ZW5kZXYoY29uc3QgY2hhciAqdHlwZSwgaW50IGRvbSwgaW50IGRldikKK3N0cnVjdCBYZW5MZWdh
Y3lEZXZpY2UgKnhlbl9wdl9maW5kX3hlbmRldihjb25zdCBjaGFyICp0eXBlLCBpbnQgZG9tLCBp
bnQgZGV2KQogewotICAgIHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldjsKKyAgICBzdHJ1Y3QgWGVu
TGVnYWN5RGV2aWNlICp4ZW5kZXY7CiAKICAgICBRVEFJTFFfRk9SRUFDSCh4ZW5kZXYsICZ4ZW5k
ZXZzLCBuZXh0KSB7CiAgICAgICAgIGlmICh4ZW5kZXYtPmRvbSAhPSBkb20pIHsKQEAgLTI4Nyw3
ICsyODcsNyBAQCBzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5fcHZfZmluZF94ZW5kZXYoY29uc3QgY2hh
ciAqdHlwZSwgaW50IGRvbSwgaW50IGRldikKIC8qCiAgKiByZWxlYXNlIHhlbiBiYWNrZW5kIGRl
dmljZS4KICAqLwotdm9pZCB4ZW5fcHZfZGVsX3hlbmRldihzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5k
ZXYpCit2b2lkIHhlbl9wdl9kZWxfeGVuZGV2KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRl
dikKIHsKICAgICBpZiAoeGVuZGV2LT5vcHMtPmZyZWUpIHsKICAgICAgICAgeGVuZGV2LT5vcHMt
PmZyZWUoeGVuZGV2KTsKQEAgLTMxMiw3ICszMTIsNyBAQCB2b2lkIHhlbl9wdl9kZWxfeGVuZGV2
KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldikKICAgICBxZGV2X3VucGx1ZygmeGVuZGV2LT5xZGV2
LCBOVUxMKTsKIH0KIAotdm9pZCB4ZW5fcHZfaW5zZXJ0X3hlbmRldihzdHJ1Y3QgWGVuRGV2aWNl
ICp4ZW5kZXYpCit2b2lkIHhlbl9wdl9pbnNlcnRfeGVuZGV2KHN0cnVjdCBYZW5MZWdhY3lEZXZp
Y2UgKnhlbmRldikKIHsKICAgICBRVEFJTFFfSU5TRVJUX1RBSUwoJnhlbmRldnMsIHhlbmRldiwg
bmV4dCk7CiB9CmRpZmYgLS1naXQgYS9ody94ZW5wdi94ZW5fZG9tYWluYnVpbGQuYyBiL2h3L3hl
bnB2L3hlbl9kb21haW5idWlsZC5jCmluZGV4IDE4OGFjYWNhMTYuLmRlYjI4Y2Y1OTYgMTAwNjQ0
Ci0tLSBhL2h3L3hlbnB2L3hlbl9kb21haW5idWlsZC5jCisrKyBiL2h3L3hlbnB2L3hlbl9kb21h
aW5idWlsZC5jCkBAIC0xLDYgKzEsNiBAQAogI2luY2x1ZGUgInFlbXUvb3NkZXAuaCIKICNpbmNs
dWRlICJxZW11L3VuaXRzLmgiCi0jaW5jbHVkZSAiaHcveGVuL3hlbl9iYWNrZW5kLmgiCisjaW5j
bHVkZSAiaHcveGVuL3hlbi1sZWdhY3ktYmFja2VuZC5oIgogI2luY2x1ZGUgInhlbl9kb21haW5i
dWlsZC5oIgogI2luY2x1ZGUgInFlbXUvdGltZXIuaCIKICNpbmNsdWRlICJxZW11L2xvZy5oIgpk
aWZmIC0tZ2l0IGEvaHcveGVucHYveGVuX21hY2hpbmVfcHYuYyBiL2h3L3hlbnB2L3hlbl9tYWNo
aW5lX3B2LmMKaW5kZXggNDRkNjdiODdjNC4uOGM4NmZiNzAzMSAxMDA2NDQKLS0tIGEvaHcveGVu
cHYveGVuX21hY2hpbmVfcHYuYworKysgYi9ody94ZW5wdi94ZW5fbWFjaGluZV9wdi5jCkBAIC0y
Niw3ICsyNiw3IEBACiAjaW5jbHVkZSAicWVtdS9lcnJvci1yZXBvcnQuaCIKICNpbmNsdWRlICJo
dy9ody5oIgogI2luY2x1ZGUgImh3L2JvYXJkcy5oIgotI2luY2x1ZGUgImh3L3hlbi94ZW5fYmFj
a2VuZC5oIgorI2luY2x1ZGUgImh3L3hlbi94ZW4tbGVnYWN5LWJhY2tlbmQuaCIKICNpbmNsdWRl
ICJ4ZW5fZG9tYWluYnVpbGQuaCIKICNpbmNsdWRlICJzeXNlbXUvYmxvY2stYmFja2VuZC5oIgog
CmRpZmYgLS1naXQgYS9pbmNsdWRlL2h3L3hlbi94ZW5fYmFja2VuZC5oIGIvaW5jbHVkZS9ody94
ZW4veGVuLWxlZ2FjeS1iYWNrZW5kLmgKc2ltaWxhcml0eSBpbmRleCA2MSUKcmVuYW1lIGZyb20g
aW5jbHVkZS9ody94ZW4veGVuX2JhY2tlbmQuaApyZW5hbWUgdG8gaW5jbHVkZS9ody94ZW4veGVu
LWxlZ2FjeS1iYWNrZW5kLmgKaW5kZXggOWMxN2ZkZDg1ZC4uMjBjYjQ3YjViZiAxMDA2NDQKLS0t
IGEvaW5jbHVkZS9ody94ZW4veGVuX2JhY2tlbmQuaAorKysgYi9pbmNsdWRlL2h3L3hlbi94ZW4t
bGVnYWN5LWJhY2tlbmQuaApAQCAtMTEsNyArMTEsNyBAQAogI2RlZmluZSBUWVBFX1hFTkJBQ0tF
TkQgInhlbi1iYWNrZW5kIgogCiAjZGVmaW5lIFhFTkJBQ0tFTkRfREVWSUNFKG9iaikgXAotICAg
IE9CSkVDVF9DSEVDSyhYZW5EZXZpY2UsIChvYmopLCBUWVBFX1hFTkJBQ0tFTkQpCisgICAgT0JK
RUNUX0NIRUNLKFhlbkxlZ2FjeURldmljZSwgKG9iaiksIFRZUEVfWEVOQkFDS0VORCkKIAogLyog
dmFyaWFibGVzICovCiBleHRlcm4gc3RydWN0IHhzX2hhbmRsZSAqeGVuc3RvcmU7CkBAIC0yMCwz
MiArMjAsMzcgQEAgZXh0ZXJuIERldmljZVN0YXRlICp4ZW5fc3lzZGV2OwogZXh0ZXJuIEJ1c1N0
YXRlICp4ZW5fc3lzYnVzOwogCiBpbnQgeGVuc3RvcmVfbWtkaXIoY2hhciAqcGF0aCwgaW50IHAp
OwotaW50IHhlbnN0b3JlX3dyaXRlX2JlX3N0cihzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNv
bnN0IGNoYXIgKm5vZGUsIGNvbnN0IGNoYXIgKnZhbCk7Ci1pbnQgeGVuc3RvcmVfd3JpdGVfYmVf
aW50KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwgaW50IGl2YWwp
OwotaW50IHhlbnN0b3JlX3dyaXRlX2JlX2ludDY0KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwg
Y29uc3QgY2hhciAqbm9kZSwgaW50NjRfdCBpdmFsKTsKLWNoYXIgKnhlbnN0b3JlX3JlYWRfYmVf
c3RyKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSk7Ci1pbnQgeGVu
c3RvcmVfcmVhZF9iZV9pbnQoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpu
b2RlLCBpbnQgKml2YWwpOwotdm9pZCB4ZW5zdG9yZV91cGRhdGVfZmUoY2hhciAqd2F0Y2gsIHN0
cnVjdCBYZW5EZXZpY2UgKnhlbmRldik7CitpbnQgeGVuc3RvcmVfd3JpdGVfYmVfc3RyKHN0cnVj
dCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3QgY2hhciAqdmFsKTsKK2ludCB4ZW5zdG9yZV93cml0ZV9iZV9p
bnQoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpub2RlLAorICAg
ICAgICAgICAgICAgICAgICAgICAgICBpbnQgaXZhbCk7CitpbnQgeGVuc3RvcmVfd3JpdGVfYmVf
aW50NjQoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2LCBjb25zdCBjaGFyICpub2RlLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludDY0X3QgaXZhbCk7CitjaGFyICp4ZW5zdG9y
ZV9yZWFkX2JlX3N0cihzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIg
Km5vZGUpOworaW50IHhlbnN0b3JlX3JlYWRfYmVfaW50KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2Ug
KnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICBpbnQg
Kml2YWwpOwordm9pZCB4ZW5zdG9yZV91cGRhdGVfZmUoY2hhciAqd2F0Y2gsIHN0cnVjdCBYZW5M
ZWdhY3lEZXZpY2UgKnhlbmRldik7CiB2b2lkIHhlbnN0b3JlX3VwZGF0ZV9iZShjaGFyICp3YXRj
aCwgY2hhciAqdHlwZSwgaW50IGRvbSwKICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBY
ZW5EZXZPcHMgKm9wcyk7Ci1jaGFyICp4ZW5zdG9yZV9yZWFkX2ZlX3N0cihzdHJ1Y3QgWGVuRGV2
aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUpOwotaW50IHhlbnN0b3JlX3JlYWRfZmVfaW50
KHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwgaW50ICppdmFsKTsK
LWludCB4ZW5zdG9yZV9yZWFkX2ZlX3VpbnQ2NChzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNv
bnN0IGNoYXIgKm5vZGUsCitjaGFyICp4ZW5zdG9yZV9yZWFkX2ZlX3N0cihzdHJ1Y3QgWGVuTGVn
YWN5RGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUpOworaW50IHhlbnN0b3JlX3JlYWRf
ZmVfaW50KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9kZSwK
KyAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgKml2YWwpOworaW50IHhlbnN0b3JlX3JlYWRf
ZmVfdWludDY0KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwgY29uc3QgY2hhciAqbm9k
ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCAqdXZhbCk7CiAKLXZvaWQg
eGVuX2JlX2NoZWNrX3N0YXRlKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldik7Cit2b2lkIHhlbl9i
ZV9jaGVja19zdGF0ZShzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpOwogCiAvKiB4ZW4g
YmFja2VuZCBkcml2ZXIgYml0cyAqLwogaW50IHhlbl9iZV9pbml0KHZvaWQpOwogdm9pZCB4ZW5f
YmVfcmVnaXN0ZXJfY29tbW9uKHZvaWQpOwogaW50IHhlbl9iZV9yZWdpc3Rlcihjb25zdCBjaGFy
ICp0eXBlLCBzdHJ1Y3QgWGVuRGV2T3BzICpvcHMpOwotaW50IHhlbl9iZV9zZXRfc3RhdGUoc3Ry
dWN0IFhlbkRldmljZSAqeGVuZGV2LCBlbnVtIHhlbmJ1c19zdGF0ZSBzdGF0ZSk7Ci1pbnQgeGVu
X2JlX2JpbmRfZXZ0Y2huKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldik7Ci12b2lkIHhlbl9iZV9z
ZXRfbWF4X2dyYW50X3JlZnMoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2LAoraW50IHhlbl9iZV9z
ZXRfc3RhdGUoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2LCBlbnVtIHhlbmJ1c19zdGF0
ZSBzdGF0ZSk7CitpbnQgeGVuX2JlX2JpbmRfZXZ0Y2huKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2Ug
KnhlbmRldik7Cit2b2lkIHhlbl9iZV9zZXRfbWF4X2dyYW50X3JlZnMoc3RydWN0IFhlbkxlZ2Fj
eURldmljZSAqeGVuZGV2LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVk
IGludCBucl9yZWZzKTsKLXZvaWQgKnhlbl9iZV9tYXBfZ3JhbnRfcmVmcyhzdHJ1Y3QgWGVuRGV2
aWNlICp4ZW5kZXYsIHVpbnQzMl90ICpyZWZzLAordm9pZCAqeGVuX2JlX21hcF9ncmFudF9yZWZz
KHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwgdWludDMyX3QgKnJlZnMsCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IG5yX3JlZnMsIGludCBwcm90KTsKLXZv
aWQgeGVuX2JlX3VubWFwX2dyYW50X3JlZnMoc3RydWN0IFhlbkRldmljZSAqeGVuZGV2LCB2b2lk
ICpwdHIsCit2b2lkIHhlbl9iZV91bm1hcF9ncmFudF9yZWZzKHN0cnVjdCBYZW5MZWdhY3lEZXZp
Y2UgKnhlbmRldiwgdm9pZCAqcHRyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNp
Z25lZCBpbnQgbnJfcmVmcyk7CiAKIHR5cGVkZWYgc3RydWN0IFhlbkdyYW50Q29weVNlZ21lbnQg
ewpAQCAtNTksMTcgKzY0LDE3IEBAIHR5cGVkZWYgc3RydWN0IFhlbkdyYW50Q29weVNlZ21lbnQg
ewogICAgIHNpemVfdCBsZW47CiB9IFhlbkdyYW50Q29weVNlZ21lbnQ7CiAKLWludCB4ZW5fYmVf
Y29weV9ncmFudF9yZWZzKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwKK2ludCB4ZW5fYmVfY29w
eV9ncmFudF9yZWZzKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGJvb2wgdG9fZG9tYWluLCBYZW5HcmFudENvcHlTZWdtZW50IHNlZ3Nb
XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBucl9zZWdzKTsKIAot
c3RhdGljIGlubGluZSB2b2lkICp4ZW5fYmVfbWFwX2dyYW50X3JlZihzdHJ1Y3QgWGVuRGV2aWNl
ICp4ZW5kZXYsCitzdGF0aWMgaW5saW5lIHZvaWQgKnhlbl9iZV9tYXBfZ3JhbnRfcmVmKHN0cnVj
dCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdWludDMyX3QgcmVmLCBpbnQgcHJvdCkKIHsKICAgICByZXR1cm4geGVuX2Jl
X21hcF9ncmFudF9yZWZzKHhlbmRldiwgJnJlZiwgMSwgcHJvdCk7CiB9CiAKLXN0YXRpYyBpbmxp
bmUgdm9pZCB4ZW5fYmVfdW5tYXBfZ3JhbnRfcmVmKHN0cnVjdCBYZW5EZXZpY2UgKnhlbmRldiwK
K3N0YXRpYyBpbmxpbmUgdm9pZCB4ZW5fYmVfdW5tYXBfZ3JhbnRfcmVmKHN0cnVjdCBYZW5MZWdh
Y3lEZXZpY2UgKnhlbmRldiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHZvaWQgKnB0cikKIHsKICAgICByZXR1cm4geGVuX2JlX3VubWFwX2dyYW50X3JlZnMoeGVu
ZGV2LCBwdHIsIDEpOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9ody94ZW4veGVuX3B2ZGV2LmggYi9p
bmNsdWRlL2h3L3hlbi94ZW5fcHZkZXYuaAppbmRleCBkNDczZTliMzRkLi44M2U1MTc0ZDkwIDEw
MDY0NAotLS0gYS9pbmNsdWRlL2h3L3hlbi94ZW5fcHZkZXYuaAorKysgYi9pbmNsdWRlL2h3L3hl
bi94ZW5fcHZkZXYuaApAQCAtNiw3ICs2LDcgQEAKIAogI2RlZmluZSBYRU5fQlVGU0laRSAxMDI0
CiAKLXN0cnVjdCBYZW5EZXZpY2U7CitzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlOwogCiAvKiBkcml2
ZXIgdXNlcyBncmFudCB0YWJsZXMgIC0+ICBvcGVuIGdudGRldiBkZXZpY2UgKHhlbmRldi0+Z250
dGFiZGV2KSAqLwogI2RlZmluZSBERVZPUFNfRkxBR19ORUVEX0dOVERFViAgIDEKQEAgLTE2LDE5
ICsxNiwyMSBAQCBzdHJ1Y3QgWGVuRGV2aWNlOwogc3RydWN0IFhlbkRldk9wcyB7CiAgICAgc2l6
ZV90ICAgIHNpemU7CiAgICAgdWludDMyX3QgIGZsYWdzOwotICAgIHZvaWQgICAgICAoKmFsbG9j
KShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpOwotICAgIGludCAgICAgICAoKmluaXQpKHN0cnVj
dCBYZW5EZXZpY2UgKnhlbmRldik7Ci0gICAgaW50ICAgICAgICgqaW5pdGlhbGlzZSkoc3RydWN0
IFhlbkRldmljZSAqeGVuZGV2KTsKLSAgICB2b2lkICAgICAgKCpjb25uZWN0ZWQpKHN0cnVjdCBY
ZW5EZXZpY2UgKnhlbmRldik7Ci0gICAgdm9pZCAgICAgICgqZXZlbnQpKHN0cnVjdCBYZW5EZXZp
Y2UgKnhlbmRldik7Ci0gICAgdm9pZCAgICAgICgqZGlzY29ubmVjdCkoc3RydWN0IFhlbkRldmlj
ZSAqeGVuZGV2KTsKLSAgICBpbnQgICAgICAgKCpmcmVlKShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5k
ZXYpOwotICAgIHZvaWQgICAgICAoKmJhY2tlbmRfY2hhbmdlZCkoc3RydWN0IFhlbkRldmljZSAq
eGVuZGV2LCBjb25zdCBjaGFyICpub2RlKTsKLSAgICB2b2lkICAgICAgKCpmcm9udGVuZF9jaGFu
Z2VkKShzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYsIGNvbnN0IGNoYXIgKm5vZGUpOworICAgIHZv
aWQgICAgICAoKmFsbG9jKShzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpOworICAgIGlu
dCAgICAgICAoKmluaXQpKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldik7CisgICAgaW50
ICAgICAgICgqaW5pdGlhbGlzZSkoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVuZGV2KTsKKyAg
ICB2b2lkICAgICAgKCpjb25uZWN0ZWQpKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldik7
CisgICAgdm9pZCAgICAgICgqZXZlbnQpKHN0cnVjdCBYZW5MZWdhY3lEZXZpY2UgKnhlbmRldik7
CisgICAgdm9pZCAgICAgICgqZGlzY29ubmVjdCkoc3RydWN0IFhlbkxlZ2FjeURldmljZSAqeGVu
ZGV2KTsKKyAgICBpbnQgICAgICAgKCpmcmVlKShzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5k
ZXYpOworICAgIHZvaWQgICAgICAoKmJhY2tlbmRfY2hhbmdlZCkoc3RydWN0IFhlbkxlZ2FjeURl
dmljZSAqeGVuZGV2LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hh
ciAqbm9kZSk7CisgICAgdm9pZCAgICAgICgqZnJvbnRlbmRfY2hhbmdlZCkoc3RydWN0IFhlbkxl
Z2FjeURldmljZSAqeGVuZGV2LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnN0IGNoYXIgKm5vZGUpOwogICAgIGludCAgICAgICAoKmJhY2tlbmRfcmVnaXN0ZXIpKHZvaWQp
OwogfTsKIAotc3RydWN0IFhlbkRldmljZSB7CitzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlIHsKICAg
ICBEZXZpY2VTdGF0ZSAgICAgICAgcWRldjsKICAgICBjb25zdCBjaGFyICAgICAgICAgKnR5cGU7
CiAgICAgaW50ICAgICAgICAgICAgICAgIGRvbTsKQEAgLTQ5LDcgKzUxLDcgQEAgc3RydWN0IFhl
bkRldmljZSB7CiAgICAgeGVuZ250dGFiX2hhbmRsZSAgICpnbnR0YWJkZXY7CiAKICAgICBzdHJ1
Y3QgWGVuRGV2T3BzICAgKm9wczsKLSAgICBRVEFJTFFfRU5UUlkoWGVuRGV2aWNlKSBuZXh0Owor
ICAgIFFUQUlMUV9FTlRSWShYZW5MZWdhY3lEZXZpY2UpIG5leHQ7CiB9OwogCiAvKiAtLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICov
CkBAIC02NiwxNCArNjgsMTQgQEAgdm9pZCB4ZW5zdG9yZV91cGRhdGUodm9pZCAqdW51c2VkKTsK
IGNvbnN0IGNoYXIgKnhlbmJ1c19zdHJzdGF0ZShlbnVtIHhlbmJ1c19zdGF0ZSBzdGF0ZSk7CiAK
IHZvaWQgeGVuX3B2X2V2dGNobl9ldmVudCh2b2lkICpvcGFxdWUpOwotdm9pZCB4ZW5fcHZfaW5z
ZXJ0X3hlbmRldihzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpOwotdm9pZCB4ZW5fcHZfZGVsX3hl
bmRldihzdHJ1Y3QgWGVuRGV2aWNlICp4ZW5kZXYpOwotc3RydWN0IFhlbkRldmljZSAqeGVuX3B2
X2ZpbmRfeGVuZGV2KGNvbnN0IGNoYXIgKnR5cGUsIGludCBkb20sIGludCBkZXYpOwordm9pZCB4
ZW5fcHZfaW5zZXJ0X3hlbmRldihzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpOwordm9p
ZCB4ZW5fcHZfZGVsX3hlbmRldihzdHJ1Y3QgWGVuTGVnYWN5RGV2aWNlICp4ZW5kZXYpOworc3Ry
dWN0IFhlbkxlZ2FjeURldmljZSAqeGVuX3B2X2ZpbmRfeGVuZGV2KGNvbnN0IGNoYXIgKnR5cGUs
IGludCBkb20sIGludCBkZXYpOwogCi12b2lkIHhlbl9wdl91bmJpbmRfZXZ0Y2huKHN0cnVjdCBY
ZW5EZXZpY2UgKnhlbmRldik7Ci1pbnQgeGVuX3B2X3NlbmRfbm90aWZ5KHN0cnVjdCBYZW5EZXZp
Y2UgKnhlbmRldik7Cit2b2lkIHhlbl9wdl91bmJpbmRfZXZ0Y2huKHN0cnVjdCBYZW5MZWdhY3lE
ZXZpY2UgKnhlbmRldik7CitpbnQgeGVuX3B2X3NlbmRfbm90aWZ5KHN0cnVjdCBYZW5MZWdhY3lE
ZXZpY2UgKnhlbmRldik7CiAKLXZvaWQgeGVuX3B2X3ByaW50ZihzdHJ1Y3QgWGVuRGV2aWNlICp4
ZW5kZXYsIGludCBtc2dfbGV2ZWwsCit2b2lkIHhlbl9wdl9wcmludGYoc3RydWN0IFhlbkxlZ2Fj
eURldmljZSAqeGVuZGV2LCBpbnQgbXNnX2xldmVsLAogICAgICAgICAgICAgICAgICAgIGNvbnN0
IGNoYXIgKmZtdCwgLi4uKSAgR0NDX0ZNVF9BVFRSKDMsIDQpOwogCiAjZW5kaWYgLyogUUVNVV9I
V19YRU5fUFZERVZfSCAqLwotLSAKMi4xMS4wCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlz
dHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xp
c3RpbmZvL3hlbi1kZXZlbA==
